(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function l(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(c){if(c.ep)return;c.ep=!0;const h=l(c);fetch(c.href,h)}})();function ky(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var fu={exports:{}},us={};var tm;function Uy(){if(tm)return us;tm=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,c,h){var d=null;if(h!==void 0&&(d=""+h),c.key!==void 0&&(d=""+c.key),"key"in c){h={};for(var g in c)g!=="key"&&(h[g]=c[g])}else h=c;return c=h.ref,{$$typeof:s,type:r,key:d,ref:c!==void 0?c:null,props:h}}return us.Fragment=n,us.jsx=l,us.jsxs=l,us}var am;function zy(){return am||(am=1,fu.exports=Uy()),fu.exports}var v=zy(),mu={exports:{}},ue={};var nm;function My(){if(nm)return ue;nm=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),A=Symbol.iterator;function O(w){return w===null||typeof w!="object"?null:(w=A&&w[A]||w["@@iterator"],typeof w=="function"?w:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,z={};function k(w,Y,Z){this.props=w,this.context=Y,this.refs=z,this.updater=Z||x}k.prototype.isReactComponent={},k.prototype.setState=function(w,Y){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,Y,"setState")},k.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function H(){}H.prototype=k.prototype;function T(w,Y,Z){this.props=w,this.context=Y,this.refs=z,this.updater=Z||x}var V=T.prototype=new H;V.constructor=T,N(V,k.prototype),V.isPureReactComponent=!0;var I=Array.isArray;function R(){}var B={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function de(w,Y,Z){var W=Z.ref;return{$$typeof:s,type:w,key:Y,ref:W!==void 0?W:null,props:Z}}function Se(w,Y){return de(w.type,Y,w.props)}function Ae(w){return typeof w=="object"&&w!==null&&w.$$typeof===s}function Ee(w){var Y={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(Z){return Y[Z]})}var ze=/\/+/g;function Q(w,Y){return typeof w=="object"&&w!==null&&w.key!=null?Ee(""+w.key):Y.toString(36)}function fe(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(R,R):(w.status="pending",w.then(function(Y){w.status==="pending"&&(w.status="fulfilled",w.value=Y)},function(Y){w.status==="pending"&&(w.status="rejected",w.reason=Y)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function L(w,Y,Z,W,X){var ae=typeof w;(ae==="undefined"||ae==="boolean")&&(w=null);var oe=!1;if(w===null)oe=!0;else switch(ae){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(w.$$typeof){case s:case n:oe=!0;break;case b:return oe=w._init,L(oe(w._payload),Y,Z,W,X)}}if(oe)return X=X(w),oe=W===""?"."+Q(w,0):W,I(X)?(Z="",oe!=null&&(Z=oe.replace(ze,"$&/")+"/"),L(X,Y,Z,"",function(Xa){return Xa})):X!=null&&(Ae(X)&&(X=Se(X,Z+(X.key==null||w&&w.key===X.key?"":(""+X.key).replace(ze,"$&/")+"/")+oe)),Y.push(X)),1;oe=0;var qe=W===""?".":W+":";if(I(w))for(var we=0;we<w.length;we++)W=w[we],ae=qe+Q(W,we),oe+=L(W,Y,Z,ae,X);else if(we=O(w),typeof we=="function")for(w=we.call(w),we=0;!(W=w.next()).done;)W=W.value,ae=qe+Q(W,we++),oe+=L(W,Y,Z,ae,X);else if(ae==="object"){if(typeof w.then=="function")return L(fe(w),Y,Z,W,X);throw Y=String(w),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return oe}function J(w,Y,Z){if(w==null)return w;var W=[],X=0;return L(w,W,"","",function(ae){return Y.call(Z,ae,X++)}),W}function ne(w){if(w._status===-1){var Y=w._result;Y=Y(),Y.then(function(Z){(w._status===0||w._status===-1)&&(w._status=1,w._result=Z)},function(Z){(w._status===0||w._status===-1)&&(w._status=2,w._result=Z)}),w._status===-1&&(w._status=0,w._result=Y)}if(w._status===1)return w._result.default;throw w._result}var pe=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},Oe={map:J,forEach:function(w,Y,Z){J(w,function(){Y.apply(this,arguments)},Z)},count:function(w){var Y=0;return J(w,function(){Y++}),Y},toArray:function(w){return J(w,function(Y){return Y})||[]},only:function(w){if(!Ae(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return ue.Activity=S,ue.Children=Oe,ue.Component=k,ue.Fragment=l,ue.Profiler=c,ue.PureComponent=T,ue.StrictMode=r,ue.Suspense=m,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,ue.__COMPILER_RUNTIME={__proto__:null,c:function(w){return B.H.useMemoCache(w)}},ue.cache=function(w){return function(){return w.apply(null,arguments)}},ue.cacheSignal=function(){return null},ue.cloneElement=function(w,Y,Z){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var W=N({},w.props),X=w.key;if(Y!=null)for(ae in Y.key!==void 0&&(X=""+Y.key),Y)!P.call(Y,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&Y.ref===void 0||(W[ae]=Y[ae]);var ae=arguments.length-2;if(ae===1)W.children=Z;else if(1<ae){for(var oe=Array(ae),qe=0;qe<ae;qe++)oe[qe]=arguments[qe+2];W.children=oe}return de(w.type,X,W)},ue.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:h,_context:w},w},ue.createElement=function(w,Y,Z){var W,X={},ae=null;if(Y!=null)for(W in Y.key!==void 0&&(ae=""+Y.key),Y)P.call(Y,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(X[W]=Y[W]);var oe=arguments.length-2;if(oe===1)X.children=Z;else if(1<oe){for(var qe=Array(oe),we=0;we<oe;we++)qe[we]=arguments[we+2];X.children=qe}if(w&&w.defaultProps)for(W in oe=w.defaultProps,oe)X[W]===void 0&&(X[W]=oe[W]);return de(w,ae,X)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(w){return{$$typeof:g,render:w}},ue.isValidElement=Ae,ue.lazy=function(w){return{$$typeof:b,_payload:{_status:-1,_result:w},_init:ne}},ue.memo=function(w,Y){return{$$typeof:y,type:w,compare:Y===void 0?null:Y}},ue.startTransition=function(w){var Y=B.T,Z={};B.T=Z;try{var W=w(),X=B.S;X!==null&&X(Z,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(R,pe)}catch(ae){pe(ae)}finally{Y!==null&&Z.types!==null&&(Y.types=Z.types),B.T=Y}},ue.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},ue.use=function(w){return B.H.use(w)},ue.useActionState=function(w,Y,Z){return B.H.useActionState(w,Y,Z)},ue.useCallback=function(w,Y){return B.H.useCallback(w,Y)},ue.useContext=function(w){return B.H.useContext(w)},ue.useDebugValue=function(){},ue.useDeferredValue=function(w,Y){return B.H.useDeferredValue(w,Y)},ue.useEffect=function(w,Y){return B.H.useEffect(w,Y)},ue.useEffectEvent=function(w){return B.H.useEffectEvent(w)},ue.useId=function(){return B.H.useId()},ue.useImperativeHandle=function(w,Y,Z){return B.H.useImperativeHandle(w,Y,Z)},ue.useInsertionEffect=function(w,Y){return B.H.useInsertionEffect(w,Y)},ue.useLayoutEffect=function(w,Y){return B.H.useLayoutEffect(w,Y)},ue.useMemo=function(w,Y){return B.H.useMemo(w,Y)},ue.useOptimistic=function(w,Y){return B.H.useOptimistic(w,Y)},ue.useReducer=function(w,Y,Z){return B.H.useReducer(w,Y,Z)},ue.useRef=function(w){return B.H.useRef(w)},ue.useState=function(w){return B.H.useState(w)},ue.useSyncExternalStore=function(w,Y,Z){return B.H.useSyncExternalStore(w,Y,Z)},ue.useTransition=function(){return B.H.useTransition()},ue.version="19.2.3",ue}var im;function Xu(){return im||(im=1,mu.exports=My()),mu.exports}var $=Xu();const Ly=ky($);var vu={exports:{}},cs={},gu={exports:{}},yu={};var sm;function By(){return sm||(sm=1,(function(s){function n(L,J){var ne=L.length;L.push(J);e:for(;0<ne;){var pe=ne-1>>>1,Oe=L[pe];if(0<c(Oe,J))L[pe]=J,L[ne]=Oe,ne=pe;else break e}}function l(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var J=L[0],ne=L.pop();if(ne!==J){L[0]=ne;e:for(var pe=0,Oe=L.length,w=Oe>>>1;pe<w;){var Y=2*(pe+1)-1,Z=L[Y],W=Y+1,X=L[W];if(0>c(Z,ne))W<Oe&&0>c(X,Z)?(L[pe]=X,L[W]=ne,pe=W):(L[pe]=Z,L[Y]=ne,pe=Y);else if(W<Oe&&0>c(X,ne))L[pe]=X,L[W]=ne,pe=W;else break e}}return J}function c(L,J){var ne=L.sortIndex-J.sortIndex;return ne!==0?ne:L.id-J.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var m=[],y=[],b=1,S=null,A=3,O=!1,x=!1,N=!1,z=!1,k=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function V(L){for(var J=l(y);J!==null;){if(J.callback===null)r(y);else if(J.startTime<=L)r(y),J.sortIndex=J.expirationTime,n(m,J);else break;J=l(y)}}function I(L){if(N=!1,V(L),!x)if(l(m)!==null)x=!0,R||(R=!0,Ee());else{var J=l(y);J!==null&&fe(I,J.startTime-L)}}var R=!1,B=-1,P=5,de=-1;function Se(){return z?!0:!(s.unstable_now()-de<P)}function Ae(){if(z=!1,R){var L=s.unstable_now();de=L;var J=!0;try{e:{x=!1,N&&(N=!1,H(B),B=-1),O=!0;var ne=A;try{t:{for(V(L),S=l(m);S!==null&&!(S.expirationTime>L&&Se());){var pe=S.callback;if(typeof pe=="function"){S.callback=null,A=S.priorityLevel;var Oe=pe(S.expirationTime<=L);if(L=s.unstable_now(),typeof Oe=="function"){S.callback=Oe,V(L),J=!0;break t}S===l(m)&&r(m),V(L)}else r(m);S=l(m)}if(S!==null)J=!0;else{var w=l(y);w!==null&&fe(I,w.startTime-L),J=!1}}break e}finally{S=null,A=ne,O=!1}J=void 0}}finally{J?Ee():R=!1}}}var Ee;if(typeof T=="function")Ee=function(){T(Ae)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,Q=ze.port2;ze.port1.onmessage=Ae,Ee=function(){Q.postMessage(null)}}else Ee=function(){k(Ae,0)};function fe(L,J){B=k(function(){L(s.unstable_now())},J)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(L){L.callback=null},s.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},s.unstable_getCurrentPriorityLevel=function(){return A},s.unstable_next=function(L){switch(A){case 1:case 2:case 3:var J=3;break;default:J=A}var ne=A;A=J;try{return L()}finally{A=ne}},s.unstable_requestPaint=function(){z=!0},s.unstable_runWithPriority=function(L,J){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ne=A;A=L;try{return J()}finally{A=ne}},s.unstable_scheduleCallback=function(L,J,ne){var pe=s.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?pe+ne:pe):ne=pe,L){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=ne+Oe,L={id:b++,callback:J,priorityLevel:L,startTime:ne,expirationTime:Oe,sortIndex:-1},ne>pe?(L.sortIndex=ne,n(y,L),l(m)===null&&L===l(y)&&(N?(H(B),B=-1):N=!0,fe(I,ne-pe))):(L.sortIndex=Oe,n(m,L),x||O||(x=!0,R||(R=!0,Ee()))),L},s.unstable_shouldYield=Se,s.unstable_wrapCallback=function(L){var J=A;return function(){var ne=A;A=J;try{return L.apply(this,arguments)}finally{A=ne}}}})(yu)),yu}var lm;function qy(){return lm||(lm=1,gu.exports=By()),gu.exports}var pu={exports:{}},ht={};var rm;function Hy(){if(rm)return ht;rm=1;var s=Xu();function n(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function h(m,y,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:S==null?null:""+S,children:m,containerInfo:y,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ht.createPortal=function(m,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return h(m,y,null,b)},ht.flushSync=function(m){var y=d.T,b=r.p;try{if(d.T=null,r.p=2,m)return m()}finally{d.T=y,r.p=b,r.d.f()}},ht.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(m,y))},ht.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},ht.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var b=y.as,S=g(b,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?r.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:A,fetchPriority:O}):b==="script"&&r.d.X(m,{crossOrigin:S,integrity:A,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ht.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);r.d.M(m,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(m)},ht.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,S=g(b,y.crossOrigin);r.d.L(m,b,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ht.preloadModule=function(m,y){if(typeof m=="string")if(y){var b=g(y.as,y.crossOrigin);r.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(m)},ht.requestFormReset=function(m){r.d.r(m)},ht.unstable_batchedUpdates=function(m,y){return m(y)},ht.useFormState=function(m,y,b){return d.H.useFormState(m,y,b)},ht.useFormStatus=function(){return d.H.useHostTransitionStatus()},ht.version="19.2.3",ht}var om;function Gy(){if(om)return pu.exports;om=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),pu.exports=Hy(),pu.exports}var um;function $y(){if(um)return cs;um=1;var s=qy(),n=Xu(),l=Gy();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(h(e)!==e)throw Error(r(188))}function y(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,i=t;;){var o=a.return;if(o===null)break;var u=o.alternate;if(u===null){if(i=o.return,i!==null){a=i;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===a)return m(o),e;if(u===i)return m(o),t;u=u.sibling}throw Error(r(188))}if(a.return!==i.return)a=o,i=u;else{for(var f=!1,p=o.child;p;){if(p===a){f=!0,a=o,i=u;break}if(p===i){f=!0,i=o,a=u;break}p=p.sibling}if(!f){for(p=u.child;p;){if(p===a){f=!0,a=u,i=o;break}if(p===i){f=!0,i=u,a=o;break}p=p.sibling}if(!f)throw Error(r(189))}}if(a.alternate!==i)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,A=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),T=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),de=Symbol.for("react.activity"),Se=Symbol.for("react.memo_cache_sentinel"),Ae=Symbol.iterator;function Ee(e){return e===null||typeof e!="object"?null:(e=Ae&&e[Ae]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Symbol.for("react.client.reference");function Q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ze?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case k:return"Profiler";case z:return"StrictMode";case I:return"Suspense";case R:return"SuspenseList";case de:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case T:return e.displayName||"Context";case H:return(e._context.displayName||"Context")+".Consumer";case V:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return t=e.displayName||null,t!==null?t:Q(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return Q(e(t))}catch{}}return null}var fe=Array.isArray,L=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},pe=[],Oe=-1;function w(e){return{current:e}}function Y(e){0>Oe||(e.current=pe[Oe],pe[Oe]=null,Oe--)}function Z(e,t){Oe++,pe[Oe]=e.current,e.current=t}var W=w(null),X=w(null),ae=w(null),oe=w(null);function qe(e,t){switch(Z(ae,t),Z(X,e),Z(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Tf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Tf(t),e=xf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(W),Z(W,e)}function we(){Y(W),Y(X),Y(ae)}function Xa(e){e.memoizedState!==null&&Z(oe,e);var t=W.current,a=xf(t,e.type);t!==a&&(Z(X,e),Z(W,a))}function ba(e){X.current===e&&(Y(W),Y(X)),oe.current===e&&(Y(oe),ss._currentValue=ne)}var Ql,Fu;function Qa(e){if(Ql===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Ql=t&&t[1]||"",Fu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ql+e+Fu}var Jl=!1;function Zl(e,t){if(!e||Jl)return"";Jl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(M){var U=M}Reflect.construct(e,[],K)}else{try{K.call()}catch(M){U=M}e.call(K.prototype)}}else{try{throw Error()}catch(M){U=M}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(M){if(M&&U&&typeof M.stack=="string")return[M.stack,U.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=i.DetermineComponentFrameRoot(),f=u[0],p=u[1];if(f&&p){var _=f.split(`
`),D=p.split(`
`);for(o=i=0;i<_.length&&!_[i].includes("DetermineComponentFrameRoot");)i++;for(;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;if(i===_.length||o===D.length)for(i=_.length-1,o=D.length-1;1<=i&&0<=o&&_[i]!==D[o];)o--;for(;1<=i&&0<=o;i--,o--)if(_[i]!==D[o]){if(i!==1||o!==1)do if(i--,o--,0>o||_[i]!==D[o]){var q=`
`+_[i].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=i&&0<=o);break}}}finally{Jl=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Qa(a):""}function cv(e,t){switch(e.tag){case 26:case 27:case 5:return Qa(e.type);case 16:return Qa("Lazy");case 13:return e.child!==t&&t!==null?Qa("Suspense Fallback"):Qa("Suspense");case 19:return Qa("SuspenseList");case 0:case 15:return Zl(e.type,!1);case 11:return Zl(e.type.render,!1);case 1:return Zl(e.type,!0);case 31:return Qa("Activity");default:return""}}function ec(e){try{var t="",a=null;do t+=cv(e,a),a=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Pl=Object.prototype.hasOwnProperty,Wl=s.unstable_scheduleCallback,Fl=s.unstable_cancelCallback,hv=s.unstable_shouldYield,dv=s.unstable_requestPaint,_t=s.unstable_now,fv=s.unstable_getCurrentPriorityLevel,tc=s.unstable_ImmediatePriority,ac=s.unstable_UserBlockingPriority,ws=s.unstable_NormalPriority,mv=s.unstable_LowPriority,nc=s.unstable_IdlePriority,vv=s.log,gv=s.unstable_setDisableYieldValue,yi=null,wt=null;function _a(e){if(typeof vv=="function"&&gv(e),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(yi,e)}catch{}}var St=Math.clz32?Math.clz32:bv,yv=Math.log,pv=Math.LN2;function bv(e){return e>>>=0,e===0?32:31-(yv(e)/pv|0)|0}var Ss=256,Es=262144,Ts=4194304;function Ja(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xs(e,t,a){var i=e.pendingLanes;if(i===0)return 0;var o=0,u=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var p=i&134217727;return p!==0?(i=p&~u,i!==0?o=Ja(i):(f&=p,f!==0?o=Ja(f):a||(a=p&~e,a!==0&&(o=Ja(a))))):(p=i&~u,p!==0?o=Ja(p):f!==0?o=Ja(f):a||(a=i&~e,a!==0&&(o=Ja(a)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:o}function pi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function _v(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ic(){var e=Ts;return Ts<<=1,(Ts&62914560)===0&&(Ts=4194304),e}function er(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function bi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function wv(e,t,a,i,o,u){var f=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var p=e.entanglements,_=e.expirationTimes,D=e.hiddenUpdates;for(a=f&~a;0<a;){var q=31-St(a),K=1<<q;p[q]=0,_[q]=-1;var U=D[q];if(U!==null)for(D[q]=null,q=0;q<U.length;q++){var M=U[q];M!==null&&(M.lane&=-536870913)}a&=~K}i!==0&&sc(e,i,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(f&~t))}function sc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-St(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|a&261930}function lc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var i=31-St(a),o=1<<i;o&t|e[i]&t&&(e[i]|=t),a&=~o}}function rc(e,t){var a=t&-t;return a=(a&42)!==0?1:tr(a),(a&(e.suspendedLanes|t))!==0?0:a}function tr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ar(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function oc(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Qf(e.type))}function uc(e,t){var a=J.p;try{return J.p=e,t()}finally{J.p=a}}var wa=Math.random().toString(36).slice(2),nt="__reactFiber$"+wa,ft="__reactProps$"+wa,wn="__reactContainer$"+wa,nr="__reactEvents$"+wa,Sv="__reactListeners$"+wa,Ev="__reactHandles$"+wa,cc="__reactResources$"+wa,_i="__reactMarker$"+wa;function ir(e){delete e[nt],delete e[ft],delete e[nr],delete e[Sv],delete e[Ev]}function Sn(e){var t=e[nt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[wn]||a[nt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Df(e);e!==null;){if(a=e[nt])return a;e=Df(e)}return t}e=a,a=e.parentNode}return null}function En(e){if(e=e[nt]||e[wn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function wi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Tn(e){var t=e[cc];return t||(t=e[cc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function tt(e){e[_i]=!0}var hc=new Set,dc={};function Za(e,t){xn(e,t),xn(e+"Capture",t)}function xn(e,t){for(dc[e]=t,e=0;e<t.length;e++)hc.add(t[e])}var Tv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fc={},mc={};function xv(e){return Pl.call(mc,e)?!0:Pl.call(fc,e)?!1:Tv.test(e)?mc[e]=!0:(fc[e]=!0,!1)}function As(e,t,a){if(xv(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Os(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Ft(e,t,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+i)}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Av(e,t,a){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,u=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(f){a=""+f,u.call(this,f)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(f){a=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sr(e){if(!e._valueTracker){var t=vc(e)?"checked":"value";e._valueTracker=Av(e,t,""+e[t])}}function gc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),i="";return e&&(i=vc(e)?e.checked?"true":"false":e.value),e=i,e!==a?(t.setValue(e),!0):!1}function js(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ov=/[\n"\\]/g;function Ut(e){return e.replace(Ov,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function lr(e,t,a,i,o,u,f,p){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+kt(t)):e.value!==""+kt(t)&&(e.value=""+kt(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?rr(e,f,kt(t)):a!=null?rr(e,f,kt(a)):i!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+kt(p):e.removeAttribute("name")}function yc(e,t,a,i,o,u,f,p){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){sr(e);return}a=a!=null?""+kt(a):"",t=t!=null?""+kt(t):a,p||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=p?e.checked:!!i,e.defaultChecked=!!i,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),sr(e)}function rr(e,t,a){t==="number"&&js(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function An(e,t,a,i){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&i&&(e[a].defaultSelected=!0)}else{for(a=""+kt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function pc(e,t,a){if(t!=null&&(t=""+kt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+kt(a):""}function bc(e,t,a,i){if(t==null){if(i!=null){if(a!=null)throw Error(r(92));if(fe(i)){if(1<i.length)throw Error(r(93));i=i[0]}a=i}a==null&&(a=""),t=a}a=kt(t),e.defaultValue=a,i=e.textContent,i===a&&i!==""&&i!==null&&(e.value=i),sr(e)}function On(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var jv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _c(e,t,a){var i=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,a):typeof a!="number"||a===0||jv.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function wc(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&a[o]!==i&&_c(e,o,i)}else for(var u in t)t.hasOwnProperty(u)&&_c(e,u,t[u])}function or(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ns(e){return Rv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ea(){}var ur=null;function cr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jn=null,Nn=null;function Sc(e){var t=En(e);if(t&&(e=t.stateNode)){var a=e[ft]||null;e:switch(e=t.stateNode,t.type){case"input":if(lr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ut(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var i=a[t];if(i!==e&&i.form===e.form){var o=i[ft]||null;if(!o)throw Error(r(90));lr(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)i=a[t],i.form===e.form&&gc(i)}break e;case"textarea":pc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&An(e,!!a.multiple,t,!1)}}}var hr=!1;function Ec(e,t,a){if(hr)return e(t,a);hr=!0;try{var i=e(t);return i}finally{if(hr=!1,(jn!==null||Nn!==null)&&(gl(),jn&&(t=jn,e=Nn,Nn=jn=null,Sc(t),e)))for(t=0;t<e.length;t++)Sc(e[t])}}function Si(e,t){var a=e.stateNode;if(a===null)return null;var i=a[ft]||null;if(i===null)return null;a=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dr=!1;if(ta)try{var Ei={};Object.defineProperty(Ei,"passive",{get:function(){dr=!0}}),window.addEventListener("test",Ei,Ei),window.removeEventListener("test",Ei,Ei)}catch{dr=!1}var Sa=null,fr=null,Rs=null;function Tc(){if(Rs)return Rs;var e,t=fr,a=t.length,i,o="value"in Sa?Sa.value:Sa.textContent,u=o.length;for(e=0;e<a&&t[e]===o[e];e++);var f=a-e;for(i=1;i<=f&&t[a-i]===o[u-i];i++);return Rs=o.slice(e,1<i?1-i:void 0)}function Cs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ds(){return!0}function xc(){return!1}function mt(e){function t(a,i,o,u,f){this._reactName=a,this._targetInst=o,this.type=i,this.nativeEvent=u,this.target=f,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(a=e[p],this[p]=a?a(u):u[p]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Ds:xc,this.isPropagationStopped=xc,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),t}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ks=mt(Pa),Ti=S({},Pa,{view:0,detail:0}),Cv=mt(Ti),mr,vr,xi,Us=S({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xi&&(xi&&e.type==="mousemove"?(mr=e.screenX-xi.screenX,vr=e.screenY-xi.screenY):vr=mr=0,xi=e),mr)},movementY:function(e){return"movementY"in e?e.movementY:vr}}),Ac=mt(Us),Dv=S({},Us,{dataTransfer:0}),kv=mt(Dv),Uv=S({},Ti,{relatedTarget:0}),gr=mt(Uv),zv=S({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),Mv=mt(zv),Lv=S({},Pa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bv=mt(Lv),qv=S({},Pa,{data:0}),Oc=mt(qv),Hv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$v={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$v[e])?!!t[e]:!1}function yr(){return Vv}var Yv=S({},Ti,{key:function(e){if(e.key){var t=Hv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yr,charCode:function(e){return e.type==="keypress"?Cs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kv=mt(Yv),Iv=S({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jc=mt(Iv),Xv=S({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yr}),Qv=mt(Xv),Jv=S({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zv=mt(Jv),Pv=S({},Us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wv=mt(Pv),Fv=S({},Pa,{newState:0,oldState:0}),eg=mt(Fv),tg=[9,13,27,32],pr=ta&&"CompositionEvent"in window,Ai=null;ta&&"documentMode"in document&&(Ai=document.documentMode);var ag=ta&&"TextEvent"in window&&!Ai,Nc=ta&&(!pr||Ai&&8<Ai&&11>=Ai),Rc=" ",Cc=!1;function Dc(e,t){switch(e){case"keyup":return tg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rn=!1;function ng(e,t){switch(e){case"compositionend":return kc(t);case"keypress":return t.which!==32?null:(Cc=!0,Rc);case"textInput":return e=t.data,e===Rc&&Cc?null:e;default:return null}}function ig(e,t){if(Rn)return e==="compositionend"||!pr&&Dc(e,t)?(e=Tc(),Rs=fr=Sa=null,Rn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nc&&t.locale!=="ko"?null:t.data;default:return null}}var sg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sg[e.type]:t==="textarea"}function zc(e,t,a,i){jn?Nn?Nn.push(i):Nn=[i]:jn=i,t=El(t,"onChange"),0<t.length&&(a=new ks("onChange","change",null,a,i),e.push({event:a,listeners:t}))}var Oi=null,ji=null;function lg(e){pf(e,0)}function zs(e){var t=wi(e);if(gc(t))return e}function Mc(e,t){if(e==="change")return t}var Lc=!1;if(ta){var br;if(ta){var _r="oninput"in document;if(!_r){var Bc=document.createElement("div");Bc.setAttribute("oninput","return;"),_r=typeof Bc.oninput=="function"}br=_r}else br=!1;Lc=br&&(!document.documentMode||9<document.documentMode)}function qc(){Oi&&(Oi.detachEvent("onpropertychange",Hc),ji=Oi=null)}function Hc(e){if(e.propertyName==="value"&&zs(ji)){var t=[];zc(t,ji,e,cr(e)),Ec(lg,t)}}function rg(e,t,a){e==="focusin"?(qc(),Oi=t,ji=a,Oi.attachEvent("onpropertychange",Hc)):e==="focusout"&&qc()}function og(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zs(ji)}function ug(e,t){if(e==="click")return zs(t)}function cg(e,t){if(e==="input"||e==="change")return zs(t)}function hg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:hg;function Ni(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var o=a[i];if(!Pl.call(t,o)||!Et(e[o],t[o]))return!1}return!0}function Gc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $c(e,t){var a=Gc(e);e=0;for(var i;a;){if(a.nodeType===3){if(i=e+a.textContent.length,e<=t&&i>=t)return{node:a,offset:t-e};e=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Gc(a)}}function Vc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=js(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=js(e.document)}return t}function wr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var dg=ta&&"documentMode"in document&&11>=document.documentMode,Cn=null,Sr=null,Ri=null,Er=!1;function Kc(e,t,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Er||Cn==null||Cn!==js(i)||(i=Cn,"selectionStart"in i&&wr(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ri&&Ni(Ri,i)||(Ri=i,i=El(Sr,"onSelect"),0<i.length&&(t=new ks("onSelect","select",null,t,a),e.push({event:t,listeners:i}),t.target=Cn)))}function Wa(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Dn={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionrun:Wa("Transition","TransitionRun"),transitionstart:Wa("Transition","TransitionStart"),transitioncancel:Wa("Transition","TransitionCancel"),transitionend:Wa("Transition","TransitionEnd")},Tr={},Ic={};ta&&(Ic=document.createElement("div").style,"AnimationEvent"in window||(delete Dn.animationend.animation,delete Dn.animationiteration.animation,delete Dn.animationstart.animation),"TransitionEvent"in window||delete Dn.transitionend.transition);function Fa(e){if(Tr[e])return Tr[e];if(!Dn[e])return e;var t=Dn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Ic)return Tr[e]=t[a];return e}var Xc=Fa("animationend"),Qc=Fa("animationiteration"),Jc=Fa("animationstart"),fg=Fa("transitionrun"),mg=Fa("transitionstart"),vg=Fa("transitioncancel"),Zc=Fa("transitionend"),Pc=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xr.push("scrollEnd");function Vt(e,t){Pc.set(e,t),Za(t,[e])}var Ms=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zt=[],kn=0,Ar=0;function Ls(){for(var e=kn,t=Ar=kn=0;t<e;){var a=zt[t];zt[t++]=null;var i=zt[t];zt[t++]=null;var o=zt[t];zt[t++]=null;var u=zt[t];if(zt[t++]=null,i!==null&&o!==null){var f=i.pending;f===null?o.next=o:(o.next=f.next,f.next=o),i.pending=o}u!==0&&Wc(a,o,u)}}function Bs(e,t,a,i){zt[kn++]=e,zt[kn++]=t,zt[kn++]=a,zt[kn++]=i,Ar|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Or(e,t,a,i){return Bs(e,t,a,i),qs(e)}function en(e,t){return Bs(e,null,null,t),qs(e)}function Wc(e,t,a){e.lanes|=a;var i=e.alternate;i!==null&&(i.lanes|=a);for(var o=!1,u=e.return;u!==null;)u.childLanes|=a,i=u.alternate,i!==null&&(i.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-St(a),e=u.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=a|536870912),u):null}function qs(e){if(50<Wi)throw Wi=0,Lo=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Un={};function gg(e,t,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,a,i){return new gg(e,t,a,i)}function jr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aa(e,t){var a=e.alternate;return a===null?(a=Tt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Fc(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hs(e,t,a,i,o,u){var f=0;if(i=e,typeof e=="function")jr(e)&&(f=1);else if(typeof e=="string")f=wy(e,a,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case de:return e=Tt(31,a,t,o),e.elementType=de,e.lanes=u,e;case N:return tn(a.children,o,u,t);case z:f=8,o|=24;break;case k:return e=Tt(12,a,t,o|2),e.elementType=k,e.lanes=u,e;case I:return e=Tt(13,a,t,o),e.elementType=I,e.lanes=u,e;case R:return e=Tt(19,a,t,o),e.elementType=R,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:f=10;break e;case H:f=9;break e;case V:f=11;break e;case B:f=14;break e;case P:f=16,i=null;break e}f=29,a=Error(r(130,e===null?"null":typeof e,"")),i=null}return t=Tt(f,a,t,o),t.elementType=e,t.type=i,t.lanes=u,t}function tn(e,t,a,i){return e=Tt(7,e,i,t),e.lanes=a,e}function Nr(e,t,a){return e=Tt(6,e,null,t),e.lanes=a,e}function eh(e){var t=Tt(18,null,null,0);return t.stateNode=e,t}function Rr(e,t,a){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var th=new WeakMap;function Mt(e,t){if(typeof e=="object"&&e!==null){var a=th.get(e);return a!==void 0?a:(t={value:e,source:t,stack:ec(t)},th.set(e,t),t)}return{value:e,source:t,stack:ec(t)}}var zn=[],Mn=0,Gs=null,Ci=0,Lt=[],Bt=0,Ea=null,Jt=1,Zt="";function na(e,t){zn[Mn++]=Ci,zn[Mn++]=Gs,Gs=e,Ci=t}function ah(e,t,a){Lt[Bt++]=Jt,Lt[Bt++]=Zt,Lt[Bt++]=Ea,Ea=e;var i=Jt;e=Zt;var o=32-St(i)-1;i&=~(1<<o),a+=1;var u=32-St(t)+o;if(30<u){var f=o-o%5;u=(i&(1<<f)-1).toString(32),i>>=f,o-=f,Jt=1<<32-St(t)+o|a<<o|i,Zt=u+e}else Jt=1<<u|a<<o|i,Zt=e}function Cr(e){e.return!==null&&(na(e,1),ah(e,1,0))}function Dr(e){for(;e===Gs;)Gs=zn[--Mn],zn[Mn]=null,Ci=zn[--Mn],zn[Mn]=null;for(;e===Ea;)Ea=Lt[--Bt],Lt[Bt]=null,Zt=Lt[--Bt],Lt[Bt]=null,Jt=Lt[--Bt],Lt[Bt]=null}function nh(e,t){Lt[Bt++]=Jt,Lt[Bt++]=Zt,Lt[Bt++]=Ea,Jt=t.id,Zt=t.overflow,Ea=e}var it=null,Le=null,be=!1,Ta=null,qt=!1,kr=Error(r(519));function xa(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Di(Mt(t,e)),kr}function ih(e){var t=e.stateNode,a=e.type,i=e.memoizedProps;switch(t[nt]=e,t[ft]=i,a){case"dialog":ve("cancel",t),ve("close",t);break;case"iframe":case"object":case"embed":ve("load",t);break;case"video":case"audio":for(a=0;a<es.length;a++)ve(es[a],t);break;case"source":ve("error",t);break;case"img":case"image":case"link":ve("error",t),ve("load",t);break;case"details":ve("toggle",t);break;case"input":ve("invalid",t),yc(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ve("invalid",t);break;case"textarea":ve("invalid",t),bc(t,i.value,i.defaultValue,i.children)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||i.suppressHydrationWarning===!0||Sf(t.textContent,a)?(i.popover!=null&&(ve("beforetoggle",t),ve("toggle",t)),i.onScroll!=null&&ve("scroll",t),i.onScrollEnd!=null&&ve("scrollend",t),i.onClick!=null&&(t.onclick=ea),t=!0):t=!1,t||xa(e,!0)}function sh(e){for(it=e.return;it;)switch(it.tag){case 5:case 31:case 13:qt=!1;return;case 27:case 3:qt=!0;return;default:it=it.return}}function Ln(e){if(e!==it)return!1;if(!be)return sh(e),be=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Wo(e.type,e.memoizedProps)),a=!a),a&&Le&&xa(e),sh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Le=Cf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Le=Cf(e)}else t===27?(t=Le,qa(e.type)?(e=nu,nu=null,Le=e):Le=t):Le=it?Gt(e.stateNode.nextSibling):null;return!0}function an(){Le=it=null,be=!1}function Ur(){var e=Ta;return e!==null&&(pt===null?pt=e:pt.push.apply(pt,e),Ta=null),e}function Di(e){Ta===null?Ta=[e]:Ta.push(e)}var zr=w(null),nn=null,ia=null;function Aa(e,t,a){Z(zr,t._currentValue),t._currentValue=a}function sa(e){e._currentValue=zr.current,Y(zr)}function Mr(e,t,a){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===a)break;e=e.return}}function Lr(e,t,a,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var f=o.child;u=u.firstContext;e:for(;u!==null;){var p=u;u=o;for(var _=0;_<t.length;_++)if(p.context===t[_]){u.lanes|=a,p=u.alternate,p!==null&&(p.lanes|=a),Mr(u.return,a,e),i||(f=null);break e}u=p.next}}else if(o.tag===18){if(f=o.return,f===null)throw Error(r(341));f.lanes|=a,u=f.alternate,u!==null&&(u.lanes|=a),Mr(f,a,e),f=null}else f=o.child;if(f!==null)f.return=o;else for(f=o;f!==null;){if(f===e){f=null;break}if(o=f.sibling,o!==null){o.return=f.return,f=o;break}f=f.return}o=f}}function Bn(e,t,a,i){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var f=o.alternate;if(f===null)throw Error(r(387));if(f=f.memoizedProps,f!==null){var p=o.type;Et(o.pendingProps.value,f.value)||(e!==null?e.push(p):e=[p])}}else if(o===oe.current){if(f=o.alternate,f===null)throw Error(r(387));f.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(ss):e=[ss])}o=o.return}e!==null&&Lr(t,e,a,i),t.flags|=262144}function $s(e){for(e=e.firstContext;e!==null;){if(!Et(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function sn(e){nn=e,ia=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function st(e){return lh(nn,e)}function Vs(e,t){return nn===null&&sn(e),lh(e,t)}function lh(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ia===null){if(e===null)throw Error(r(308));ia=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ia=ia.next=t;return a}var yg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},pg=s.unstable_scheduleCallback,bg=s.unstable_NormalPriority,Qe={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Br(){return{controller:new yg,data:new Map,refCount:0}}function ki(e){e.refCount--,e.refCount===0&&pg(bg,function(){e.controller.abort()})}var Ui=null,qr=0,qn=0,Hn=null;function _g(e,t){if(Ui===null){var a=Ui=[];qr=0,qn=Vo(),Hn={status:"pending",value:void 0,then:function(i){a.push(i)}}}return qr++,t.then(rh,rh),t}function rh(){if(--qr===0&&Ui!==null){Hn!==null&&(Hn.status="fulfilled");var e=Ui;Ui=null,qn=0,Hn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function wg(e,t){var a=[],i={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),i}var oh=L.S;L.S=function(e,t){Kd=_t(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&_g(e,t),oh!==null&&oh(e,t)};var ln=w(null);function Hr(){var e=ln.current;return e!==null?e:Ue.pooledCache}function Ys(e,t){t===null?Z(ln,ln.current):Z(ln,t.pool)}function uh(){var e=Hr();return e===null?null:{parent:Qe._currentValue,pool:e}}var Gn=Error(r(460)),Gr=Error(r(474)),Ks=Error(r(542)),Is={then:function(){}};function ch(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hh(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ea,ea),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,fh(e),e;default:if(typeof t.status=="string")t.then(ea,ea);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,fh(e),e}throw on=t,Gn}}function rn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(on=a,Gn):a}}var on=null;function dh(){if(on===null)throw Error(r(459));var e=on;return on=null,e}function fh(e){if(e===Gn||e===Ks)throw Error(r(483))}var $n=null,zi=0;function Xs(e){var t=zi;return zi+=1,$n===null&&($n=[]),hh($n,e,t)}function Mi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Qs(e,t){throw t.$$typeof===A?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function mh(e){function t(j,E){if(e){var C=j.deletions;C===null?(j.deletions=[E],j.flags|=16):C.push(E)}}function a(j,E){if(!e)return null;for(;E!==null;)t(j,E),E=E.sibling;return null}function i(j){for(var E=new Map;j!==null;)j.key!==null?E.set(j.key,j):E.set(j.index,j),j=j.sibling;return E}function o(j,E){return j=aa(j,E),j.index=0,j.sibling=null,j}function u(j,E,C){return j.index=C,e?(C=j.alternate,C!==null?(C=C.index,C<E?(j.flags|=67108866,E):C):(j.flags|=67108866,E)):(j.flags|=1048576,E)}function f(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function p(j,E,C,G){return E===null||E.tag!==6?(E=Nr(C,j.mode,G),E.return=j,E):(E=o(E,C),E.return=j,E)}function _(j,E,C,G){var ie=C.type;return ie===N?q(j,E,C.props.children,G,C.key):E!==null&&(E.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===P&&rn(ie)===E.type)?(E=o(E,C.props),Mi(E,C),E.return=j,E):(E=Hs(C.type,C.key,C.props,null,j.mode,G),Mi(E,C),E.return=j,E)}function D(j,E,C,G){return E===null||E.tag!==4||E.stateNode.containerInfo!==C.containerInfo||E.stateNode.implementation!==C.implementation?(E=Rr(C,j.mode,G),E.return=j,E):(E=o(E,C.children||[]),E.return=j,E)}function q(j,E,C,G,ie){return E===null||E.tag!==7?(E=tn(C,j.mode,G,ie),E.return=j,E):(E=o(E,C),E.return=j,E)}function K(j,E,C){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Nr(""+E,j.mode,C),E.return=j,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case O:return C=Hs(E.type,E.key,E.props,null,j.mode,C),Mi(C,E),C.return=j,C;case x:return E=Rr(E,j.mode,C),E.return=j,E;case P:return E=rn(E),K(j,E,C)}if(fe(E)||Ee(E))return E=tn(E,j.mode,C,null),E.return=j,E;if(typeof E.then=="function")return K(j,Xs(E),C);if(E.$$typeof===T)return K(j,Vs(j,E),C);Qs(j,E)}return null}function U(j,E,C,G){var ie=E!==null?E.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return ie!==null?null:p(j,E,""+C,G);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case O:return C.key===ie?_(j,E,C,G):null;case x:return C.key===ie?D(j,E,C,G):null;case P:return C=rn(C),U(j,E,C,G)}if(fe(C)||Ee(C))return ie!==null?null:q(j,E,C,G,null);if(typeof C.then=="function")return U(j,E,Xs(C),G);if(C.$$typeof===T)return U(j,E,Vs(j,C),G);Qs(j,C)}return null}function M(j,E,C,G,ie){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return j=j.get(C)||null,p(E,j,""+G,ie);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case O:return j=j.get(G.key===null?C:G.key)||null,_(E,j,G,ie);case x:return j=j.get(G.key===null?C:G.key)||null,D(E,j,G,ie);case P:return G=rn(G),M(j,E,C,G,ie)}if(fe(G)||Ee(G))return j=j.get(C)||null,q(E,j,G,ie,null);if(typeof G.then=="function")return M(j,E,C,Xs(G),ie);if(G.$$typeof===T)return M(j,E,C,Vs(E,G),ie);Qs(E,G)}return null}function F(j,E,C,G){for(var ie=null,Te=null,ee=E,he=E=0,ye=null;ee!==null&&he<C.length;he++){ee.index>he?(ye=ee,ee=null):ye=ee.sibling;var xe=U(j,ee,C[he],G);if(xe===null){ee===null&&(ee=ye);break}e&&ee&&xe.alternate===null&&t(j,ee),E=u(xe,E,he),Te===null?ie=xe:Te.sibling=xe,Te=xe,ee=ye}if(he===C.length)return a(j,ee),be&&na(j,he),ie;if(ee===null){for(;he<C.length;he++)ee=K(j,C[he],G),ee!==null&&(E=u(ee,E,he),Te===null?ie=ee:Te.sibling=ee,Te=ee);return be&&na(j,he),ie}for(ee=i(ee);he<C.length;he++)ye=M(ee,j,he,C[he],G),ye!==null&&(e&&ye.alternate!==null&&ee.delete(ye.key===null?he:ye.key),E=u(ye,E,he),Te===null?ie=ye:Te.sibling=ye,Te=ye);return e&&ee.forEach(function(Ya){return t(j,Ya)}),be&&na(j,he),ie}function se(j,E,C,G){if(C==null)throw Error(r(151));for(var ie=null,Te=null,ee=E,he=E=0,ye=null,xe=C.next();ee!==null&&!xe.done;he++,xe=C.next()){ee.index>he?(ye=ee,ee=null):ye=ee.sibling;var Ya=U(j,ee,xe.value,G);if(Ya===null){ee===null&&(ee=ye);break}e&&ee&&Ya.alternate===null&&t(j,ee),E=u(Ya,E,he),Te===null?ie=Ya:Te.sibling=Ya,Te=Ya,ee=ye}if(xe.done)return a(j,ee),be&&na(j,he),ie;if(ee===null){for(;!xe.done;he++,xe=C.next())xe=K(j,xe.value,G),xe!==null&&(E=u(xe,E,he),Te===null?ie=xe:Te.sibling=xe,Te=xe);return be&&na(j,he),ie}for(ee=i(ee);!xe.done;he++,xe=C.next())xe=M(ee,j,he,xe.value,G),xe!==null&&(e&&xe.alternate!==null&&ee.delete(xe.key===null?he:xe.key),E=u(xe,E,he),Te===null?ie=xe:Te.sibling=xe,Te=xe);return e&&ee.forEach(function(Dy){return t(j,Dy)}),be&&na(j,he),ie}function ke(j,E,C,G){if(typeof C=="object"&&C!==null&&C.type===N&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case O:e:{for(var ie=C.key;E!==null;){if(E.key===ie){if(ie=C.type,ie===N){if(E.tag===7){a(j,E.sibling),G=o(E,C.props.children),G.return=j,j=G;break e}}else if(E.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===P&&rn(ie)===E.type){a(j,E.sibling),G=o(E,C.props),Mi(G,C),G.return=j,j=G;break e}a(j,E);break}else t(j,E);E=E.sibling}C.type===N?(G=tn(C.props.children,j.mode,G,C.key),G.return=j,j=G):(G=Hs(C.type,C.key,C.props,null,j.mode,G),Mi(G,C),G.return=j,j=G)}return f(j);case x:e:{for(ie=C.key;E!==null;){if(E.key===ie)if(E.tag===4&&E.stateNode.containerInfo===C.containerInfo&&E.stateNode.implementation===C.implementation){a(j,E.sibling),G=o(E,C.children||[]),G.return=j,j=G;break e}else{a(j,E);break}else t(j,E);E=E.sibling}G=Rr(C,j.mode,G),G.return=j,j=G}return f(j);case P:return C=rn(C),ke(j,E,C,G)}if(fe(C))return F(j,E,C,G);if(Ee(C)){if(ie=Ee(C),typeof ie!="function")throw Error(r(150));return C=ie.call(C),se(j,E,C,G)}if(typeof C.then=="function")return ke(j,E,Xs(C),G);if(C.$$typeof===T)return ke(j,E,Vs(j,C),G);Qs(j,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,E!==null&&E.tag===6?(a(j,E.sibling),G=o(E,C),G.return=j,j=G):(a(j,E),G=Nr(C,j.mode,G),G.return=j,j=G),f(j)):a(j,E)}return function(j,E,C,G){try{zi=0;var ie=ke(j,E,C,G);return $n=null,ie}catch(ee){if(ee===Gn||ee===Ks)throw ee;var Te=Tt(29,ee,null,j.mode);return Te.lanes=G,Te.return=j,Te}}}var un=mh(!0),vh=mh(!1),Oa=!1;function $r(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ja(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Na(e,t,a){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(je&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=qs(e),Wc(e,null,a),t}return Bs(e,i,t,a),qs(e)}function Li(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,lc(e,a)}}function Yr(e,t){var a=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var o=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var f={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?o=u=f:u=u.next=f,a=a.next}while(a!==null);u===null?o=u=t:u=u.next=t}else o=u=t;a={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:i.shared,callbacks:i.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Kr=!1;function Bi(){if(Kr){var e=Hn;if(e!==null)throw e}}function qi(e,t,a,i){Kr=!1;var o=e.updateQueue;Oa=!1;var u=o.firstBaseUpdate,f=o.lastBaseUpdate,p=o.shared.pending;if(p!==null){o.shared.pending=null;var _=p,D=_.next;_.next=null,f===null?u=D:f.next=D,f=_;var q=e.alternate;q!==null&&(q=q.updateQueue,p=q.lastBaseUpdate,p!==f&&(p===null?q.firstBaseUpdate=D:p.next=D,q.lastBaseUpdate=_))}if(u!==null){var K=o.baseState;f=0,q=D=_=null,p=u;do{var U=p.lane&-536870913,M=U!==p.lane;if(M?(ge&U)===U:(i&U)===U){U!==0&&U===qn&&(Kr=!0),q!==null&&(q=q.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var F=e,se=p;U=t;var ke=a;switch(se.tag){case 1:if(F=se.payload,typeof F=="function"){K=F.call(ke,K,U);break e}K=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=se.payload,U=typeof F=="function"?F.call(ke,K,U):F,U==null)break e;K=S({},K,U);break e;case 2:Oa=!0}}U=p.callback,U!==null&&(e.flags|=64,M&&(e.flags|=8192),M=o.callbacks,M===null?o.callbacks=[U]:M.push(U))}else M={lane:U,tag:p.tag,payload:p.payload,callback:p.callback,next:null},q===null?(D=q=M,_=K):q=q.next=M,f|=U;if(p=p.next,p===null){if(p=o.shared.pending,p===null)break;M=p,p=M.next,M.next=null,o.lastBaseUpdate=M,o.shared.pending=null}}while(!0);q===null&&(_=K),o.baseState=_,o.firstBaseUpdate=D,o.lastBaseUpdate=q,u===null&&(o.shared.lanes=0),Ua|=f,e.lanes=f,e.memoizedState=K}}function gh(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function yh(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)gh(a[e],t)}var Vn=w(null),Js=w(0);function ph(e,t){e=ma,Z(Js,e),Z(Vn,t),ma=e|t.baseLanes}function Ir(){Z(Js,ma),Z(Vn,Vn.current)}function Xr(){ma=Js.current,Y(Vn),Y(Js)}var xt=w(null),Ht=null;function Ra(e){var t=e.alternate;Z(Ie,Ie.current&1),Z(xt,e),Ht===null&&(t===null||Vn.current!==null||t.memoizedState!==null)&&(Ht=e)}function Qr(e){Z(Ie,Ie.current),Z(xt,e),Ht===null&&(Ht=e)}function bh(e){e.tag===22?(Z(Ie,Ie.current),Z(xt,e),Ht===null&&(Ht=e)):Ca()}function Ca(){Z(Ie,Ie.current),Z(xt,xt.current)}function At(e){Y(xt),Ht===e&&(Ht=null),Y(Ie)}var Ie=w(0);function Zs(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||tu(a)||au(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=0,ce=null,Ce=null,Je=null,Ps=!1,Yn=!1,cn=!1,Ws=0,Hi=0,Kn=null,Sg=0;function Ve(){throw Error(r(321))}function Jr(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Et(e[a],t[a]))return!1;return!0}function Zr(e,t,a,i,o,u){return la=u,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?ad:ho,cn=!1,u=a(i,o),cn=!1,Yn&&(u=wh(t,a,i,o)),_h(e),u}function _h(e){L.H=Vi;var t=Ce!==null&&Ce.next!==null;if(la=0,Je=Ce=ce=null,Ps=!1,Hi=0,Kn=null,t)throw Error(r(300));e===null||Ze||(e=e.dependencies,e!==null&&$s(e)&&(Ze=!0))}function wh(e,t,a,i){ce=e;var o=0;do{if(Yn&&(Kn=null),Hi=0,Yn=!1,25<=o)throw Error(r(301));if(o+=1,Je=Ce=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}L.H=nd,u=t(a,i)}while(Yn);return u}function Eg(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?Gi(t):t,e=e.useState()[0],(Ce!==null?Ce.memoizedState:null)!==e&&(ce.flags|=1024),t}function Pr(){var e=Ws!==0;return Ws=0,e}function Wr(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Fr(e){if(Ps){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ps=!1}la=0,Je=Ce=ce=null,Yn=!1,Hi=Ws=0,Kn=null}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?ce.memoizedState=Je=e:Je=Je.next=e,Je}function Xe(){if(Ce===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Je===null?ce.memoizedState:Je.next;if(t!==null)Je=t,Ce=e;else{if(e===null)throw ce.alternate===null?Error(r(467)):Error(r(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Je===null?ce.memoizedState=Je=e:Je=Je.next=e}return Je}function Fs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gi(e){var t=Hi;return Hi+=1,Kn===null&&(Kn=[]),e=hh(Kn,e,t),t=ce,(Je===null?t.memoizedState:Je.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?ad:ho),e}function el(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Gi(e);if(e.$$typeof===T)return st(e)}throw Error(r(438,String(e)))}function eo(e){var t=null,a=ce.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var i=ce.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Fs(),ce.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),i=0;i<e;i++)a[i]=Se;return t.index++,a}function ra(e,t){return typeof t=="function"?t(e):t}function tl(e){var t=Xe();return to(t,Ce,e)}function to(e,t,a){var i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=a;var o=e.baseQueue,u=i.pending;if(u!==null){if(o!==null){var f=o.next;o.next=u.next,u.next=f}t.baseQueue=o=u,i.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var p=f=null,_=null,D=t,q=!1;do{var K=D.lane&-536870913;if(K!==D.lane?(ge&K)===K:(la&K)===K){var U=D.revertLane;if(U===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),K===qn&&(q=!0);else if((la&U)===U){D=D.next,U===qn&&(q=!0);continue}else K={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},_===null?(p=_=K,f=u):_=_.next=K,ce.lanes|=U,Ua|=U;K=D.action,cn&&a(u,K),u=D.hasEagerState?D.eagerState:a(u,K)}else U={lane:K,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},_===null?(p=_=U,f=u):_=_.next=U,ce.lanes|=K,Ua|=K;D=D.next}while(D!==null&&D!==t);if(_===null?f=u:_.next=p,!Et(u,e.memoizedState)&&(Ze=!0,q&&(a=Hn,a!==null)))throw a;e.memoizedState=u,e.baseState=f,e.baseQueue=_,i.lastRenderedState=u}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function ao(e){var t=Xe(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var i=a.dispatch,o=a.pending,u=t.memoizedState;if(o!==null){a.pending=null;var f=o=o.next;do u=e(u,f.action),f=f.next;while(f!==o);Et(u,t.memoizedState)||(Ze=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,i]}function Sh(e,t,a){var i=ce,o=Xe(),u=be;if(u){if(a===void 0)throw Error(r(407));a=a()}else a=t();var f=!Et((Ce||o).memoizedState,a);if(f&&(o.memoizedState=a,Ze=!0),o=o.queue,so(xh.bind(null,i,o,e),[e]),o.getSnapshot!==t||f||Je!==null&&Je.memoizedState.tag&1){if(i.flags|=2048,In(9,{destroy:void 0},Th.bind(null,i,o,a,t),null),Ue===null)throw Error(r(349));u||(la&127)!==0||Eh(i,t,a)}return a}function Eh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ce.updateQueue,t===null?(t=Fs(),ce.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Th(e,t,a,i){t.value=a,t.getSnapshot=i,Ah(t)&&Oh(e)}function xh(e,t,a){return a(function(){Ah(t)&&Oh(e)})}function Ah(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Et(e,a)}catch{return!0}}function Oh(e){var t=en(e,2);t!==null&&bt(t,e,2)}function no(e){var t=dt();if(typeof e=="function"){var a=e;if(e=a(),cn){_a(!0);try{a()}finally{_a(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:e},t}function jh(e,t,a,i){return e.baseState=a,to(e,Ce,typeof i=="function"?i:ra)}function Tg(e,t,a,i,o){if(il(e))throw Error(r(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){u.listeners.push(f)}};L.T!==null?a(!0):u.isTransition=!1,i(u),a=t.pending,a===null?(u.next=t.pending=u,Nh(t,u)):(u.next=a.next,t.pending=a.next=u)}}function Nh(e,t){var a=t.action,i=t.payload,o=e.state;if(t.isTransition){var u=L.T,f={};L.T=f;try{var p=a(o,i),_=L.S;_!==null&&_(f,p),Rh(e,t,p)}catch(D){io(e,t,D)}finally{u!==null&&f.types!==null&&(u.types=f.types),L.T=u}}else try{u=a(o,i),Rh(e,t,u)}catch(D){io(e,t,D)}}function Rh(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){Ch(e,t,i)},function(i){return io(e,t,i)}):Ch(e,t,a)}function Ch(e,t,a){t.status="fulfilled",t.value=a,Dh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Nh(e,a)))}function io(e,t,a){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=a,Dh(t),t=t.next;while(t!==i)}e.action=null}function Dh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function kh(e,t){return t}function Uh(e,t){if(be){var a=Ue.formState;if(a!==null){e:{var i=ce;if(be){if(Le){t:{for(var o=Le,u=qt;o.nodeType!==8;){if(!u){o=null;break t}if(o=Gt(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Le=Gt(o.nextSibling),i=o.data==="F!";break e}}xa(i)}i=!1}i&&(t=a[0])}}return a=dt(),a.memoizedState=a.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kh,lastRenderedState:t},a.queue=i,a=Fh.bind(null,ce,i),i.dispatch=a,i=no(!1),u=co.bind(null,ce,!1,i.queue),i=dt(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,a=Tg.bind(null,ce,o,u,a),o.dispatch=a,i.memoizedState=e,[t,a,!1]}function zh(e){var t=Xe();return Mh(t,Ce,e)}function Mh(e,t,a){if(t=to(e,t,kh)[0],e=tl(ra)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Gi(t)}catch(f){throw f===Gn?Ks:f}else i=t;t=Xe();var o=t.queue,u=o.dispatch;return a!==t.memoizedState&&(ce.flags|=2048,In(9,{destroy:void 0},xg.bind(null,o,a),null)),[i,u,e]}function xg(e,t){e.action=t}function Lh(e){var t=Xe(),a=Ce;if(a!==null)return Mh(t,a,e);Xe(),t=t.memoizedState,a=Xe();var i=a.queue.dispatch;return a.memoizedState=e,[t,i,!1]}function In(e,t,a,i){return e={tag:e,create:a,deps:i,inst:t,next:null},t=ce.updateQueue,t===null&&(t=Fs(),ce.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,t.lastEffect=e),e}function Bh(){return Xe().memoizedState}function al(e,t,a,i){var o=dt();ce.flags|=e,o.memoizedState=In(1|t,{destroy:void 0},a,i===void 0?null:i)}function nl(e,t,a,i){var o=Xe();i=i===void 0?null:i;var u=o.memoizedState.inst;Ce!==null&&i!==null&&Jr(i,Ce.memoizedState.deps)?o.memoizedState=In(t,u,a,i):(ce.flags|=e,o.memoizedState=In(1|t,u,a,i))}function qh(e,t){al(8390656,8,e,t)}function so(e,t){nl(2048,8,e,t)}function Ag(e){ce.flags|=4;var t=ce.updateQueue;if(t===null)t=Fs(),ce.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Hh(e){var t=Xe().memoizedState;return Ag({ref:t,nextImpl:e}),function(){if((je&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Gh(e,t){return nl(4,2,e,t)}function $h(e,t){return nl(4,4,e,t)}function Vh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yh(e,t,a){a=a!=null?a.concat([e]):null,nl(4,4,Vh.bind(null,t,e),a)}function lo(){}function Kh(e,t){var a=Xe();t=t===void 0?null:t;var i=a.memoizedState;return t!==null&&Jr(t,i[1])?i[0]:(a.memoizedState=[e,t],e)}function Ih(e,t){var a=Xe();t=t===void 0?null:t;var i=a.memoizedState;if(t!==null&&Jr(t,i[1]))return i[0];if(i=e(),cn){_a(!0);try{e()}finally{_a(!1)}}return a.memoizedState=[i,t],i}function ro(e,t,a){return a===void 0||(la&1073741824)!==0&&(ge&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Xd(),ce.lanes|=e,Ua|=e,a)}function Xh(e,t,a,i){return Et(a,t)?a:Vn.current!==null?(e=ro(e,a,i),Et(e,t)||(Ze=!0),e):(la&42)===0||(la&1073741824)!==0&&(ge&261930)===0?(Ze=!0,e.memoizedState=a):(e=Xd(),ce.lanes|=e,Ua|=e,t)}function Qh(e,t,a,i,o){var u=J.p;J.p=u!==0&&8>u?u:8;var f=L.T,p={};L.T=p,co(e,!1,t,a);try{var _=o(),D=L.S;if(D!==null&&D(p,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var q=wg(_,i);$i(e,t,q,Nt(e))}else $i(e,t,i,Nt(e))}catch(K){$i(e,t,{then:function(){},status:"rejected",reason:K},Nt())}finally{J.p=u,f!==null&&p.types!==null&&(f.types=p.types),L.T=f}}function Og(){}function oo(e,t,a,i){if(e.tag!==5)throw Error(r(476));var o=Jh(e).queue;Qh(e,o,t,ne,a===null?Og:function(){return Zh(e),a(i)})}function Jh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:ne},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Zh(e){var t=Jh(e);t.next===null&&(t=e.alternate.memoizedState),$i(e,t.next.queue,{},Nt())}function uo(){return st(ss)}function Ph(){return Xe().memoizedState}function Wh(){return Xe().memoizedState}function jg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Nt();e=ja(a);var i=Na(t,e,a);i!==null&&(bt(i,t,a),Li(i,t,a)),t={cache:Br()},e.payload=t;return}t=t.return}}function Ng(e,t,a){var i=Nt();a={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},il(e)?ed(t,a):(a=Or(e,t,a,i),a!==null&&(bt(a,e,i),td(a,t,i)))}function Fh(e,t,a){var i=Nt();$i(e,t,a,i)}function $i(e,t,a,i){var o={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(il(e))ed(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var f=t.lastRenderedState,p=u(f,a);if(o.hasEagerState=!0,o.eagerState=p,Et(p,f))return Bs(e,t,o,0),Ue===null&&Ls(),!1}catch{}if(a=Or(e,t,o,i),a!==null)return bt(a,e,i),td(a,t,i),!0}return!1}function co(e,t,a,i){if(i={lane:2,revertLane:Vo(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},il(e)){if(t)throw Error(r(479))}else t=Or(e,a,i,2),t!==null&&bt(t,e,2)}function il(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function ed(e,t){Yn=Ps=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function td(e,t,a){if((a&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,lc(e,a)}}var Vi={readContext:st,use:el,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};Vi.useEffectEvent=Ve;var ad={readContext:st,use:el,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:qh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,al(4194308,4,Vh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return al(4194308,4,e,t)},useInsertionEffect:function(e,t){al(4,2,e,t)},useMemo:function(e,t){var a=dt();t=t===void 0?null:t;var i=e();if(cn){_a(!0);try{e()}finally{_a(!1)}}return a.memoizedState=[i,t],i},useReducer:function(e,t,a){var i=dt();if(a!==void 0){var o=a(t);if(cn){_a(!0);try{a(t)}finally{_a(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=Ng.bind(null,ce,e),[i.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:function(e){e=no(e);var t=e.queue,a=Fh.bind(null,ce,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:lo,useDeferredValue:function(e,t){var a=dt();return ro(a,e,t)},useTransition:function(){var e=no(!1);return e=Qh.bind(null,ce,e.queue,!0,!1),dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var i=ce,o=dt();if(be){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Ue===null)throw Error(r(349));(ge&127)!==0||Eh(i,t,a)}o.memoizedState=a;var u={value:a,getSnapshot:t};return o.queue=u,qh(xh.bind(null,i,u,e),[e]),i.flags|=2048,In(9,{destroy:void 0},Th.bind(null,i,u,a,t),null),a},useId:function(){var e=dt(),t=Ue.identifierPrefix;if(be){var a=Zt,i=Jt;a=(i&~(1<<32-St(i)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Ws++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Sg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:uo,useFormState:Uh,useActionState:Uh,useOptimistic:function(e){var t=dt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=co.bind(null,ce,!0,a),a.dispatch=t,[e,t]},useMemoCache:eo,useCacheRefresh:function(){return dt().memoizedState=jg.bind(null,ce)},useEffectEvent:function(e){var t=dt(),a={impl:e};return t.memoizedState=a,function(){if((je&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},ho={readContext:st,use:el,useCallback:Kh,useContext:st,useEffect:so,useImperativeHandle:Yh,useInsertionEffect:Gh,useLayoutEffect:$h,useMemo:Ih,useReducer:tl,useRef:Bh,useState:function(){return tl(ra)},useDebugValue:lo,useDeferredValue:function(e,t){var a=Xe();return Xh(a,Ce.memoizedState,e,t)},useTransition:function(){var e=tl(ra)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:Gi(e),t]},useSyncExternalStore:Sh,useId:Ph,useHostTransitionStatus:uo,useFormState:zh,useActionState:zh,useOptimistic:function(e,t){var a=Xe();return jh(a,Ce,e,t)},useMemoCache:eo,useCacheRefresh:Wh};ho.useEffectEvent=Hh;var nd={readContext:st,use:el,useCallback:Kh,useContext:st,useEffect:so,useImperativeHandle:Yh,useInsertionEffect:Gh,useLayoutEffect:$h,useMemo:Ih,useReducer:ao,useRef:Bh,useState:function(){return ao(ra)},useDebugValue:lo,useDeferredValue:function(e,t){var a=Xe();return Ce===null?ro(a,e,t):Xh(a,Ce.memoizedState,e,t)},useTransition:function(){var e=ao(ra)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:Gi(e),t]},useSyncExternalStore:Sh,useId:Ph,useHostTransitionStatus:uo,useFormState:Lh,useActionState:Lh,useOptimistic:function(e,t){var a=Xe();return Ce!==null?jh(a,Ce,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:eo,useCacheRefresh:Wh};nd.useEffectEvent=Hh;function fo(e,t,a,i){t=e.memoizedState,a=a(i,t),a=a==null?t:S({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var mo={enqueueSetState:function(e,t,a){e=e._reactInternals;var i=Nt(),o=ja(i);o.payload=t,a!=null&&(o.callback=a),t=Na(e,o,i),t!==null&&(bt(t,e,i),Li(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var i=Nt(),o=ja(i);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Na(e,o,i),t!==null&&(bt(t,e,i),Li(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Nt(),i=ja(a);i.tag=2,t!=null&&(i.callback=t),t=Na(e,i,a),t!==null&&(bt(t,e,a),Li(t,e,a))}};function id(e,t,a,i,o,u,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,f):t.prototype&&t.prototype.isPureReactComponent?!Ni(a,i)||!Ni(o,u):!0}function sd(e,t,a,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,i),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function hn(e,t){var a=t;if("ref"in t){a={};for(var i in t)i!=="ref"&&(a[i]=t[i])}if(e=e.defaultProps){a===t&&(a=S({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function ld(e){Ms(e)}function rd(e){console.error(e)}function od(e){Ms(e)}function sl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function ud(e,t,a){try{var i=e.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function vo(e,t,a){return a=ja(a),a.tag=3,a.payload={element:null},a.callback=function(){sl(e,t)},a}function cd(e){return e=ja(e),e.tag=3,e}function hd(e,t,a,i){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var u=i.value;e.payload=function(){return o(u)},e.callback=function(){ud(t,a,i)}}var f=a.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){ud(t,a,i),typeof o!="function"&&(za===null?za=new Set([this]):za.add(this));var p=i.stack;this.componentDidCatch(i.value,{componentStack:p!==null?p:""})})}function Rg(e,t,a,i,o){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=a.alternate,t!==null&&Bn(t,a,o,!0),a=xt.current,a!==null){switch(a.tag){case 31:case 13:return Ht===null?yl():a.alternate===null&&Ye===0&&(Ye=3),a.flags&=-257,a.flags|=65536,a.lanes=o,i===Is?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([i]):t.add(i),Ho(e,i,o)),!1;case 22:return a.flags|=65536,i===Is?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([i]):a.add(i)),Ho(e,i,o)),!1}throw Error(r(435,a.tag))}return Ho(e,i,o),yl(),!1}if(be)return t=xt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==kr&&(e=Error(r(422),{cause:i}),Di(Mt(e,a)))):(i!==kr&&(t=Error(r(423),{cause:i}),Di(Mt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=Mt(i,a),o=vo(e.stateNode,i,o),Yr(e,o),Ye!==4&&(Ye=2)),!1;var u=Error(r(520),{cause:i});if(u=Mt(u,a),Pi===null?Pi=[u]:Pi.push(u),Ye!==4&&(Ye=2),t===null)return!0;i=Mt(i,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=vo(a.stateNode,i,e),Yr(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(za===null||!za.has(u))))return a.flags|=65536,o&=-o,a.lanes|=o,o=cd(o),hd(o,e,a,i),Yr(a,o),!1}a=a.return}while(a!==null);return!1}var go=Error(r(461)),Ze=!1;function lt(e,t,a,i){t.child=e===null?vh(t,null,a,i):un(t,e.child,a,i)}function dd(e,t,a,i,o){a=a.render;var u=t.ref;if("ref"in i){var f={};for(var p in i)p!=="ref"&&(f[p]=i[p])}else f=i;return sn(t),i=Zr(e,t,a,f,u,o),p=Pr(),e!==null&&!Ze?(Wr(e,t,o),oa(e,t,o)):(be&&p&&Cr(t),t.flags|=1,lt(e,t,i,o),t.child)}function fd(e,t,a,i,o){if(e===null){var u=a.type;return typeof u=="function"&&!jr(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,md(e,t,u,i,o)):(e=Hs(a.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!To(e,o)){var f=u.memoizedProps;if(a=a.compare,a=a!==null?a:Ni,a(f,i)&&e.ref===t.ref)return oa(e,t,o)}return t.flags|=1,e=aa(u,i),e.ref=t.ref,e.return=t,t.child=e}function md(e,t,a,i,o){if(e!==null){var u=e.memoizedProps;if(Ni(u,i)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=i=u,To(e,o))(e.flags&131072)!==0&&(Ze=!0);else return t.lanes=e.lanes,oa(e,t,o)}return yo(e,t,a,i,o)}function vd(e,t,a,i){var o=i.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~u}else i=0,t.child=null;return gd(e,t,u,a,i)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ys(t,u!==null?u.cachePool:null),u!==null?ph(t,u):Ir(),bh(t);else return i=t.lanes=536870912,gd(e,t,u!==null?u.baseLanes|a:a,a,i)}else u!==null?(Ys(t,u.cachePool),ph(t,u),Ca(),t.memoizedState=null):(e!==null&&Ys(t,null),Ir(),Ca());return lt(e,t,o,a),t.child}function Yi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function gd(e,t,a,i,o){var u=Hr();return u=u===null?null:{parent:Qe._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&Ys(t,null),Ir(),bh(t),e!==null&&Bn(e,t,i,!0),t.childLanes=o,null}function ll(e,t){return t=ol({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function yd(e,t,a){return un(t,e.child,null,a),e=ll(t,t.pendingProps),e.flags|=2,At(t),t.memoizedState=null,e}function Cg(e,t,a){var i=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(be){if(i.mode==="hidden")return e=ll(t,i),t.lanes=536870912,Yi(null,e);if(Qr(t),(e=Le)?(e=Rf(e,qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ea!==null?{id:Jt,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},a=eh(e),a.return=t,t.child=a,it=t,Le=null)):e=null,e===null)throw xa(t);return t.lanes=536870912,null}return ll(t,i)}var u=e.memoizedState;if(u!==null){var f=u.dehydrated;if(Qr(t),o)if(t.flags&256)t.flags&=-257,t=yd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Ze||Bn(e,t,a,!1),o=(a&e.childLanes)!==0,Ze||o){if(i=Ue,i!==null&&(f=rc(i,a),f!==0&&f!==u.retryLane))throw u.retryLane=f,en(e,f),bt(i,e,f),go;yl(),t=yd(e,t,a)}else e=u.treeContext,Le=Gt(f.nextSibling),it=t,be=!0,Ta=null,qt=!1,e!==null&&nh(t,e),t=ll(t,i),t.flags|=4096;return t}return e=aa(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function rl(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function yo(e,t,a,i,o){return sn(t),a=Zr(e,t,a,i,void 0,o),i=Pr(),e!==null&&!Ze?(Wr(e,t,o),oa(e,t,o)):(be&&i&&Cr(t),t.flags|=1,lt(e,t,a,o),t.child)}function pd(e,t,a,i,o,u){return sn(t),t.updateQueue=null,a=wh(t,i,a,o),_h(e),i=Pr(),e!==null&&!Ze?(Wr(e,t,u),oa(e,t,u)):(be&&i&&Cr(t),t.flags|=1,lt(e,t,a,u),t.child)}function bd(e,t,a,i,o){if(sn(t),t.stateNode===null){var u=Un,f=a.contextType;typeof f=="object"&&f!==null&&(u=st(f)),u=new a(i,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=mo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=i,u.state=t.memoizedState,u.refs={},$r(t),f=a.contextType,u.context=typeof f=="object"&&f!==null?st(f):Un,u.state=t.memoizedState,f=a.getDerivedStateFromProps,typeof f=="function"&&(fo(t,a,f,i),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(f=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),f!==u.state&&mo.enqueueReplaceState(u,u.state,null),qi(t,i,u,o),Bi(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){u=t.stateNode;var p=t.memoizedProps,_=hn(a,p);u.props=_;var D=u.context,q=a.contextType;f=Un,typeof q=="object"&&q!==null&&(f=st(q));var K=a.getDerivedStateFromProps;q=typeof K=="function"||typeof u.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,q||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p||D!==f)&&sd(t,u,i,f),Oa=!1;var U=t.memoizedState;u.state=U,qi(t,i,u,o),Bi(),D=t.memoizedState,p||U!==D||Oa?(typeof K=="function"&&(fo(t,a,K,i),D=t.memoizedState),(_=Oa||id(t,a,_,i,U,D,f))?(q||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=D),u.props=i,u.state=D,u.context=f,i=_):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{u=t.stateNode,Vr(e,t),f=t.memoizedProps,q=hn(a,f),u.props=q,K=t.pendingProps,U=u.context,D=a.contextType,_=Un,typeof D=="object"&&D!==null&&(_=st(D)),p=a.getDerivedStateFromProps,(D=typeof p=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==K||U!==_)&&sd(t,u,i,_),Oa=!1,U=t.memoizedState,u.state=U,qi(t,i,u,o),Bi();var M=t.memoizedState;f!==K||U!==M||Oa||e!==null&&e.dependencies!==null&&$s(e.dependencies)?(typeof p=="function"&&(fo(t,a,p,i),M=t.memoizedState),(q=Oa||id(t,a,q,i,U,M,_)||e!==null&&e.dependencies!==null&&$s(e.dependencies))?(D||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,M,_),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,M,_)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=M),u.props=i,u.state=M,u.context=_,i=q):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),i=!1)}return u=i,rl(e,t),i=(t.flags&128)!==0,u||i?(u=t.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&i?(t.child=un(t,e.child,null,o),t.child=un(t,null,a,o)):lt(e,t,a,o),t.memoizedState=u.state,e=t.child):e=oa(e,t,o),e}function _d(e,t,a,i){return an(),t.flags|=256,lt(e,t,a,i),t.child}var po={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bo(e){return{baseLanes:e,cachePool:uh()}}function _o(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=jt),e}function wd(e,t,a){var i=t.pendingProps,o=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),f&&(o=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(be){if(o?Ra(t):Ca(),(e=Le)?(e=Rf(e,qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ea!==null?{id:Jt,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},a=eh(e),a.return=t,t.child=a,it=t,Le=null)):e=null,e===null)throw xa(t);return au(e)?t.lanes=32:t.lanes=536870912,null}var p=i.children;return i=i.fallback,o?(Ca(),o=t.mode,p=ol({mode:"hidden",children:p},o),i=tn(i,o,a,null),p.return=t,i.return=t,p.sibling=i,t.child=p,i=t.child,i.memoizedState=bo(a),i.childLanes=_o(e,f,a),t.memoizedState=po,Yi(null,i)):(Ra(t),wo(t,p))}var _=e.memoizedState;if(_!==null&&(p=_.dehydrated,p!==null)){if(u)t.flags&256?(Ra(t),t.flags&=-257,t=So(e,t,a)):t.memoizedState!==null?(Ca(),t.child=e.child,t.flags|=128,t=null):(Ca(),p=i.fallback,o=t.mode,i=ol({mode:"visible",children:i.children},o),p=tn(p,o,a,null),p.flags|=2,i.return=t,p.return=t,i.sibling=p,t.child=i,un(t,e.child,null,a),i=t.child,i.memoizedState=bo(a),i.childLanes=_o(e,f,a),t.memoizedState=po,t=Yi(null,i));else if(Ra(t),au(p)){if(f=p.nextSibling&&p.nextSibling.dataset,f)var D=f.dgst;f=D,i=Error(r(419)),i.stack="",i.digest=f,Di({value:i,source:null,stack:null}),t=So(e,t,a)}else if(Ze||Bn(e,t,a,!1),f=(a&e.childLanes)!==0,Ze||f){if(f=Ue,f!==null&&(i=rc(f,a),i!==0&&i!==_.retryLane))throw _.retryLane=i,en(e,i),bt(f,e,i),go;tu(p)||yl(),t=So(e,t,a)}else tu(p)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Le=Gt(p.nextSibling),it=t,be=!0,Ta=null,qt=!1,e!==null&&nh(t,e),t=wo(t,i.children),t.flags|=4096);return t}return o?(Ca(),p=i.fallback,o=t.mode,_=e.child,D=_.sibling,i=aa(_,{mode:"hidden",children:i.children}),i.subtreeFlags=_.subtreeFlags&65011712,D!==null?p=aa(D,p):(p=tn(p,o,a,null),p.flags|=2),p.return=t,i.return=t,i.sibling=p,t.child=i,Yi(null,i),i=t.child,p=e.child.memoizedState,p===null?p=bo(a):(o=p.cachePool,o!==null?(_=Qe._currentValue,o=o.parent!==_?{parent:_,pool:_}:o):o=uh(),p={baseLanes:p.baseLanes|a,cachePool:o}),i.memoizedState=p,i.childLanes=_o(e,f,a),t.memoizedState=po,Yi(e.child,i)):(Ra(t),a=e.child,e=a.sibling,a=aa(a,{mode:"visible",children:i.children}),a.return=t,a.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=a,t.memoizedState=null,a)}function wo(e,t){return t=ol({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ol(e,t){return e=Tt(22,e,null,t),e.lanes=0,e}function So(e,t,a){return un(t,e.child,null,a),e=wo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sd(e,t,a){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Mr(e.return,t,a)}function Eo(e,t,a,i,o,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:o,treeForkCount:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=i,f.tail=a,f.tailMode=o,f.treeForkCount=u)}function Ed(e,t,a){var i=t.pendingProps,o=i.revealOrder,u=i.tail;i=i.children;var f=Ie.current,p=(f&2)!==0;if(p?(f=f&1|2,t.flags|=128):f&=1,Z(Ie,f),lt(e,t,i,a),i=be?Ci:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sd(e,a,t);else if(e.tag===19)Sd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&Zs(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Eo(t,!1,o,a,u,i);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Zs(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Eo(t,!0,a,null,u,i);break;case"together":Eo(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function oa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ua|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Bn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=aa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=aa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function To(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&$s(e)))}function Dg(e,t,a){switch(t.tag){case 3:qe(t,t.stateNode.containerInfo),Aa(t,Qe,e.memoizedState.cache),an();break;case 27:case 5:Xa(t);break;case 4:qe(t,t.stateNode.containerInfo);break;case 10:Aa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Qr(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Ra(t),t.flags|=128,null):(a&t.child.childLanes)!==0?wd(e,t,a):(Ra(t),e=oa(e,t,a),e!==null?e.sibling:null);Ra(t);break;case 19:var o=(e.flags&128)!==0;if(i=(a&t.childLanes)!==0,i||(Bn(e,t,a,!1),i=(a&t.childLanes)!==0),o){if(i)return Ed(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Z(Ie,Ie.current),i)break;return null;case 22:return t.lanes=0,vd(e,t,a,t.pendingProps);case 24:Aa(t,Qe,e.memoizedState.cache)}return oa(e,t,a)}function Td(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ze=!0;else{if(!To(e,a)&&(t.flags&128)===0)return Ze=!1,Dg(e,t,a);Ze=(e.flags&131072)!==0}else Ze=!1,be&&(t.flags&1048576)!==0&&ah(t,Ci,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=rn(t.elementType),t.type=e,typeof e=="function")jr(e)?(i=hn(e,i),t.tag=1,t=bd(null,t,e,i,a)):(t.tag=0,t=yo(null,t,e,i,a));else{if(e!=null){var o=e.$$typeof;if(o===V){t.tag=11,t=dd(null,t,e,i,a);break e}else if(o===B){t.tag=14,t=fd(null,t,e,i,a);break e}}throw t=Q(e)||e,Error(r(306,t,""))}}return t;case 0:return yo(e,t,t.type,t.pendingProps,a);case 1:return i=t.type,o=hn(i,t.pendingProps),bd(e,t,i,o,a);case 3:e:{if(qe(t,t.stateNode.containerInfo),e===null)throw Error(r(387));i=t.pendingProps;var u=t.memoizedState;o=u.element,Vr(e,t),qi(t,i,null,a);var f=t.memoizedState;if(i=f.cache,Aa(t,Qe,i),i!==u.cache&&Lr(t,[Qe],a,!0),Bi(),i=f.element,u.isDehydrated)if(u={element:i,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=_d(e,t,i,a);break e}else if(i!==o){o=Mt(Error(r(424)),t),Di(o),t=_d(e,t,i,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Le=Gt(e.firstChild),it=t,be=!0,Ta=null,qt=!0,a=vh(t,null,i,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(an(),i===o){t=oa(e,t,a);break e}lt(e,t,i,a)}t=t.child}return t;case 26:return rl(e,t),e===null?(a=Mf(t.type,null,t.pendingProps,null))?t.memoizedState=a:be||(a=t.type,e=t.pendingProps,i=Tl(ae.current).createElement(a),i[nt]=t,i[ft]=e,rt(i,a,e),tt(i),t.stateNode=i):t.memoizedState=Mf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Xa(t),e===null&&be&&(i=t.stateNode=kf(t.type,t.pendingProps,ae.current),it=t,qt=!0,o=Le,qa(t.type)?(nu=o,Le=Gt(i.firstChild)):Le=o),lt(e,t,t.pendingProps.children,a),rl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&be&&((o=i=Le)&&(i=oy(i,t.type,t.pendingProps,qt),i!==null?(t.stateNode=i,it=t,Le=Gt(i.firstChild),qt=!1,o=!0):o=!1),o||xa(t)),Xa(t),o=t.type,u=t.pendingProps,f=e!==null?e.memoizedProps:null,i=u.children,Wo(o,u)?i=null:f!==null&&Wo(o,f)&&(t.flags|=32),t.memoizedState!==null&&(o=Zr(e,t,Eg,null,null,a),ss._currentValue=o),rl(e,t),lt(e,t,i,a),t.child;case 6:return e===null&&be&&((e=a=Le)&&(a=uy(a,t.pendingProps,qt),a!==null?(t.stateNode=a,it=t,Le=null,e=!0):e=!1),e||xa(t)),null;case 13:return wd(e,t,a);case 4:return qe(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=un(t,null,i,a):lt(e,t,i,a),t.child;case 11:return dd(e,t,t.type,t.pendingProps,a);case 7:return lt(e,t,t.pendingProps,a),t.child;case 8:return lt(e,t,t.pendingProps.children,a),t.child;case 12:return lt(e,t,t.pendingProps.children,a),t.child;case 10:return i=t.pendingProps,Aa(t,t.type,i.value),lt(e,t,i.children,a),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,sn(t),o=st(o),i=i(o),t.flags|=1,lt(e,t,i,a),t.child;case 14:return fd(e,t,t.type,t.pendingProps,a);case 15:return md(e,t,t.type,t.pendingProps,a);case 19:return Ed(e,t,a);case 31:return Cg(e,t,a);case 22:return vd(e,t,a,t.pendingProps);case 24:return sn(t),i=st(Qe),e===null?(o=Hr(),o===null&&(o=Ue,u=Br(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=a),o=u),t.memoizedState={parent:i,cache:o},$r(t),Aa(t,Qe,o)):((e.lanes&a)!==0&&(Vr(e,t),qi(t,null,null,a),Bi()),o=e.memoizedState,u=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Aa(t,Qe,i)):(i=u.cache,Aa(t,Qe,i),i!==o.cache&&Lr(t,[Qe],a,!0))),lt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function ua(e){e.flags|=4}function xo(e,t,a,i,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Pd())e.flags|=8192;else throw on=Is,Gr}else e.flags&=-16777217}function xd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gf(t))if(Pd())e.flags|=8192;else throw on=Is,Gr}function ul(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ic():536870912,e.lanes|=t,Zn|=t)}function Ki(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,i=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=a,t}function kg(e,t,a){var i=t.pendingProps;switch(Dr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return Be(t),null;case 3:return a=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),sa(Qe),we(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ln(t)?ua(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ur())),Be(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(ua(t),u!==null?(Be(t),xd(t,u)):(Be(t),xo(t,o,null,i,a))):u?u!==e.memoizedState?(ua(t),Be(t),xd(t,u)):(Be(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&ua(t),Be(t),xo(t,o,e,i,a)),null;case 27:if(ba(t),a=ae.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ua(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Be(t),null}e=W.current,Ln(t)?ih(t):(e=kf(o,i,a),t.stateNode=e,ua(t))}return Be(t),null;case 5:if(ba(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ua(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Be(t),null}if(u=W.current,Ln(t))ih(t);else{var f=Tl(ae.current);switch(u){case 1:u=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=f.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof i.is=="string"?f.createElement("select",{is:i.is}):f.createElement("select"),i.multiple?u.multiple=!0:i.size&&(u.size=i.size);break;default:u=typeof i.is=="string"?f.createElement(o,{is:i.is}):f.createElement(o)}}u[nt]=t,u[ft]=i;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)u.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=u;e:switch(rt(u,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ua(t)}}return Be(t),xo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&ua(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(r(166));if(e=ae.current,Ln(t)){if(e=t.stateNode,a=t.memoizedProps,i=null,o=it,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[nt]=t,e=!!(e.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||Sf(e.nodeValue,a)),e||xa(t,!0)}else e=Tl(e).createTextNode(i),e[nt]=t,t.stateNode=e}return Be(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(i=Ln(t),a!==null){if(e===null){if(!i)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[nt]=t}else an(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),e=!1}else a=Ur(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(At(t),t):(At(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Be(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Ln(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[nt]=t}else an(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),o=!1}else o=Ur(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(At(t),t):(At(t),null)}return At(t),(t.flags&128)!==0?(t.lanes=a,t):(a=i!==null,e=e!==null&&e.memoizedState!==null,a&&(i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),ul(t,t.updateQueue),Be(t),null);case 4:return we(),e===null&&Xo(t.stateNode.containerInfo),Be(t),null;case 10:return sa(t.type),Be(t),null;case 19:if(Y(Ie),i=t.memoizedState,i===null)return Be(t),null;if(o=(t.flags&128)!==0,u=i.rendering,u===null)if(o)Ki(i,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Zs(e),u!==null){for(t.flags|=128,Ki(i,!1),e=u.updateQueue,t.updateQueue=e,ul(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Fc(a,e),a=a.sibling;return Z(Ie,Ie.current&1|2),be&&na(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&_t()>ml&&(t.flags|=128,o=!0,Ki(i,!1),t.lanes=4194304)}else{if(!o)if(e=Zs(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,ul(t,e),Ki(i,!0),i.tail===null&&i.tailMode==="hidden"&&!u.alternate&&!be)return Be(t),null}else 2*_t()-i.renderingStartTime>ml&&a!==536870912&&(t.flags|=128,o=!0,Ki(i,!1),t.lanes=4194304);i.isBackwards?(u.sibling=t.child,t.child=u):(e=i.last,e!==null?e.sibling=u:t.child=u,i.last=u)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=_t(),e.sibling=null,a=Ie.current,Z(Ie,o?a&1|2:a&1),be&&na(t,i.treeForkCount),e):(Be(t),null);case 22:case 23:return At(t),Xr(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(a&536870912)!==0&&(t.flags&128)===0&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),a=t.updateQueue,a!==null&&ul(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==a&&(t.flags|=2048),e!==null&&Y(ln),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),sa(Qe),Be(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Ug(e,t){switch(Dr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sa(Qe),we(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ba(t),null;case 31:if(t.memoizedState!==null){if(At(t),t.alternate===null)throw Error(r(340));an()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(At(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));an()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(Ie),null;case 4:return we(),null;case 10:return sa(t.type),null;case 22:case 23:return At(t),Xr(),e!==null&&Y(ln),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return sa(Qe),null;case 25:return null;default:return null}}function Ad(e,t){switch(Dr(t),t.tag){case 3:sa(Qe),we();break;case 26:case 27:case 5:ba(t);break;case 4:we();break;case 31:t.memoizedState!==null&&At(t);break;case 13:At(t);break;case 19:Y(Ie);break;case 10:sa(t.type);break;case 22:case 23:At(t),Xr(),e!==null&&Y(ln);break;case 24:sa(Qe)}}function Ii(e,t){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var o=i.next;a=o;do{if((a.tag&e)===e){i=void 0;var u=a.create,f=a.inst;i=u(),f.destroy=i}a=a.next}while(a!==o)}}catch(p){Re(t,t.return,p)}}function Da(e,t,a){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var u=o.next;i=u;do{if((i.tag&e)===e){var f=i.inst,p=f.destroy;if(p!==void 0){f.destroy=void 0,o=t;var _=a,D=p;try{D()}catch(q){Re(o,_,q)}}}i=i.next}while(i!==u)}}catch(q){Re(t,t.return,q)}}function Od(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{yh(t,a)}catch(i){Re(e,e.return,i)}}}function jd(e,t,a){a.props=hn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(i){Re(e,t,i)}}function Xi(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof a=="function"?e.refCleanup=a(i):a.current=i}}catch(o){Re(e,t,o)}}function Pt(e,t){var a=e.ref,i=e.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(o){Re(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Re(e,t,o)}else a.current=null}function Nd(e){var t=e.type,a=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(o){Re(e,e.return,o)}}function Ao(e,t,a){try{var i=e.stateNode;ay(i,e.type,a,t),i[ft]=t}catch(o){Re(e,e.return,o)}}function Rd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qa(e.type)||e.tag===4}function Oo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jo(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ea));else if(i!==4&&(i===27&&qa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(jo(e,t,a),e=e.sibling;e!==null;)jo(e,t,a),e=e.sibling}function cl(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(i!==4&&(i===27&&qa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(cl(e,t,a),e=e.sibling;e!==null;)cl(e,t,a),e=e.sibling}function Cd(e){var t=e.stateNode,a=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);rt(t,i,a),t[nt]=e,t[ft]=a}catch(u){Re(e,e.return,u)}}var ca=!1,Pe=!1,No=!1,Dd=typeof WeakSet=="function"?WeakSet:Set,at=null;function zg(e,t){if(e=e.containerInfo,Zo=Cl,e=Yc(e),wr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var o=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var f=0,p=-1,_=-1,D=0,q=0,K=e,U=null;t:for(;;){for(var M;K!==a||o!==0&&K.nodeType!==3||(p=f+o),K!==u||i!==0&&K.nodeType!==3||(_=f+i),K.nodeType===3&&(f+=K.nodeValue.length),(M=K.firstChild)!==null;)U=K,K=M;for(;;){if(K===e)break t;if(U===a&&++D===o&&(p=f),U===u&&++q===i&&(_=f),(M=K.nextSibling)!==null)break;K=U,U=K.parentNode}K=M}a=p===-1||_===-1?null:{start:p,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(Po={focusedElem:e,selectionRange:a},Cl=!1,at=t;at!==null;)if(t=at,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,at=e;else for(;at!==null;){switch(t=at,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,o=u.memoizedProps,u=u.memoizedState,i=a.stateNode;try{var F=hn(a.type,o);e=i.getSnapshotBeforeUpdate(F,u),i.__reactInternalSnapshotBeforeUpdate=e}catch(se){Re(a,a.return,se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)eu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":eu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,at=e;break}at=t.return}}function kd(e,t,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:da(e,a),i&4&&Ii(5,a);break;case 1:if(da(e,a),i&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(f){Re(a,a.return,f)}else{var o=hn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){Re(a,a.return,f)}}i&64&&Od(a),i&512&&Xi(a,a.return);break;case 3:if(da(e,a),i&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{yh(e,t)}catch(f){Re(a,a.return,f)}}break;case 27:t===null&&i&4&&Cd(a);case 26:case 5:da(e,a),t===null&&i&4&&Nd(a),i&512&&Xi(a,a.return);break;case 12:da(e,a);break;case 31:da(e,a),i&4&&Md(e,a);break;case 13:da(e,a),i&4&&Ld(e,a),i&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Yg.bind(null,a),cy(e,a))));break;case 22:if(i=a.memoizedState!==null||ca,!i){t=t!==null&&t.memoizedState!==null||Pe,o=ca;var u=Pe;ca=i,(Pe=t)&&!u?fa(e,a,(a.subtreeFlags&8772)!==0):da(e,a),ca=o,Pe=u}break;case 30:break;default:da(e,a)}}function Ud(e){var t=e.alternate;t!==null&&(e.alternate=null,Ud(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ir(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,vt=!1;function ha(e,t,a){for(a=a.child;a!==null;)zd(e,t,a),a=a.sibling}function zd(e,t,a){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(yi,a)}catch{}switch(a.tag){case 26:Pe||Pt(a,t),ha(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pe||Pt(a,t);var i=He,o=vt;qa(a.type)&&(He=a.stateNode,vt=!1),ha(e,t,a),as(a.stateNode),He=i,vt=o;break;case 5:Pe||Pt(a,t);case 6:if(i=He,o=vt,He=null,ha(e,t,a),He=i,vt=o,He!==null)if(vt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(a.stateNode)}catch(u){Re(a,t,u)}else try{He.removeChild(a.stateNode)}catch(u){Re(a,t,u)}break;case 18:He!==null&&(vt?(e=He,jf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ii(e)):jf(He,a.stateNode));break;case 4:i=He,o=vt,He=a.stateNode.containerInfo,vt=!0,ha(e,t,a),He=i,vt=o;break;case 0:case 11:case 14:case 15:Da(2,a,t),Pe||Da(4,a,t),ha(e,t,a);break;case 1:Pe||(Pt(a,t),i=a.stateNode,typeof i.componentWillUnmount=="function"&&jd(a,t,i)),ha(e,t,a);break;case 21:ha(e,t,a);break;case 22:Pe=(i=Pe)||a.memoizedState!==null,ha(e,t,a),Pe=i;break;default:ha(e,t,a)}}function Md(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ii(e)}catch(a){Re(t,t.return,a)}}}function Ld(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ii(e)}catch(a){Re(t,t.return,a)}}function Mg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Dd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Dd),t;default:throw Error(r(435,e.tag))}}function hl(e,t){var a=Mg(e);t.forEach(function(i){if(!a.has(i)){a.add(i);var o=Kg.bind(null,e,i);i.then(o,o)}})}function gt(e,t){var a=t.deletions;if(a!==null)for(var i=0;i<a.length;i++){var o=a[i],u=e,f=t,p=f;e:for(;p!==null;){switch(p.tag){case 27:if(qa(p.type)){He=p.stateNode,vt=!1;break e}break;case 5:He=p.stateNode,vt=!1;break e;case 3:case 4:He=p.stateNode.containerInfo,vt=!0;break e}p=p.return}if(He===null)throw Error(r(160));zd(u,f,o),He=null,vt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Bd(t,e),t=t.sibling}var Yt=null;function Bd(e,t){var a=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gt(t,e),yt(e),i&4&&(Da(3,e,e.return),Ii(3,e),Da(5,e,e.return));break;case 1:gt(t,e),yt(e),i&512&&(Pe||a===null||Pt(a,a.return)),i&64&&ca&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var o=Yt;if(gt(t,e),yt(e),i&512&&(Pe||a===null||Pt(a,a.return)),i&4){var u=a!==null?a.memoizedState:null;if(i=e.memoizedState,a===null)if(i===null)if(e.stateNode===null){e:{i=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":u=o.getElementsByTagName("title")[0],(!u||u[_i]||u[nt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(i),o.head.insertBefore(u,o.querySelector("head > title"))),rt(u,i,a),u[nt]=e,tt(u),i=u;break e;case"link":var f=qf("link","href",o).get(i+(a.href||""));if(f){for(var p=0;p<f.length;p++)if(u=f[p],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){f.splice(p,1);break t}}u=o.createElement(i),rt(u,i,a),o.head.appendChild(u);break;case"meta":if(f=qf("meta","content",o).get(i+(a.content||""))){for(p=0;p<f.length;p++)if(u=f[p],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){f.splice(p,1);break t}}u=o.createElement(i),rt(u,i,a),o.head.appendChild(u);break;default:throw Error(r(468,i))}u[nt]=e,tt(u),i=u}e.stateNode=i}else Hf(o,e.type,e.stateNode);else e.stateNode=Bf(o,i,e.memoizedProps);else u!==i?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,i===null?Hf(o,e.type,e.stateNode):Bf(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Ao(e,e.memoizedProps,a.memoizedProps)}break;case 27:gt(t,e),yt(e),i&512&&(Pe||a===null||Pt(a,a.return)),a!==null&&i&4&&Ao(e,e.memoizedProps,a.memoizedProps);break;case 5:if(gt(t,e),yt(e),i&512&&(Pe||a===null||Pt(a,a.return)),e.flags&32){o=e.stateNode;try{On(o,"")}catch(F){Re(e,e.return,F)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,Ao(e,o,a!==null?a.memoizedProps:o)),i&1024&&(No=!0);break;case 6:if(gt(t,e),yt(e),i&4){if(e.stateNode===null)throw Error(r(162));i=e.memoizedProps,a=e.stateNode;try{a.nodeValue=i}catch(F){Re(e,e.return,F)}}break;case 3:if(Ol=null,o=Yt,Yt=xl(t.containerInfo),gt(t,e),Yt=o,yt(e),i&4&&a!==null&&a.memoizedState.isDehydrated)try{ii(t.containerInfo)}catch(F){Re(e,e.return,F)}No&&(No=!1,qd(e));break;case 4:i=Yt,Yt=xl(e.stateNode.containerInfo),gt(t,e),yt(e),Yt=i;break;case 12:gt(t,e),yt(e);break;case 31:gt(t,e),yt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,hl(e,i)));break;case 13:gt(t,e),yt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fl=_t()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,hl(e,i)));break;case 22:o=e.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,D=ca,q=Pe;if(ca=D||o,Pe=q||_,gt(t,e),Pe=q,ca=D,yt(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||_||ca||Pe||dn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){_=a=t;try{if(u=_.stateNode,o)f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{p=_.stateNode;var K=_.memoizedProps.style,U=K!=null&&K.hasOwnProperty("display")?K.display:null;p.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(F){Re(_,_.return,F)}}}else if(t.tag===6){if(a===null){_=t;try{_.stateNode.nodeValue=o?"":_.memoizedProps}catch(F){Re(_,_.return,F)}}}else if(t.tag===18){if(a===null){_=t;try{var M=_.stateNode;o?Nf(M,!0):Nf(_.stateNode,!1)}catch(F){Re(_,_.return,F)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,hl(e,a))));break;case 19:gt(t,e),yt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,hl(e,i)));break;case 30:break;case 21:break;default:gt(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{for(var a,i=e.return;i!==null;){if(Rd(i)){a=i;break}i=i.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var o=a.stateNode,u=Oo(e);cl(e,u,o);break;case 5:var f=a.stateNode;a.flags&32&&(On(f,""),a.flags&=-33);var p=Oo(e);cl(e,p,f);break;case 3:case 4:var _=a.stateNode.containerInfo,D=Oo(e);jo(e,D,_);break;default:throw Error(r(161))}}catch(q){Re(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;qd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function da(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)kd(e,t.alternate,t),t=t.sibling}function dn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Da(4,t,t.return),dn(t);break;case 1:Pt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&jd(t,t.return,a),dn(t);break;case 27:as(t.stateNode);case 26:case 5:Pt(t,t.return),dn(t);break;case 22:t.memoizedState===null&&dn(t);break;case 30:dn(t);break;default:dn(t)}e=e.sibling}}function fa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,u=t,f=u.flags;switch(u.tag){case 0:case 11:case 15:fa(o,u,a),Ii(4,u);break;case 1:if(fa(o,u,a),i=u,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(D){Re(i,i.return,D)}if(i=u,o=i.updateQueue,o!==null){var p=i.stateNode;try{var _=o.shared.hiddenCallbacks;if(_!==null)for(o.shared.hiddenCallbacks=null,o=0;o<_.length;o++)gh(_[o],p)}catch(D){Re(i,i.return,D)}}a&&f&64&&Od(u),Xi(u,u.return);break;case 27:Cd(u);case 26:case 5:fa(o,u,a),a&&i===null&&f&4&&Nd(u),Xi(u,u.return);break;case 12:fa(o,u,a);break;case 31:fa(o,u,a),a&&f&4&&Md(o,u);break;case 13:fa(o,u,a),a&&f&4&&Ld(o,u);break;case 22:u.memoizedState===null&&fa(o,u,a),Xi(u,u.return);break;case 30:break;default:fa(o,u,a)}t=t.sibling}}function Ro(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ki(a))}function Co(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ki(e))}function Kt(e,t,a,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hd(e,t,a,i),t=t.sibling}function Hd(e,t,a,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Kt(e,t,a,i),o&2048&&Ii(9,t);break;case 1:Kt(e,t,a,i);break;case 3:Kt(e,t,a,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ki(e)));break;case 12:if(o&2048){Kt(e,t,a,i),e=t.stateNode;try{var u=t.memoizedProps,f=u.id,p=u.onPostCommit;typeof p=="function"&&p(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Re(t,t.return,_)}}else Kt(e,t,a,i);break;case 31:Kt(e,t,a,i);break;case 13:Kt(e,t,a,i);break;case 23:break;case 22:u=t.stateNode,f=t.alternate,t.memoizedState!==null?u._visibility&2?Kt(e,t,a,i):Qi(e,t):u._visibility&2?Kt(e,t,a,i):(u._visibility|=2,Xn(e,t,a,i,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Ro(f,t);break;case 24:Kt(e,t,a,i),o&2048&&Co(t.alternate,t);break;default:Kt(e,t,a,i)}}function Xn(e,t,a,i,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,f=t,p=a,_=i,D=f.flags;switch(f.tag){case 0:case 11:case 15:Xn(u,f,p,_,o),Ii(8,f);break;case 23:break;case 22:var q=f.stateNode;f.memoizedState!==null?q._visibility&2?Xn(u,f,p,_,o):Qi(u,f):(q._visibility|=2,Xn(u,f,p,_,o)),o&&D&2048&&Ro(f.alternate,f);break;case 24:Xn(u,f,p,_,o),o&&D&2048&&Co(f.alternate,f);break;default:Xn(u,f,p,_,o)}t=t.sibling}}function Qi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,i=t,o=i.flags;switch(i.tag){case 22:Qi(a,i),o&2048&&Ro(i.alternate,i);break;case 24:Qi(a,i),o&2048&&Co(i.alternate,i);break;default:Qi(a,i)}t=t.sibling}}var Ji=8192;function Qn(e,t,a){if(e.subtreeFlags&Ji)for(e=e.child;e!==null;)Gd(e,t,a),e=e.sibling}function Gd(e,t,a){switch(e.tag){case 26:Qn(e,t,a),e.flags&Ji&&e.memoizedState!==null&&Sy(a,Yt,e.memoizedState,e.memoizedProps);break;case 5:Qn(e,t,a);break;case 3:case 4:var i=Yt;Yt=xl(e.stateNode.containerInfo),Qn(e,t,a),Yt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Ji,Ji=16777216,Qn(e,t,a),Ji=i):Qn(e,t,a));break;default:Qn(e,t,a)}}function $d(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Zi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];at=i,Yd(i,e)}$d(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vd(e),e=e.sibling}function Vd(e){switch(e.tag){case 0:case 11:case 15:Zi(e),e.flags&2048&&Da(9,e,e.return);break;case 3:Zi(e);break;case 12:Zi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,dl(e)):Zi(e);break;default:Zi(e)}}function dl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];at=i,Yd(i,e)}$d(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Da(8,t,t.return),dl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,dl(t));break;default:dl(t)}e=e.sibling}}function Yd(e,t){for(;at!==null;){var a=at;switch(a.tag){case 0:case 11:case 15:Da(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ki(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,at=i;else e:for(a=e;at!==null;){i=at;var o=i.sibling,u=i.return;if(Ud(i),i===a){at=null;break e}if(o!==null){o.return=u,at=o;break e}at=u}}}var Lg={getCacheForType:function(e){var t=st(Qe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return st(Qe).controller.signal}},Bg=typeof WeakMap=="function"?WeakMap:Map,je=0,Ue=null,me=null,ge=0,Ne=0,Ot=null,ka=!1,Jn=!1,Do=!1,ma=0,Ye=0,Ua=0,fn=0,ko=0,jt=0,Zn=0,Pi=null,pt=null,Uo=!1,fl=0,Kd=0,ml=1/0,vl=null,za=null,Fe=0,Ma=null,Pn=null,va=0,zo=0,Mo=null,Id=null,Wi=0,Lo=null;function Nt(){return(je&2)!==0&&ge!==0?ge&-ge:L.T!==null?Vo():oc()}function Xd(){if(jt===0)if((ge&536870912)===0||be){var e=Es;Es<<=1,(Es&3932160)===0&&(Es=262144),jt=e}else jt=536870912;return e=xt.current,e!==null&&(e.flags|=32),jt}function bt(e,t,a){(e===Ue&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(Wn(e,0),La(e,ge,jt,!1)),bi(e,a),((je&2)===0||e!==Ue)&&(e===Ue&&((je&2)===0&&(fn|=a),Ye===4&&La(e,ge,jt,!1)),Wt(e))}function Qd(e,t,a){if((je&6)!==0)throw Error(r(327));var i=!a&&(t&127)===0&&(t&e.expiredLanes)===0||pi(e,t),o=i?Gg(e,t):qo(e,t,!0),u=i;do{if(o===0){Jn&&!i&&La(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!qg(a)){o=qo(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var p=e;o=Pi;var _=p.current.memoizedState.isDehydrated;if(_&&(Wn(p,f).flags|=256),f=qo(p,f,!1),f!==2){if(Do&&!_){p.errorRecoveryDisabledLanes|=u,fn|=u,o=4;break e}u=pt,pt=o,u!==null&&(pt===null?pt=u:pt.push.apply(pt,u))}o=f}if(u=!1,o!==2)continue}}if(o===1){Wn(e,0),La(e,t,0,!0);break}e:{switch(i=e,u=o,u){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:La(i,t,jt,!ka);break e;case 2:pt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=fl+300-_t(),10<o)){if(La(i,t,jt,!ka),xs(i,0,!0)!==0)break e;va=t,i.timeoutHandle=Af(Jd.bind(null,i,a,pt,vl,Uo,t,jt,fn,Zn,ka,u,"Throttled",-0,0),o);break e}Jd(i,a,pt,vl,Uo,t,jt,fn,Zn,ka,u,null,-0,0)}}break}while(!0);Wt(e)}function Jd(e,t,a,i,o,u,f,p,_,D,q,K,U,M){if(e.timeoutHandle=-1,K=t.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ea},Gd(t,u,K);var F=(u&62914560)===u?fl-_t():(u&4194048)===u?Kd-_t():0;if(F=Ey(K,F),F!==null){va=u,e.cancelPendingCommit=F(nf.bind(null,e,t,u,a,i,o,f,p,_,q,K,null,U,M)),La(e,u,f,!D);return}}nf(e,t,u,a,i,o,f,p,_)}function qg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var o=a[i],u=o.getSnapshot;o=o.value;try{if(!Et(u(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function La(e,t,a,i){t&=~ko,t&=~fn,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var u=31-St(o),f=1<<u;i[u]=-1,o&=~f}a!==0&&sc(e,a,t)}function gl(){return(je&6)===0?(Fi(0),!1):!0}function Bo(){if(me!==null){if(Ne===0)var e=me.return;else e=me,ia=nn=null,Fr(e),$n=null,zi=0,e=me;for(;e!==null;)Ad(e.alternate,e),e=e.return;me=null}}function Wn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,sy(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),va=0,Bo(),Ue=e,me=a=aa(e.current,null),ge=t,Ne=0,Ot=null,ka=!1,Jn=pi(e,t),Do=!1,Zn=jt=ko=fn=Ua=Ye=0,pt=Pi=null,Uo=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-St(i),u=1<<o;t|=e[o],i&=~u}return ma=t,Ls(),a}function Zd(e,t){ce=null,L.H=Vi,t===Gn||t===Ks?(t=dh(),Ne=3):t===Gr?(t=dh(),Ne=4):Ne=t===go?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ot=t,me===null&&(Ye=1,sl(e,Mt(t,e.current)))}function Pd(){var e=xt.current;return e===null?!0:(ge&4194048)===ge?Ht===null:(ge&62914560)===ge||(ge&536870912)!==0?e===Ht:!1}function Wd(){var e=L.H;return L.H=Vi,e===null?Vi:e}function Fd(){var e=L.A;return L.A=Lg,e}function yl(){Ye=4,ka||(ge&4194048)!==ge&&xt.current!==null||(Jn=!0),(Ua&134217727)===0&&(fn&134217727)===0||Ue===null||La(Ue,ge,jt,!1)}function qo(e,t,a){var i=je;je|=2;var o=Wd(),u=Fd();(Ue!==e||ge!==t)&&(vl=null,Wn(e,t)),t=!1;var f=Ye;e:do try{if(Ne!==0&&me!==null){var p=me,_=Ot;switch(Ne){case 8:Bo(),f=6;break e;case 3:case 2:case 9:case 6:xt.current===null&&(t=!0);var D=Ne;if(Ne=0,Ot=null,Fn(e,p,_,D),a&&Jn){f=0;break e}break;default:D=Ne,Ne=0,Ot=null,Fn(e,p,_,D)}}Hg(),f=Ye;break}catch(q){Zd(e,q)}while(!0);return t&&e.shellSuspendCounter++,ia=nn=null,je=i,L.H=o,L.A=u,me===null&&(Ue=null,ge=0,Ls()),f}function Hg(){for(;me!==null;)ef(me)}function Gg(e,t){var a=je;je|=2;var i=Wd(),o=Fd();Ue!==e||ge!==t?(vl=null,ml=_t()+500,Wn(e,t)):Jn=pi(e,t);e:do try{if(Ne!==0&&me!==null){t=me;var u=Ot;t:switch(Ne){case 1:Ne=0,Ot=null,Fn(e,t,u,1);break;case 2:case 9:if(ch(u)){Ne=0,Ot=null,tf(t);break}t=function(){Ne!==2&&Ne!==9||Ue!==e||(Ne=7),Wt(e)},u.then(t,t);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:ch(u)?(Ne=0,Ot=null,tf(t)):(Ne=0,Ot=null,Fn(e,t,u,7));break;case 5:var f=null;switch(me.tag){case 26:f=me.memoizedState;case 5:case 27:var p=me;if(f?Gf(f):p.stateNode.complete){Ne=0,Ot=null;var _=p.sibling;if(_!==null)me=_;else{var D=p.return;D!==null?(me=D,pl(D)):me=null}break t}}Ne=0,Ot=null,Fn(e,t,u,5);break;case 6:Ne=0,Ot=null,Fn(e,t,u,6);break;case 8:Bo(),Ye=6;break e;default:throw Error(r(462))}}$g();break}catch(q){Zd(e,q)}while(!0);return ia=nn=null,L.H=i,L.A=o,je=a,me!==null?0:(Ue=null,ge=0,Ls(),Ye)}function $g(){for(;me!==null&&!hv();)ef(me)}function ef(e){var t=Td(e.alternate,e,ma);e.memoizedProps=e.pendingProps,t===null?pl(e):me=t}function tf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=pd(a,t,t.pendingProps,t.type,void 0,ge);break;case 11:t=pd(a,t,t.pendingProps,t.type.render,t.ref,ge);break;case 5:Fr(t);default:Ad(a,t),t=me=Fc(t,ma),t=Td(a,t,ma)}e.memoizedProps=e.pendingProps,t===null?pl(e):me=t}function Fn(e,t,a,i){ia=nn=null,Fr(t),$n=null,zi=0;var o=t.return;try{if(Rg(e,o,t,a,ge)){Ye=1,sl(e,Mt(a,e.current)),me=null;return}}catch(u){if(o!==null)throw me=o,u;Ye=1,sl(e,Mt(a,e.current)),me=null;return}t.flags&32768?(be||i===1?e=!0:Jn||(ge&536870912)!==0?e=!1:(ka=e=!0,(i===2||i===9||i===3||i===6)&&(i=xt.current,i!==null&&i.tag===13&&(i.flags|=16384))),af(t,e)):pl(t)}function pl(e){var t=e;do{if((t.flags&32768)!==0){af(t,ka);return}e=t.return;var a=kg(t.alternate,t,ma);if(a!==null){me=a;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);Ye===0&&(Ye=5)}function af(e,t){do{var a=Ug(e.alternate,e);if(a!==null){a.flags&=32767,me=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){me=e;return}me=e=a}while(e!==null);Ye=6,me=null}function nf(e,t,a,i,o,u,f,p,_){e.cancelPendingCommit=null;do bl();while(Fe!==0);if((je&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(u=t.lanes|t.childLanes,u|=Ar,wv(e,a,u,f,p,_),e===Ue&&(me=Ue=null,ge=0),Pn=t,Ma=e,va=a,zo=u,Mo=o,Id=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ig(ws,function(){return uf(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=L.T,L.T=null,o=J.p,J.p=2,f=je,je|=4;try{zg(e,t,a)}finally{je=f,J.p=o,L.T=i}}Fe=1,sf(),lf(),rf()}}function sf(){if(Fe===1){Fe=0;var e=Ma,t=Pn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var i=J.p;J.p=2;var o=je;je|=4;try{Bd(t,e);var u=Po,f=Yc(e.containerInfo),p=u.focusedElem,_=u.selectionRange;if(f!==p&&p&&p.ownerDocument&&Vc(p.ownerDocument.documentElement,p)){if(_!==null&&wr(p)){var D=_.start,q=_.end;if(q===void 0&&(q=D),"selectionStart"in p)p.selectionStart=D,p.selectionEnd=Math.min(q,p.value.length);else{var K=p.ownerDocument||document,U=K&&K.defaultView||window;if(U.getSelection){var M=U.getSelection(),F=p.textContent.length,se=Math.min(_.start,F),ke=_.end===void 0?se:Math.min(_.end,F);!M.extend&&se>ke&&(f=ke,ke=se,se=f);var j=$c(p,se),E=$c(p,ke);if(j&&E&&(M.rangeCount!==1||M.anchorNode!==j.node||M.anchorOffset!==j.offset||M.focusNode!==E.node||M.focusOffset!==E.offset)){var C=K.createRange();C.setStart(j.node,j.offset),M.removeAllRanges(),se>ke?(M.addRange(C),M.extend(E.node,E.offset)):(C.setEnd(E.node,E.offset),M.addRange(C))}}}}for(K=[],M=p;M=M.parentNode;)M.nodeType===1&&K.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<K.length;p++){var G=K[p];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Cl=!!Zo,Po=Zo=null}finally{je=o,J.p=i,L.T=a}}e.current=t,Fe=2}}function lf(){if(Fe===2){Fe=0;var e=Ma,t=Pn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var i=J.p;J.p=2;var o=je;je|=4;try{kd(e,t.alternate,t)}finally{je=o,J.p=i,L.T=a}}Fe=3}}function rf(){if(Fe===4||Fe===3){Fe=0,dv();var e=Ma,t=Pn,a=va,i=Id;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Fe=5:(Fe=0,Pn=Ma=null,of(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(za=null),ar(a),t=t.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(yi,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=L.T,o=J.p,J.p=2,L.T=null;try{for(var u=e.onRecoverableError,f=0;f<i.length;f++){var p=i[f];u(p.value,{componentStack:p.stack})}}finally{L.T=t,J.p=o}}(va&3)!==0&&bl(),Wt(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===Lo?Wi++:(Wi=0,Lo=e):Wi=0,Fi(0)}}function of(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ki(t)))}function bl(){return sf(),lf(),rf(),uf()}function uf(){if(Fe!==5)return!1;var e=Ma,t=zo;zo=0;var a=ar(va),i=L.T,o=J.p;try{J.p=32>a?32:a,L.T=null,a=Mo,Mo=null;var u=Ma,f=va;if(Fe=0,Pn=Ma=null,va=0,(je&6)!==0)throw Error(r(331));var p=je;if(je|=4,Vd(u.current),Hd(u,u.current,f,a),je=p,Fi(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(yi,u)}catch{}return!0}finally{J.p=o,L.T=i,of(e,t)}}function cf(e,t,a){t=Mt(a,t),t=vo(e.stateNode,t,2),e=Na(e,t,2),e!==null&&(bi(e,2),Wt(e))}function Re(e,t,a){if(e.tag===3)cf(e,e,a);else for(;t!==null;){if(t.tag===3){cf(t,e,a);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(za===null||!za.has(i))){e=Mt(a,e),a=cd(2),i=Na(t,a,2),i!==null&&(hd(a,i,t,e),bi(i,2),Wt(i));break}}t=t.return}}function Ho(e,t,a){var i=e.pingCache;if(i===null){i=e.pingCache=new Bg;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(a)||(Do=!0,o.add(a),e=Vg.bind(null,e,t,a),t.then(e,e))}function Vg(e,t,a){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ue===e&&(ge&a)===a&&(Ye===4||Ye===3&&(ge&62914560)===ge&&300>_t()-fl?(je&2)===0&&Wn(e,0):ko|=a,Zn===ge&&(Zn=0)),Wt(e)}function hf(e,t){t===0&&(t=ic()),e=en(e,t),e!==null&&(bi(e,t),Wt(e))}function Yg(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),hf(e,a)}function Kg(e,t){var a=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}i!==null&&i.delete(t),hf(e,a)}function Ig(e,t){return Wl(e,t)}var _l=null,ei=null,Go=!1,wl=!1,$o=!1,Ba=0;function Wt(e){e!==ei&&e.next===null&&(ei===null?_l=ei=e:ei=ei.next=e),wl=!0,Go||(Go=!0,Qg())}function Fi(e,t){if(!$o&&wl){$o=!0;do for(var a=!1,i=_l;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var u=0;else{var f=i.suspendedLanes,p=i.pingedLanes;u=(1<<31-St(42|e)+1)-1,u&=o&~(f&~p),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,vf(i,u))}else u=ge,u=xs(i,i===Ue?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(u&3)===0||pi(i,u)||(a=!0,vf(i,u));i=i.next}while(a);$o=!1}}function Xg(){df()}function df(){wl=Go=!1;var e=0;Ba!==0&&iy()&&(e=Ba);for(var t=_t(),a=null,i=_l;i!==null;){var o=i.next,u=ff(i,t);u===0?(i.next=null,a===null?_l=o:a.next=o,o===null&&(ei=a)):(a=i,(e!==0||(u&3)!==0)&&(wl=!0)),i=o}Fe!==0&&Fe!==5||Fi(e),Ba!==0&&(Ba=0)}function ff(e,t){for(var a=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var f=31-St(u),p=1<<f,_=o[f];_===-1?((p&a)===0||(p&i)!==0)&&(o[f]=_v(p,t)):_<=t&&(e.expiredLanes|=p),u&=~p}if(t=Ue,a=ge,a=xs(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,a===0||e===t&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Fl(i),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||pi(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(i!==null&&Fl(i),ar(a)){case 2:case 8:a=ac;break;case 32:a=ws;break;case 268435456:a=nc;break;default:a=ws}return i=mf.bind(null,e),a=Wl(a,i),e.callbackPriority=t,e.callbackNode=a,t}return i!==null&&i!==null&&Fl(i),e.callbackPriority=2,e.callbackNode=null,2}function mf(e,t){if(Fe!==0&&Fe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(bl()&&e.callbackNode!==a)return null;var i=ge;return i=xs(e,e===Ue?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Qd(e,i,t),ff(e,_t()),e.callbackNode!=null&&e.callbackNode===a?mf.bind(null,e):null)}function vf(e,t){if(bl())return null;Qd(e,t,!0)}function Qg(){ly(function(){(je&6)!==0?Wl(tc,Xg):df()})}function Vo(){if(Ba===0){var e=qn;e===0&&(e=Ss,Ss<<=1,(Ss&261888)===0&&(Ss=256)),Ba=e}return Ba}function gf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ns(""+e)}function yf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Jg(e,t,a,i,o){if(t==="submit"&&a&&a.stateNode===o){var u=gf((o[ft]||null).action),f=i.submitter;f&&(t=(t=f[ft]||null)?gf(t.formAction):f.getAttribute("formAction"),t!==null&&(u=t,f=null));var p=new ks("action","action",null,i,o);e.push({event:p,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ba!==0){var _=f?yf(o,f):new FormData(o);oo(a,{pending:!0,data:_,method:o.method,action:u},null,_)}}else typeof u=="function"&&(p.preventDefault(),_=f?yf(o,f):new FormData(o),oo(a,{pending:!0,data:_,method:o.method,action:u},u,_))},currentTarget:o}]})}}for(var Yo=0;Yo<xr.length;Yo++){var Ko=xr[Yo],Zg=Ko.toLowerCase(),Pg=Ko[0].toUpperCase()+Ko.slice(1);Vt(Zg,"on"+Pg)}Vt(Xc,"onAnimationEnd"),Vt(Qc,"onAnimationIteration"),Vt(Jc,"onAnimationStart"),Vt("dblclick","onDoubleClick"),Vt("focusin","onFocus"),Vt("focusout","onBlur"),Vt(fg,"onTransitionRun"),Vt(mg,"onTransitionStart"),Vt(vg,"onTransitionCancel"),Vt(Zc,"onTransitionEnd"),xn("onMouseEnter",["mouseout","mouseover"]),xn("onMouseLeave",["mouseout","mouseover"]),xn("onPointerEnter",["pointerout","pointerover"]),xn("onPointerLeave",["pointerout","pointerover"]),Za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Za("onBeforeInput",["compositionend","keypress","textInput","paste"]),Za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(es));function pf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var i=e[a],o=i.event;i=i.listeners;e:{var u=void 0;if(t)for(var f=i.length-1;0<=f;f--){var p=i[f],_=p.instance,D=p.currentTarget;if(p=p.listener,_!==u&&o.isPropagationStopped())break e;u=p,o.currentTarget=D;try{u(o)}catch(q){Ms(q)}o.currentTarget=null,u=_}else for(f=0;f<i.length;f++){if(p=i[f],_=p.instance,D=p.currentTarget,p=p.listener,_!==u&&o.isPropagationStopped())break e;u=p,o.currentTarget=D;try{u(o)}catch(q){Ms(q)}o.currentTarget=null,u=_}}}}function ve(e,t){var a=t[nr];a===void 0&&(a=t[nr]=new Set);var i=e+"__bubble";a.has(i)||(bf(t,e,2,!1),a.add(i))}function Io(e,t,a){var i=0;t&&(i|=4),bf(a,e,i,t)}var Sl="_reactListening"+Math.random().toString(36).slice(2);function Xo(e){if(!e[Sl]){e[Sl]=!0,hc.forEach(function(a){a!=="selectionchange"&&(Wg.has(a)||Io(a,!1,e),Io(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sl]||(t[Sl]=!0,Io("selectionchange",!1,t))}}function bf(e,t,a,i){switch(Qf(t)){case 2:var o=Ay;break;case 8:o=Oy;break;default:o=ou}a=o.bind(null,t,a,e),o=void 0,!dr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function Qo(e,t,a,i,o){var u=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var f=i.tag;if(f===3||f===4){var p=i.stateNode.containerInfo;if(p===o)break;if(f===4)for(f=i.return;f!==null;){var _=f.tag;if((_===3||_===4)&&f.stateNode.containerInfo===o)return;f=f.return}for(;p!==null;){if(f=Sn(p),f===null)return;if(_=f.tag,_===5||_===6||_===26||_===27){i=u=f;continue e}p=p.parentNode}}i=i.return}Ec(function(){var D=u,q=cr(a),K=[];e:{var U=Pc.get(e);if(U!==void 0){var M=ks,F=e;switch(e){case"keypress":if(Cs(a)===0)break e;case"keydown":case"keyup":M=Kv;break;case"focusin":F="focus",M=gr;break;case"focusout":F="blur",M=gr;break;case"beforeblur":case"afterblur":M=gr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=kv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=Qv;break;case Xc:case Qc:case Jc:M=Mv;break;case Zc:M=Zv;break;case"scroll":case"scrollend":M=Cv;break;case"wheel":M=Wv;break;case"copy":case"cut":case"paste":M=Bv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=jc;break;case"toggle":case"beforetoggle":M=eg}var se=(t&4)!==0,ke=!se&&(e==="scroll"||e==="scrollend"),j=se?U!==null?U+"Capture":null:U;se=[];for(var E=D,C;E!==null;){var G=E;if(C=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||C===null||j===null||(G=Si(E,j),G!=null&&se.push(ts(E,G,C))),ke)break;E=E.return}0<se.length&&(U=new M(U,F,null,a,q),K.push({event:U,listeners:se}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",U&&a!==ur&&(F=a.relatedTarget||a.fromElement)&&(Sn(F)||F[wn]))break e;if((M||U)&&(U=q.window===q?q:(U=q.ownerDocument)?U.defaultView||U.parentWindow:window,M?(F=a.relatedTarget||a.toElement,M=D,F=F?Sn(F):null,F!==null&&(ke=h(F),se=F.tag,F!==ke||se!==5&&se!==27&&se!==6)&&(F=null)):(M=null,F=D),M!==F)){if(se=Ac,G="onMouseLeave",j="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(se=jc,G="onPointerLeave",j="onPointerEnter",E="pointer"),ke=M==null?U:wi(M),C=F==null?U:wi(F),U=new se(G,E+"leave",M,a,q),U.target=ke,U.relatedTarget=C,G=null,Sn(q)===D&&(se=new se(j,E+"enter",F,a,q),se.target=C,se.relatedTarget=ke,G=se),ke=G,M&&F)t:{for(se=Fg,j=M,E=F,C=0,G=j;G;G=se(G))C++;G=0;for(var ie=E;ie;ie=se(ie))G++;for(;0<C-G;)j=se(j),C--;for(;0<G-C;)E=se(E),G--;for(;C--;){if(j===E||E!==null&&j===E.alternate){se=j;break t}j=se(j),E=se(E)}se=null}else se=null;M!==null&&_f(K,U,M,se,!1),F!==null&&ke!==null&&_f(K,ke,F,se,!0)}}e:{if(U=D?wi(D):window,M=U.nodeName&&U.nodeName.toLowerCase(),M==="select"||M==="input"&&U.type==="file")var Te=Mc;else if(Uc(U))if(Lc)Te=cg;else{Te=og;var ee=rg}else M=U.nodeName,!M||M.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?D&&or(D.elementType)&&(Te=Mc):Te=ug;if(Te&&(Te=Te(e,D))){zc(K,Te,a,q);break e}ee&&ee(e,U,D),e==="focusout"&&D&&U.type==="number"&&D.memoizedProps.value!=null&&rr(U,"number",U.value)}switch(ee=D?wi(D):window,e){case"focusin":(Uc(ee)||ee.contentEditable==="true")&&(Cn=ee,Sr=D,Ri=null);break;case"focusout":Ri=Sr=Cn=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,Kc(K,a,q);break;case"selectionchange":if(dg)break;case"keydown":case"keyup":Kc(K,a,q)}var he;if(pr)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Rn?Dc(e,a)&&(ye="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(Nc&&a.locale!=="ko"&&(Rn||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Rn&&(he=Tc()):(Sa=q,fr="value"in Sa?Sa.value:Sa.textContent,Rn=!0)),ee=El(D,ye),0<ee.length&&(ye=new Oc(ye,e,null,a,q),K.push({event:ye,listeners:ee}),he?ye.data=he:(he=kc(a),he!==null&&(ye.data=he)))),(he=ag?ng(e,a):ig(e,a))&&(ye=El(D,"onBeforeInput"),0<ye.length&&(ee=new Oc("onBeforeInput","beforeinput",null,a,q),K.push({event:ee,listeners:ye}),ee.data=he)),Jg(K,e,D,a,q)}pf(K,t)})}function ts(e,t,a){return{instance:e,listener:t,currentTarget:a}}function El(e,t){for(var a=t+"Capture",i=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Si(e,a),o!=null&&i.unshift(ts(e,o,u)),o=Si(e,t),o!=null&&i.push(ts(e,o,u))),e.tag===3)return i;e=e.return}return[]}function Fg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _f(e,t,a,i,o){for(var u=t._reactName,f=[];a!==null&&a!==i;){var p=a,_=p.alternate,D=p.stateNode;if(p=p.tag,_!==null&&_===i)break;p!==5&&p!==26&&p!==27||D===null||(_=D,o?(D=Si(a,u),D!=null&&f.unshift(ts(a,D,_))):o||(D=Si(a,u),D!=null&&f.push(ts(a,D,_)))),a=a.return}f.length!==0&&e.push({event:t,listeners:f})}var ey=/\r\n?/g,ty=/\u0000|\uFFFD/g;function wf(e){return(typeof e=="string"?e:""+e).replace(ey,`
`).replace(ty,"")}function Sf(e,t){return t=wf(t),wf(e)===t}function De(e,t,a,i,o,u){switch(a){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||On(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&On(e,""+i);break;case"className":Os(e,"class",i);break;case"tabIndex":Os(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Os(e,a,i);break;case"style":wc(e,i,u);break;case"data":if(t!=="object"){Os(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=Ns(""+i),e.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&De(e,t,"name",o.name,o,null),De(e,t,"formEncType",o.formEncType,o,null),De(e,t,"formMethod",o.formMethod,o,null),De(e,t,"formTarget",o.formTarget,o,null)):(De(e,t,"encType",o.encType,o,null),De(e,t,"method",o.method,o,null),De(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=Ns(""+i),e.setAttribute(a,i);break;case"onClick":i!=null&&(e.onclick=ea);break;case"onScroll":i!=null&&ve("scroll",e);break;case"onScrollEnd":i!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(a=i.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}a=Ns(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""+i):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":i===!0?e.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,i):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(a,i):e.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(a):e.setAttribute(a,i);break;case"popover":ve("beforetoggle",e),ve("toggle",e),As(e,"popover",i);break;case"xlinkActuate":Ft(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Ft(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Ft(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Ft(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Ft(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Ft(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Ft(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Ft(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Ft(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":As(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Nv.get(a)||a,As(e,a,i))}}function Jo(e,t,a,i,o,u){switch(a){case"style":wc(e,i,u);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(a=i.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof i=="string"?On(e,i):(typeof i=="number"||typeof i=="bigint")&&On(e,""+i);break;case"onScroll":i!=null&&ve("scroll",e);break;case"onScrollEnd":i!=null&&ve("scrollend",e);break;case"onClick":i!=null&&(e.onclick=ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),u=e[ft]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof i=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,i,o);break e}a in e?e[a]=i:i===!0?e.setAttribute(a,""):As(e,a,i)}}}function rt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var i=!1,o=!1,u;for(u in a)if(a.hasOwnProperty(u)){var f=a[u];if(f!=null)switch(u){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:De(e,t,u,f,a,null)}}o&&De(e,t,"srcSet",a.srcSet,a,null),i&&De(e,t,"src",a.src,a,null);return;case"input":ve("invalid",e);var p=u=f=o=null,_=null,D=null;for(i in a)if(a.hasOwnProperty(i)){var q=a[i];if(q!=null)switch(i){case"name":o=q;break;case"type":f=q;break;case"checked":_=q;break;case"defaultChecked":D=q;break;case"value":u=q;break;case"defaultValue":p=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,t));break;default:De(e,t,i,q,a,null)}}yc(e,u,p,_,D,f,o,!1);return;case"select":ve("invalid",e),i=f=u=null;for(o in a)if(a.hasOwnProperty(o)&&(p=a[o],p!=null))switch(o){case"value":u=p;break;case"defaultValue":f=p;break;case"multiple":i=p;default:De(e,t,o,p,a,null)}t=u,a=f,e.multiple=!!i,t!=null?An(e,!!i,t,!1):a!=null&&An(e,!!i,a,!0);return;case"textarea":ve("invalid",e),u=o=i=null;for(f in a)if(a.hasOwnProperty(f)&&(p=a[f],p!=null))switch(f){case"value":i=p;break;case"defaultValue":o=p;break;case"children":u=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:De(e,t,f,p,a,null)}bc(e,i,o,u);return;case"option":for(_ in a)a.hasOwnProperty(_)&&(i=a[_],i!=null)&&(_==="selected"?e.selected=i&&typeof i!="function"&&typeof i!="symbol":De(e,t,_,i,a,null));return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(i=0;i<es.length;i++)ve(es[i],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in a)if(a.hasOwnProperty(D)&&(i=a[D],i!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:De(e,t,D,i,a,null)}return;default:if(or(t)){for(q in a)a.hasOwnProperty(q)&&(i=a[q],i!==void 0&&Jo(e,t,q,i,a,void 0));return}}for(p in a)a.hasOwnProperty(p)&&(i=a[p],i!=null&&De(e,t,p,i,a,null))}function ay(e,t,a,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,f=null,p=null,_=null,D=null,q=null;for(M in a){var K=a[M];if(a.hasOwnProperty(M)&&K!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":_=K;default:i.hasOwnProperty(M)||De(e,t,M,null,i,K)}}for(var U in i){var M=i[U];if(K=a[U],i.hasOwnProperty(U)&&(M!=null||K!=null))switch(U){case"type":u=M;break;case"name":o=M;break;case"checked":D=M;break;case"defaultChecked":q=M;break;case"value":f=M;break;case"defaultValue":p=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,t));break;default:M!==K&&De(e,t,U,M,i,K)}}lr(e,f,p,_,D,q,u,o);return;case"select":M=f=p=U=null;for(u in a)if(_=a[u],a.hasOwnProperty(u)&&_!=null)switch(u){case"value":break;case"multiple":M=_;default:i.hasOwnProperty(u)||De(e,t,u,null,i,_)}for(o in i)if(u=i[o],_=a[o],i.hasOwnProperty(o)&&(u!=null||_!=null))switch(o){case"value":U=u;break;case"defaultValue":p=u;break;case"multiple":f=u;default:u!==_&&De(e,t,o,u,i,_)}t=p,a=f,i=M,U!=null?An(e,!!a,U,!1):!!i!=!!a&&(t!=null?An(e,!!a,t,!0):An(e,!!a,a?[]:"",!1));return;case"textarea":M=U=null;for(p in a)if(o=a[p],a.hasOwnProperty(p)&&o!=null&&!i.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:De(e,t,p,null,i,o)}for(f in i)if(o=i[f],u=a[f],i.hasOwnProperty(f)&&(o!=null||u!=null))switch(f){case"value":U=o;break;case"defaultValue":M=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==u&&De(e,t,f,o,i,u)}pc(e,U,M);return;case"option":for(var F in a)U=a[F],a.hasOwnProperty(F)&&U!=null&&!i.hasOwnProperty(F)&&(F==="selected"?e.selected=!1:De(e,t,F,null,i,U));for(_ in i)U=i[_],M=a[_],i.hasOwnProperty(_)&&U!==M&&(U!=null||M!=null)&&(_==="selected"?e.selected=U&&typeof U!="function"&&typeof U!="symbol":De(e,t,_,U,i,M));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in a)U=a[se],a.hasOwnProperty(se)&&U!=null&&!i.hasOwnProperty(se)&&De(e,t,se,null,i,U);for(D in i)if(U=i[D],M=a[D],i.hasOwnProperty(D)&&U!==M&&(U!=null||M!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,t));break;default:De(e,t,D,U,i,M)}return;default:if(or(t)){for(var ke in a)U=a[ke],a.hasOwnProperty(ke)&&U!==void 0&&!i.hasOwnProperty(ke)&&Jo(e,t,ke,void 0,i,U);for(q in i)U=i[q],M=a[q],!i.hasOwnProperty(q)||U===M||U===void 0&&M===void 0||Jo(e,t,q,U,i,M);return}}for(var j in a)U=a[j],a.hasOwnProperty(j)&&U!=null&&!i.hasOwnProperty(j)&&De(e,t,j,null,i,U);for(K in i)U=i[K],M=a[K],!i.hasOwnProperty(K)||U===M||U==null&&M==null||De(e,t,K,U,i,M)}function Ef(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ny(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),i=0;i<a.length;i++){var o=a[i],u=o.transferSize,f=o.initiatorType,p=o.duration;if(u&&p&&Ef(f)){for(f=0,p=o.responseEnd,i+=1;i<a.length;i++){var _=a[i],D=_.startTime;if(D>p)break;var q=_.transferSize,K=_.initiatorType;q&&Ef(K)&&(_=_.responseEnd,f+=q*(_<p?1:(p-D)/(_-D)))}if(--i,t+=8*(u+f)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Zo=null,Po=null;function Tl(e){return e.nodeType===9?e:e.ownerDocument}function Tf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Wo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fo=null;function iy(){var e=window.event;return e&&e.type==="popstate"?e===Fo?!1:(Fo=e,!0):(Fo=null,!1)}var Af=typeof setTimeout=="function"?setTimeout:void 0,sy=typeof clearTimeout=="function"?clearTimeout:void 0,Of=typeof Promise=="function"?Promise:void 0,ly=typeof queueMicrotask=="function"?queueMicrotask:typeof Of<"u"?function(e){return Of.resolve(null).then(e).catch(ry)}:Af;function ry(e){setTimeout(function(){throw e})}function qa(e){return e==="head"}function jf(e,t){var a=t,i=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(i===0){e.removeChild(o),ii(t);return}i--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")i++;else if(a==="html")as(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,as(a);for(var u=a.firstChild;u;){var f=u.nextSibling,p=u.nodeName;u[_i]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=f}}else a==="body"&&as(e.ownerDocument.body);a=o}while(a);ii(t)}function Nf(e,t){var a=e;e=0;do{var i=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=i}while(a)}function eu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":eu(a),ir(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function oy(e,t,a,i){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[_i])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Gt(e.nextSibling),e===null)break}return null}function uy(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Gt(e.nextSibling),e===null))return null;return e}function Rf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Gt(e.nextSibling),e===null))return null;return e}function tu(e){return e.data==="$?"||e.data==="$~"}function au(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function cy(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var i=function(){t(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var nu=null;function Cf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Gt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Df(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function kf(e,t,a){switch(t=Tl(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function as(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ir(e)}var $t=new Map,Uf=new Set;function xl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ga=J.d;J.d={f:hy,r:dy,D:fy,C:my,L:vy,m:gy,X:py,S:yy,M:by};function hy(){var e=ga.f(),t=gl();return e||t}function dy(e){var t=En(e);t!==null&&t.tag===5&&t.type==="form"?Zh(t):ga.r(e)}var ti=typeof document>"u"?null:document;function zf(e,t,a){var i=ti;if(i&&typeof t=="string"&&t){var o=Ut(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Uf.has(o)||(Uf.add(o),e={rel:e,crossOrigin:a,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),rt(t,"link",e),tt(t),i.head.appendChild(t)))}}function fy(e){ga.D(e),zf("dns-prefetch",e,null)}function my(e,t){ga.C(e,t),zf("preconnect",e,t)}function vy(e,t,a){ga.L(e,t,a);var i=ti;if(i&&e&&t){var o='link[rel="preload"][as="'+Ut(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Ut(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Ut(a.imageSizes)+'"]')):o+='[href="'+Ut(e)+'"]';var u=o;switch(t){case"style":u=ai(e);break;case"script":u=ni(e)}$t.has(u)||(e=S({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),$t.set(u,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(ns(u))||t==="script"&&i.querySelector(is(u))||(t=i.createElement("link"),rt(t,"link",e),tt(t),i.head.appendChild(t)))}}function gy(e,t){ga.m(e,t);var a=ti;if(a&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Ut(i)+'"][href="'+Ut(e)+'"]',u=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=ni(e)}if(!$t.has(u)&&(e=S({rel:"modulepreload",href:e},t),$t.set(u,e),a.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(is(u)))return}i=a.createElement("link"),rt(i,"link",e),tt(i),a.head.appendChild(i)}}}function yy(e,t,a){ga.S(e,t,a);var i=ti;if(i&&e){var o=Tn(i).hoistableStyles,u=ai(e);t=t||"default";var f=o.get(u);if(!f){var p={loading:0,preload:null};if(f=i.querySelector(ns(u)))p.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},a),(a=$t.get(u))&&iu(e,a);var _=f=i.createElement("link");tt(_),rt(_,"link",e),_._p=new Promise(function(D,q){_.onload=D,_.onerror=q}),_.addEventListener("load",function(){p.loading|=1}),_.addEventListener("error",function(){p.loading|=2}),p.loading|=4,Al(f,t,i)}f={type:"stylesheet",instance:f,count:1,state:p},o.set(u,f)}}}function py(e,t){ga.X(e,t);var a=ti;if(a&&e){var i=Tn(a).hoistableScripts,o=ni(e),u=i.get(o);u||(u=a.querySelector(is(o)),u||(e=S({src:e,async:!0},t),(t=$t.get(o))&&su(e,t),u=a.createElement("script"),tt(u),rt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(o,u))}}function by(e,t){ga.M(e,t);var a=ti;if(a&&e){var i=Tn(a).hoistableScripts,o=ni(e),u=i.get(o);u||(u=a.querySelector(is(o)),u||(e=S({src:e,async:!0,type:"module"},t),(t=$t.get(o))&&su(e,t),u=a.createElement("script"),tt(u),rt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(o,u))}}function Mf(e,t,a,i){var o=(o=ae.current)?xl(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ai(a.href),a=Tn(o).hoistableStyles,i=a.get(t),i||(i={type:"style",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ai(a.href);var u=Tn(o).hoistableStyles,f=u.get(e);if(f||(o=o.ownerDocument||o,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,f),(u=o.querySelector(ns(e)))&&!u._p&&(f.instance=u,f.state.loading=5),$t.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$t.set(e,a),u||_y(o,e,a,f.state))),t&&i===null)throw Error(r(528,""));return f}if(t&&i!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ni(a),a=Tn(o).hoistableScripts,i=a.get(t),i||(i={type:"script",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ai(e){return'href="'+Ut(e)+'"'}function ns(e){return'link[rel="stylesheet"]['+e+"]"}function Lf(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function _y(e,t,a,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),rt(t,"link",a),tt(t),e.head.appendChild(t))}function ni(e){return'[src="'+Ut(e)+'"]'}function is(e){return"script[async]"+e}function Bf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Ut(a.href)+'"]');if(i)return t.instance=i,tt(i),i;var o=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),tt(i),rt(i,"style",o),Al(i,a.precedence,e),t.instance=i;case"stylesheet":o=ai(a.href);var u=e.querySelector(ns(o));if(u)return t.state.loading|=4,t.instance=u,tt(u),u;i=Lf(a),(o=$t.get(o))&&iu(i,o),u=(e.ownerDocument||e).createElement("link"),tt(u);var f=u;return f._p=new Promise(function(p,_){f.onload=p,f.onerror=_}),rt(u,"link",i),t.state.loading|=4,Al(u,a.precedence,e),t.instance=u;case"script":return u=ni(a.src),(o=e.querySelector(is(u)))?(t.instance=o,tt(o),o):(i=a,(o=$t.get(u))&&(i=S({},a),su(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),tt(o),rt(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Al(i,a.precedence,e));return t.instance}function Al(e,t,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,u=o,f=0;f<i.length;f++){var p=i[f];if(p.dataset.precedence===t)u=p;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function iu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function su(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ol=null;function qf(e,t,a){if(Ol===null){var i=new Map,o=Ol=new Map;o.set(a,i)}else o=Ol,i=o.get(a),i||(i=new Map,o.set(a,i));if(i.has(e))return i;for(i.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var u=a[o];if(!(u[_i]||u[nt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var f=u.getAttribute(t)||"";f=e+f;var p=i.get(f);p?p.push(u):i.set(f,[u])}}return i}function Hf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function wy(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Gf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Sy(e,t,a,i){if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=ai(i.href),u=t.querySelector(ns(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=jl.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,tt(u);return}u=t.ownerDocument||t,i=Lf(i),(o=$t.get(o))&&iu(i,o),u=u.createElement("link"),tt(u);var f=u;f._p=new Promise(function(p,_){f.onload=p,f.onerror=_}),rt(u,"link",i),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=jl.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var lu=0;function Ey(e,t){return e.stylesheets&&e.count===0&&Rl(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var i=setTimeout(function(){if(e.stylesheets&&Rl(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&lu===0&&(lu=62500*ny());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Rl(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>lu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function jl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Nl=null;function Rl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Nl=new Map,t.forEach(Ty,e),Nl=null,jl.call(e))}function Ty(e,t){if(!(t.state.loading&4)){var a=Nl.get(e);if(a)var i=a.get(null);else{a=new Map,Nl.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var f=o[u];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(a.set(f.dataset.precedence,f),i=f)}i&&a.set(null,i)}o=t.instance,f=o.getAttribute("data-precedence"),u=a.get(f)||i,u===i&&a.set(null,o),a.set(f,o),this.count++,i=jl.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var ss={$$typeof:T,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function xy(e,t,a,i,o,u,f,p,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=er(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=er(0),this.hiddenUpdates=er(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function $f(e,t,a,i,o,u,f,p,_,D,q,K){return e=new xy(e,t,a,f,_,D,q,K,p),t=1,u===!0&&(t|=24),u=Tt(3,null,null,t),e.current=u,u.stateNode=e,t=Br(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:i,isDehydrated:a,cache:t},$r(u),e}function Vf(e){return e?(e=Un,e):Un}function Yf(e,t,a,i,o,u){o=Vf(o),i.context===null?i.context=o:i.pendingContext=o,i=ja(t),i.payload={element:a},u=u===void 0?null:u,u!==null&&(i.callback=u),a=Na(e,i,t),a!==null&&(bt(a,e,t),Li(a,e,t))}function Kf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function ru(e,t){Kf(e,t),(e=e.alternate)&&Kf(e,t)}function If(e){if(e.tag===13||e.tag===31){var t=en(e,67108864);t!==null&&bt(t,e,67108864),ru(e,67108864)}}function Xf(e){if(e.tag===13||e.tag===31){var t=Nt();t=tr(t);var a=en(e,t);a!==null&&bt(a,e,t),ru(e,t)}}var Cl=!0;function Ay(e,t,a,i){var o=L.T;L.T=null;var u=J.p;try{J.p=2,ou(e,t,a,i)}finally{J.p=u,L.T=o}}function Oy(e,t,a,i){var o=L.T;L.T=null;var u=J.p;try{J.p=8,ou(e,t,a,i)}finally{J.p=u,L.T=o}}function ou(e,t,a,i){if(Cl){var o=uu(i);if(o===null)Qo(e,t,i,Dl,a),Jf(e,i);else if(Ny(o,e,t,a,i))i.stopPropagation();else if(Jf(e,i),t&4&&-1<jy.indexOf(e)){for(;o!==null;){var u=En(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var f=Ja(u.pendingLanes);if(f!==0){var p=u;for(p.pendingLanes|=2,p.entangledLanes|=2;f;){var _=1<<31-St(f);p.entanglements[1]|=_,f&=~_}Wt(u),(je&6)===0&&(ml=_t()+500,Fi(0))}}break;case 31:case 13:p=en(u,2),p!==null&&bt(p,u,2),gl(),ru(u,2)}if(u=uu(i),u===null&&Qo(e,t,i,Dl,a),u===o)break;o=u}o!==null&&i.stopPropagation()}else Qo(e,t,i,null,a)}}function uu(e){return e=cr(e),cu(e)}var Dl=null;function cu(e){if(Dl=null,e=Sn(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=d(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Dl=e,null}function Qf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fv()){case tc:return 2;case ac:return 8;case ws:case mv:return 32;case nc:return 268435456;default:return 32}default:return 32}}var hu=!1,Ha=null,Ga=null,$a=null,ls=new Map,rs=new Map,Va=[],jy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jf(e,t){switch(e){case"focusin":case"focusout":Ha=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":ls.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(t.pointerId)}}function os(e,t,a,i,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:i,nativeEvent:u,targetContainers:[o]},t!==null&&(t=En(t),t!==null&&If(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Ny(e,t,a,i,o){switch(t){case"focusin":return Ha=os(Ha,e,t,a,i,o),!0;case"dragenter":return Ga=os(Ga,e,t,a,i,o),!0;case"mouseover":return $a=os($a,e,t,a,i,o),!0;case"pointerover":var u=o.pointerId;return ls.set(u,os(ls.get(u)||null,e,t,a,i,o)),!0;case"gotpointercapture":return u=o.pointerId,rs.set(u,os(rs.get(u)||null,e,t,a,i,o)),!0}return!1}function Zf(e){var t=Sn(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=d(a),t!==null){e.blockedOn=t,uc(e.priority,function(){Xf(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,uc(e.priority,function(){Xf(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=uu(e.nativeEvent);if(a===null){a=e.nativeEvent;var i=new a.constructor(a.type,a);ur=i,a.target.dispatchEvent(i),ur=null}else return t=En(a),t!==null&&If(t),e.blockedOn=a,!1;t.shift()}return!0}function Pf(e,t,a){kl(e)&&a.delete(t)}function Ry(){hu=!1,Ha!==null&&kl(Ha)&&(Ha=null),Ga!==null&&kl(Ga)&&(Ga=null),$a!==null&&kl($a)&&($a=null),ls.forEach(Pf),rs.forEach(Pf)}function Ul(e,t){e.blockedOn===t&&(e.blockedOn=null,hu||(hu=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ry)))}var zl=null;function Wf(e){zl!==e&&(zl=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){zl===e&&(zl=null);for(var t=0;t<e.length;t+=3){var a=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(cu(i||a)===null)continue;break}var u=En(a);u!==null&&(e.splice(t,3),t-=3,oo(u,{pending:!0,data:o,method:a.method,action:i},i,o))}}))}function ii(e){function t(_){return Ul(_,e)}Ha!==null&&Ul(Ha,e),Ga!==null&&Ul(Ga,e),$a!==null&&Ul($a,e),ls.forEach(t),rs.forEach(t);for(var a=0;a<Va.length;a++){var i=Va[a];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Va.length&&(a=Va[0],a.blockedOn===null);)Zf(a),a.blockedOn===null&&Va.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var o=a[i],u=a[i+1],f=o[ft]||null;if(typeof u=="function")f||Wf(a);else if(f){var p=null;if(u&&u.hasAttribute("formAction")){if(o=u,f=u[ft]||null)p=f.formAction;else if(cu(o)!==null)continue}else p=f.action;typeof p=="function"?a[i+1]=p:(a.splice(i,3),i-=3),Wf(a)}}}function Ff(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(f){return o=f})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),i||setTimeout(a,20)}function a(){if(!i&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function du(e){this._internalRoot=e}Ml.prototype.render=du.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,i=Nt();Yf(a,i,e,t,null,null)},Ml.prototype.unmount=du.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yf(e.current,2,null,e,null,null),gl(),t[wn]=null}};function Ml(e){this._internalRoot=e}Ml.prototype.unstable_scheduleHydration=function(e){if(e){var t=oc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Va.length&&t!==0&&t<Va[a].priority;a++);Va.splice(a,0,e),a===0&&Zf(e)}};var em=n.version;if(em!=="19.2.3")throw Error(r(527,em,"19.2.3"));J.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Cy={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ll=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ll.isDisabled&&Ll.supportsFiber)try{yi=Ll.inject(Cy),wt=Ll}catch{}}return cs.createRoot=function(e,t){if(!c(e))throw Error(r(299));var a=!1,i="",o=ld,u=rd,f=od;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=$f(e,1,!1,null,null,a,i,null,o,u,f,Ff),e[wn]=t.current,Xo(e),new du(t)},cs.hydrateRoot=function(e,t,a){if(!c(e))throw Error(r(299));var i=!1,o="",u=ld,f=rd,p=od,_=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(f=a.onCaughtError),a.onRecoverableError!==void 0&&(p=a.onRecoverableError),a.formState!==void 0&&(_=a.formState)),t=$f(e,1,!0,t,a??null,i,o,_,u,f,p,Ff),t.context=Vf(null),a=t.current,i=Nt(),i=tr(i),o=ja(i),o.callback=null,Na(a,o,i),a=i,t.current.lanes=a,bi(t,a),Wt(t),e[wn]=t.current,Xo(e),new Ml(t)},cs.version="19.2.3",cs}var cm;function Vy(){if(cm)return vu.exports;cm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),vu.exports=$y(),vu.exports}var Yy=Vy();const Hm=[{name:"Instagram",url:"https://instagram.com/vranovmusic_sro",icon:""},{name:"YouTube",url:"https://www.youtube.com/@VranovMusiic",icon:""}],hm="info@vranovmusic.eu",Ky=({windows:s,onWindowClick:n,onStartClick:l,onAdminClick:r,isStartMenuOpen:c,activeWindowId:h,isMobile:d=!1})=>{const[g,m]=$.useState(()=>new Date);$.useEffect(()=>{const S=setInterval(()=>m(new Date),1e3);return()=>clearInterval(S)},[]);const y=S=>S.toLocaleTimeString("sk-SK",{hour:"2-digit",minute:"2-digit"}),b=s.filter(S=>S.isOpen);return v.jsxs("div",{className:`taskbar ${d?"mobile":""}`,children:[v.jsxs("button",{className:`start-button ${c?"active":""}`,onClick:l,children:[v.jsx("span",{className:"start-icon",children:""}),v.jsx("span",{className:"start-text pixel-text",children:"VM"})]}),v.jsx("div",{className:"taskbar-divider"}),v.jsx("div",{className:"taskbar-windows",children:b.map(S=>v.jsxs("button",{className:`taskbar-window-btn ${S.isMinimized?"minimized":""} ${h===S.id?"current":""}`,onClick:()=>n(S.id),children:[v.jsx("span",{className:"taskbar-window-icon",children:S.icon}),v.jsx("span",{className:"taskbar-window-title",children:S.title}),d&&h===S.id&&!S.isMinimized&&v.jsx("span",{className:"taskbar-active-dot"})]},S.id))}),v.jsxs("div",{className:"system-tray",children:[r&&v.jsx("button",{className:"tray-admin-btn",onClick:r,title:"Admin Panel",children:""}),!d&&v.jsx("div",{className:"tray-icons",children:Hm.slice(0,3).map(S=>v.jsx("a",{href:S.url,target:"_blank",rel:"noopener noreferrer",className:"tray-icon",title:S.name,children:S.icon},S.name))}),!d&&v.jsx("div",{className:"taskbar-divider"}),v.jsx("div",{className:"tray-clock pixel-text",children:y(g)})]})]})},Iy=({label:s,icon:n,onClick:l,onDoubleClick:r,isSelected:c=!1,isMobile:h=!1,index:d=0})=>{const g=()=>{l()},m=()=>{h||r()};return v.jsxs("button",{className:`desktop-icon ${c?"selected":""} ${h?"mobile":""}`,onClick:g,onDoubleClick:m,"data-index":d,children:[v.jsx("div",{className:"desktop-icon-image",children:v.jsx("span",{className:"desktop-icon-emoji",children:n})}),v.jsx("span",{className:"desktop-icon-label pixel-text",children:s})]})},Xy=({isOpen:s,onClose:n,items:l,isMobile:r=!1})=>s?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"start-menu-backdrop",onClick:n}),v.jsxs("div",{className:`start-menu ${r?"mobile":""}`,children:[v.jsx("div",{className:"start-menu-banner"}),v.jsxs("div",{className:"start-menu-items",children:[r&&v.jsx("button",{className:"start-menu-close",onClick:n,children:v.jsx("span",{children:""})}),l.map(c=>v.jsxs("button",{className:"start-menu-item",onClick:()=>{c.onClick(),n()},children:[v.jsx("span",{className:"start-menu-item-icon",children:c.icon}),v.jsx("span",{className:"start-menu-item-label",children:c.label})]},c.id))]})]})]}):null;function Qy(s){const{initialPosition:n,bounds:l,disabled:r=!1,onDragStart:c,onDragEnd:h}=s,[d,g]=$.useState(n),[m,y]=$.useState(!1),b=$.useRef(null),S=$.useRef({x:0,y:0});$.useEffect(()=>{g(n)},[n.x,n.y]);const A=$.useCallback((T,V)=>{if(r)return!1;y(!0),c?.();const I=b.current?.getBoundingClientRect();return I&&(S.current={x:T-I.left,y:V-I.top}),!0},[r,c]),O=$.useCallback(T=>{const V=T.target;V.closest(".window-content")||V.closest(".window-controls")||(T.preventDefault(),A(T.clientX,T.clientY))},[A]),x=$.useCallback(T=>{const V=T.target;if(V.closest(".window-content")||V.closest(".window-controls"))return;const I=T.touches[0];I&&A(I.clientX,I.clientY)&&T.preventDefault()},[A]),N=$.useCallback((T,V)=>{let I=T-S.current.x,R=V-S.current.y;l&&(I=Math.max(l.left,Math.min(I,l.right)),R=Math.max(l.top,Math.min(R,l.bottom))),I=Math.max(-100,I),R=Math.max(0,R),g({x:I,y:R})},[l]),z=$.useCallback(T=>{m&&N(T.clientX,T.clientY)},[m,N]),k=$.useCallback(T=>{if(!m)return;const V=T.touches[0];V&&N(V.clientX,V.clientY),T.preventDefault()},[m,N]),H=$.useCallback(()=>{m&&(y(!1),h?.(d))},[m,h,d]);return $.useEffect(()=>(m&&(document.addEventListener("mousemove",z),document.addEventListener("mouseup",H),document.addEventListener("touchmove",k,{passive:!1}),document.addEventListener("touchend",H),document.addEventListener("touchcancel",H),document.body.style.cursor="grabbing",document.body.style.userSelect="none"),()=>{document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",H),document.removeEventListener("touchmove",k),document.removeEventListener("touchend",H),document.removeEventListener("touchcancel",H),document.body.style.cursor="",document.body.style.userSelect=""}),[m,z,k,H]),{position:d,isDragging:m,elementRef:b,handleMouseDown:O,handleTouchStart:x,setPosition:g}}function Jy({initialSize:s,minSize:n={width:200,height:150},maxSize:l={width:1920,height:1080},onResizeEnd:r,onPositionChange:c,position:h}){const[d,g]=$.useState(s),[m,y]=$.useState(h||{x:0,y:0}),[b,S]=$.useState(!1),[A,O]=$.useState(null),x=$.useRef(s),N=$.useRef({x:0,y:0}),z=$.useRef({x:0,y:0});$.useEffect(()=>{h&&y(h)},[h]),$.useEffect(()=>{g(s)},[s]);const k=$.useCallback(V=>I=>{I.preventDefault(),I.stopPropagation();const R="touches"in I?I.touches[0].clientX:I.clientX,B="touches"in I?I.touches[0].clientY:I.clientY;S(!0),O(V),x.current={...d},N.current={...m},z.current={x:R,y:B}},[d,m]),H=$.useCallback(V=>{if(!b||!A)return;const I="touches"in V?V.touches[0].clientX:V.clientX,R="touches"in V?V.touches[0].clientY:V.clientY,B=I-z.current.x,P=R-z.current.y;let de=x.current.width,Se=x.current.height,Ae=N.current.x,Ee=N.current.y;if(A.includes("e")&&(de=Math.min(l.width,Math.max(n.width,x.current.width+B))),A.includes("w")){const ze=Math.min(x.current.width-n.width,Math.max(-(l.width-x.current.width),B));de=Math.max(n.width,x.current.width-ze),Ae=N.current.x+(x.current.width-de)}if(A.includes("s")&&(Se=Math.min(l.height,Math.max(n.height,x.current.height+P))),A.includes("n")){const ze=Math.min(x.current.height-n.height,Math.max(-(l.height-x.current.height),P));Se=Math.max(n.height,x.current.height-ze),Ee=N.current.y+(x.current.height-Se)}g({width:de,height:Se}),(A.includes("n")||A.includes("w"))&&y({x:Ae,y:Ee})},[b,A,n,l]),T=$.useCallback(()=>{b&&(S(!1),O(null),r&&r(d),c&&(A?.includes("n")||A?.includes("w"))&&c(m))},[b,d,m,r,c,A]);return $.useEffect(()=>{if(b)return window.addEventListener("mousemove",H),window.addEventListener("mouseup",T),window.addEventListener("touchmove",H),window.addEventListener("touchend",T),()=>{window.removeEventListener("mousemove",H),window.removeEventListener("mouseup",T),window.removeEventListener("touchmove",H),window.removeEventListener("touchend",T)}},[b,H,T]),{size:d,position:m,isResizing:b,resizeDirection:A,handleResizeStart:k}}const Zy=["n","s","e","w","ne","nw","se","sw"],Py=({window:s,children:n,onClose:l,onMinimize:r,onMaximize:c,onFocus:h,onPositionChange:d,onSizeChange:g,isMobile:m=!1})=>{const{position:y,isDragging:b,elementRef:S,handleMouseDown:A,handleTouchStart:O}=Qy({initialPosition:s.position,onDragEnd:d}),{size:x,position:N,isResizing:z,handleResizeStart:k}=Jy({initialSize:s.size,minSize:{width:280,height:200},maxSize:{width:1600,height:1e3},position:s.position,onResizeEnd:w=>{g&&g(w)},onPositionChange:w=>{d(w)}}),H=z?N:y,T=z?x:s.size,[V,I]=$.useState(0),[R,B]=$.useState(!1),P=$.useRef(0),de=$.useRef(null),[Se,Ae]=$.useState("entering");$.useEffect(()=>{if(s.isOpen&&!s.isMinimized){Ae("entering");const w=setTimeout(()=>Ae("visible"),250);return()=>clearTimeout(w)}},[s.isOpen,s.isMinimized]);const Ee=$.useCallback(w=>{m&&(P.current=w,B(!0))},[m]),ze=$.useCallback(w=>{if(!m||!R)return;const Y=w-P.current;Y>0&&I(Math.min(Y,150))},[m,R]),Q=$.useCallback(()=>{m&&(B(!1),V>80?(Ae("exiting"),setTimeout(()=>{r(),I(0)},200)):I(0))},[m,V,r]),fe=w=>{m?Ee(w.touches[0].clientY):O(w),h()},L=w=>{m&&R&&ze(w.touches[0].clientY)},J=()=>{m&&Q()};if(!s.isOpen||s.isMinimized&&Se!=="exiting")return null;const ne=()=>{if(m){const w={position:"fixed",top:0,left:0,width:"100%",height:"calc(100% - var(--taskbar-height))",zIndex:s.zIndex,transform:`translateY(${V}px)`,transition:R?"none":"transform 0.2s ease-out"};return Se==="entering"?w.animation="windowSlideUp 0.25s ease-out forwards":Se==="exiting"&&(w.animation="windowSlideDown 0.2s ease-in forwards"),w}return s.isMaximized?{position:"fixed",top:0,left:0,width:"100%",height:"calc(100% - var(--taskbar-height))",zIndex:s.zIndex}:{position:"absolute",left:H.x,top:H.y,width:T.width,height:T.height,zIndex:s.zIndex}},pe=Math.min(V/80,1),Oe=!m&&!s.isMaximized;return v.jsxs("div",{ref:S,className:`window ${b?"dragging":""} ${z?"resizing":""} ${m?"mobile":""} ${Se}`,style:ne(),onMouseDown:h,onTouchStart:h,children:[Oe&&Zy.map(w=>v.jsx("div",{className:`resize-handle resize-${w}`,onMouseDown:k(w),onTouchStart:k(w)},w)),m&&V>0&&v.jsx("div",{className:"window-swipe-indicator",style:{opacity:pe},children:v.jsx("span",{children:" Release to minimize"})}),v.jsxs("div",{ref:de,className:`window-titlebar ${R?"swiping":""}`,onMouseDown:m?void 0:A,onTouchStart:fe,onTouchMove:L,onTouchEnd:J,children:[v.jsxs("div",{className:"window-title",children:[v.jsx("span",{className:"window-icon",children:s.icon}),v.jsx("span",{className:"window-title-text pixel-text",children:s.title})]}),v.jsxs("div",{className:"window-controls",children:[v.jsx("button",{className:"window-btn window-btn-minimize",onClick:w=>{w.stopPropagation(),r()},"aria-label":"Minimize",children:v.jsx("span",{children:"_"})}),!m&&v.jsx("button",{className:"window-btn window-btn-maximize",onClick:w=>{w.stopPropagation(),c()},"aria-label":"Maximize",children:v.jsx("span",{children:s.isMaximized?"":""})}),v.jsx("button",{className:"window-btn window-btn-close",onClick:w=>{w.stopPropagation(),l()},"aria-label":"Close",children:v.jsx("span",{children:""})})]})]}),m&&v.jsx("div",{className:"window-swipe-handle",children:v.jsx("div",{className:"swipe-handle-bar"})}),v.jsx("div",{className:"window-content",children:n})]})},Wy=[{id:"about",title:"VM.exe",icon:"",defaultSize:{width:500,height:400}},{id:"members",title:"MEMBERS.exe",icon:"",defaultSize:{width:600,height:500}},{id:"shows",title:"SHOWS.exe",icon:"",defaultSize:{width:550,height:450}},{id:"archive",title:"ARCHIVE.exe",icon:"",defaultSize:{width:650,height:500}},{id:"music",title:"MUSIC.exe",icon:"",defaultSize:{width:450,height:400}},{id:"game",title:"VINYL SNAKE.exe",icon:"",defaultSize:{width:500,height:600}},{id:"player",title:"PLAYER.exe",icon:"",defaultSize:{width:550,height:400}},{id:"connect",title:"CONNECT.exe",icon:"",defaultSize:{width:400,height:450}},{id:"admin",title:"ADMIN.exe",icon:"",defaultSize:{width:700,height:550}}],Fy=()=>{const[s,n]=$.useState(()=>typeof window<"u"&&window.innerWidth<768);return $.useEffect(()=>{const l=()=>n(window.innerWidth<768);return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),s},bu=(s,n)=>{if(!n)return s;const l=typeof window<"u"?window.innerWidth:375,r=typeof window<"u"?window.innerHeight:667;return{width:Math.min(s.width,l-16),height:Math.min(s.height,r-80)}},_u=(s,n,l)=>{if(!l)return{x:80+s%3*50,y:60+Math.floor(s/3)*40};const r=typeof window<"u"?window.innerWidth:375;return{x:Math.max(8,(r-n.width)/2),y:20+s%2*20}};function ep(){const s=Fy(),[n,l]=$.useState(()=>Wy.map((N,z)=>{const k=bu(N.defaultSize,s);return{...N,isOpen:!1,isMinimized:!1,isMaximized:!1,zIndex:10+z,position:_u(z,k,s),size:k}})),[r,c]=$.useState(20);$.useEffect(()=>{l(N=>N.map((z,k)=>{const H=bu(z.defaultSize,s),T=z.isOpen?z.position:_u(k,H,s);return{...z,size:z.isMaximized?z.size:H,position:z.isMaximized?z.position:T}}))},[s]);const h=$.useCallback(N=>{l(z=>z.map((k,H)=>{if(k.id===N){const T=r+1;c(T);const V=bu(k.defaultSize,s);return{...k,isOpen:!0,isMinimized:!1,isMaximized:s,zIndex:T,size:V,position:_u(H,V,s)}}return k}))},[r,s]),d=$.useCallback(N=>{l(z=>z.map(k=>k.id===N?{...k,isOpen:!1,isMaximized:!1}:k))},[]),g=$.useCallback(N=>{l(z=>z.map(k=>k.id===N?{...k,isMinimized:!0}:k))},[]),m=$.useCallback(N=>{l(z=>z.map(k=>{if(k.id===N){const H=r+1;return c(H),{...k,isMinimized:!1,zIndex:H}}return k}))},[r]),y=$.useCallback(N=>{l(z=>z.map(k=>k.id===N?{...k,isMaximized:!k.isMaximized}:k))},[]),b=$.useCallback(N=>{l(z=>{const k=r+1;return c(k),z.map(H=>H.id===N?{...H,zIndex:k}:H)})},[r]),S=$.useCallback((N,z)=>{l(k=>k.map(H=>H.id===N?{...H,position:z}:H))},[]),A=$.useCallback((N,z)=>{l(k=>k.map(H=>H.id===N?{...H,size:z}:H))},[]),O=$.useCallback(()=>n.filter(N=>N.isOpen),[n]),x=$.useCallback(N=>n.find(z=>z.id===N),[n]);return{windows:n,isMobile:s,openWindow:h,closeWindow:d,minimizeWindow:g,restoreWindow:m,maximizeWindow:y,focusWindow:b,updatePosition:S,updateSize:A,getOpenWindows:O,getWindowById:x}}function Kl(s,n){var l={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&n.indexOf(r)<0&&(l[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(s);c<r.length;c++)n.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(s,r[c])&&(l[r[c]]=s[r[c]]);return l}function tp(s,n,l,r){function c(h){return h instanceof l?h:new l(function(d){d(h)})}return new(l||(l=Promise))(function(h,d){function g(b){try{y(r.next(b))}catch(S){d(S)}}function m(b){try{y(r.throw(b))}catch(S){d(S)}}function y(b){b.done?h(b.value):c(b.value).then(g,m)}y((r=r.apply(s,n||[])).next())})}const ap=s=>s?(...n)=>s(...n):(...n)=>fetch(...n);class Qu extends Error{constructor(n,l="FunctionsError",r){super(n),this.name=l,this.context=r}}class np extends Qu{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class dm extends Qu{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class fm extends Qu{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var zu;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(zu||(zu={}));class ip{constructor(n,{headers:l={},customFetch:r,region:c=zu.Any}={}){this.url=n,this.headers=l,this.region=c,this.fetch=ap(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return tp(this,arguments,void 0,function*(l,r={}){var c;let h,d;try{const{headers:g,method:m,body:y,signal:b,timeout:S}=r;let A={},{region:O}=r;O||(O=this.region);const x=new URL(`${this.url}/${l}`);O&&O!=="any"&&(A["x-region"]=O,x.searchParams.set("forceFunctionRegion",O));let N;y&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(A["Content-Type"]="application/octet-stream",N=y):typeof y=="string"?(A["Content-Type"]="text/plain",N=y):typeof FormData<"u"&&y instanceof FormData?N=y:(A["Content-Type"]="application/json",N=JSON.stringify(y)):y&&typeof y!="string"&&!(typeof Blob<"u"&&y instanceof Blob)&&!(y instanceof ArrayBuffer)&&!(typeof FormData<"u"&&y instanceof FormData)?N=JSON.stringify(y):N=y;let z=b;S&&(d=new AbortController,h=setTimeout(()=>d.abort(),S),b?(z=d.signal,b.addEventListener("abort",()=>d.abort())):z=d.signal);const k=yield this.fetch(x.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},A),this.headers),g),body:N,signal:z}).catch(I=>{throw new np(I)}),H=k.headers.get("x-relay-error");if(H&&H==="true")throw new dm(k);if(!k.ok)throw new fm(k);let T=((c=k.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),V;return T==="application/json"?V=yield k.json():T==="application/octet-stream"||T==="application/pdf"?V=yield k.blob():T==="text/event-stream"?V=k:T==="multipart/form-data"?V=yield k.formData():V=yield k.text(),{data:V,error:null,response:k}}catch(g){return{data:null,error:g,response:g instanceof fm||g instanceof dm?g.context:void 0}}finally{h&&clearTimeout(h)}})}}var sp=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},lp=class{constructor(s){var n,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(n=s.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,n){return this.headers=new Headers(this.headers),this.headers.set(s,n),this}then(s,n){var l=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let c=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let d=null,g=null,m=null,y=h.status,b=h.statusText;if(h.ok){var S,A;if(l.method!=="HEAD"){var O;const k=await h.text();k===""||(l.headers.get("Accept")==="text/csv"||l.headers.get("Accept")&&(!((O=l.headers.get("Accept"))===null||O===void 0)&&O.includes("application/vnd.pgrst.plan+text"))?g=k:g=JSON.parse(k))}const N=(S=l.headers.get("Prefer"))===null||S===void 0?void 0:S.match(/count=(exact|planned|estimated)/),z=(A=h.headers.get("content-range"))===null||A===void 0?void 0:A.split("/");N&&z&&z.length>1&&(m=parseInt(z[1])),l.isMaybeSingle&&l.method==="GET"&&Array.isArray(g)&&(g.length>1?(d={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,y=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var x;const N=await h.text();try{d=JSON.parse(N),Array.isArray(d)&&h.status===404&&(g=[],d=null,y=200,b="OK")}catch{h.status===404&&N===""?(y=204,b="No Content"):d={message:N}}if(d&&l.isMaybeSingle&&(!(d==null||(x=d.details)===null||x===void 0)&&x.includes("0 rows"))&&(d=null,y=200,b="OK"),d&&l.shouldThrowOnError)throw new sp(d)}return{error:d,data:g,count:m,status:y,statusText:b}});return this.shouldThrowOnError||(c=c.catch(h=>{var d;let g="";const m=h?.cause;if(m){var y,b,S,A;const x=(y=m?.message)!==null&&y!==void 0?y:"",N=(b=m?.code)!==null&&b!==void 0?b:"";g=`${(S=h?.name)!==null&&S!==void 0?S:"FetchError"}: ${h?.message}`,g+=`

Caused by: ${(A=m?.name)!==null&&A!==void 0?A:"Error"}: ${x}`,N&&(g+=` (${N})`),m?.stack&&(g+=`
${m.stack}`)}else{var O;g=(O=h?.stack)!==null&&O!==void 0?O:""}return{error:{message:`${(d=h?.name)!==null&&d!==void 0?d:"FetchError"}: ${h?.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(s,n)}returns(){return this}overrideTypes(){return this}},rp=class extends lp{select(s){let n=!1;const l=(s??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:n=!0,nullsFirst:l,foreignTable:r,referencedTable:c=r}={}){const h=c?`${c}.order`:"order",d=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${d?`${d},`:""}${s}.${n?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:n,referencedTable:l=n}={}){const r=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(r,`${s}`),this}range(s,n,{foreignTable:l,referencedTable:r=l}={}){const c=typeof r>"u"?"offset":`${r}.offset`,h=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(h,`${n-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:n=!1,settings:l=!1,buffers:r=!1,wal:c=!1,format:h="text"}={}){var d;const g=[s?"analyze":null,n?"verbose":null,l?"settings":null,r?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${m}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const mm=new RegExp("[,()]");var di=class extends rp{eq(s,n){return this.url.searchParams.append(s,`eq.${n}`),this}neq(s,n){return this.url.searchParams.append(s,`neq.${n}`),this}gt(s,n){return this.url.searchParams.append(s,`gt.${n}`),this}gte(s,n){return this.url.searchParams.append(s,`gte.${n}`),this}lt(s,n){return this.url.searchParams.append(s,`lt.${n}`),this}lte(s,n){return this.url.searchParams.append(s,`lte.${n}`),this}like(s,n){return this.url.searchParams.append(s,`like.${n}`),this}likeAllOf(s,n){return this.url.searchParams.append(s,`like(all).{${n.join(",")}}`),this}likeAnyOf(s,n){return this.url.searchParams.append(s,`like(any).{${n.join(",")}}`),this}ilike(s,n){return this.url.searchParams.append(s,`ilike.${n}`),this}ilikeAllOf(s,n){return this.url.searchParams.append(s,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(s,n){return this.url.searchParams.append(s,`ilike(any).{${n.join(",")}}`),this}regexMatch(s,n){return this.url.searchParams.append(s,`match.${n}`),this}regexIMatch(s,n){return this.url.searchParams.append(s,`imatch.${n}`),this}is(s,n){return this.url.searchParams.append(s,`is.${n}`),this}isDistinct(s,n){return this.url.searchParams.append(s,`isdistinct.${n}`),this}in(s,n){const l=Array.from(new Set(n)).map(r=>typeof r=="string"&&mm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}notIn(s,n){const l=Array.from(new Set(n)).map(r=>typeof r=="string"&&mm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(s,`not.in.(${l})`),this}contains(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cs.{${n.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(n)}`),this}containedBy(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cd.{${n.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(n)}`),this}rangeGt(s,n){return this.url.searchParams.append(s,`sr.${n}`),this}rangeGte(s,n){return this.url.searchParams.append(s,`nxl.${n}`),this}rangeLt(s,n){return this.url.searchParams.append(s,`sl.${n}`),this}rangeLte(s,n){return this.url.searchParams.append(s,`nxr.${n}`),this}rangeAdjacent(s,n){return this.url.searchParams.append(s,`adj.${n}`),this}overlaps(s,n){return typeof n=="string"?this.url.searchParams.append(s,`ov.${n}`):this.url.searchParams.append(s,`ov.{${n.join(",")}}`),this}textSearch(s,n,{config:l,type:r}={}){let c="";r==="plain"?c="pl":r==="phrase"?c="ph":r==="websearch"&&(c="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${c}fts${h}.${n}`),this}match(s){return Object.entries(s).forEach(([n,l])=>{this.url.searchParams.append(n,`eq.${l}`)}),this}not(s,n,l){return this.url.searchParams.append(s,`not.${n}.${l}`),this}or(s,{foreignTable:n,referencedTable:l=n}={}){const r=l?`${l}.or`:"or";return this.url.searchParams.append(r,`(${s})`),this}filter(s,n,l){return this.url.searchParams.append(s,`${n}.${l}`),this}},op=class{constructor(s,{headers:n={},schema:l,fetch:r}){this.url=s,this.headers=new Headers(n),this.schema=l,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,n){const{head:l=!1,count:r}=n??{},c=l?"HEAD":"GET";let h=!1;const d=(s??"*").split("").map(y=>/\s/.test(y)&&!h?"":(y==='"'&&(h=!h),y)).join(""),{url:g,headers:m}=this.cloneRequestState();return g.searchParams.set("select",d),r&&m.append("Prefer",`count=${r}`),new di({method:c,url:g,headers:m,schema:this.schema,fetch:this.fetch})}insert(s,{count:n,defaultToNull:l=!0}={}){var r;const c="POST",{url:h,headers:d}=this.cloneRequestState();if(n&&d.append("Prefer",`count=${n}`),l||d.append("Prefer","missing=default"),Array.isArray(s)){const g=s.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(g.length>0){const m=[...new Set(g)].map(y=>`"${y}"`);h.searchParams.set("columns",m.join(","))}}return new di({method:c,url:h,headers:d,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(s,{onConflict:n,ignoreDuplicates:l=!1,count:r,defaultToNull:c=!0}={}){var h;const d="POST",{url:g,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),n!==void 0&&g.searchParams.set("on_conflict",n),r&&m.append("Prefer",`count=${r}`),c||m.append("Prefer","missing=default"),Array.isArray(s)){const y=s.reduce((b,S)=>b.concat(Object.keys(S)),[]);if(y.length>0){const b=[...new Set(y)].map(S=>`"${S}"`);g.searchParams.set("columns",b.join(","))}}return new di({method:d,url:g,headers:m,schema:this.schema,body:s,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(s,{count:n}={}){var l;const r="PATCH",{url:c,headers:h}=this.cloneRequestState();return n&&h.append("Prefer",`count=${n}`),new di({method:r,url:c,headers:h,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:s}={}){var n;const l="DELETE",{url:r,headers:c}=this.cloneRequestState();return s&&c.append("Prefer",`count=${s}`),new di({method:l,url:r,headers:c,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},up=class Gm{constructor(n,{headers:l={},schema:r,fetch:c}={}){this.url=n,this.headers=new Headers(l),this.schemaName=r,this.fetch=c}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new op(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new Gm(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,l={},{head:r=!1,get:c=!1,count:h}={}){var d;let g;const m=new URL(`${this.url}/rpc/${n}`);let y;const b=O=>O!==null&&typeof O=="object"&&(!Array.isArray(O)||O.some(b)),S=r&&Object.values(l).some(b);S?(g="POST",y=l):r||c?(g=r?"HEAD":"GET",Object.entries(l).filter(([O,x])=>x!==void 0).map(([O,x])=>[O,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([O,x])=>{m.searchParams.append(O,x)})):(g="POST",y=l);const A=new Headers(this.headers);return S?A.set("Prefer",h?`count=${h},return=minimal`:"return=minimal"):h&&A.set("Prefer",`count=${h}`),new di({method:g,url:m,headers:A,schema:this.schemaName,body:y,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};class cp{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const l=globalThis.process;if(l){const r=l.versions;if(r&&r.node){const c=r.node,h=parseInt(c.replace(/^v/,"").split(".")[0]);return h>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${h} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${h} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let l=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(l+=`

Suggested solution: ${n.workaround}`),new Error(l)}static createWebSocket(n,l){const r=this.getWebSocketConstructor();return new r(n,l)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const hp="2.91.0",dp=`realtime-js/${hp}`,fp="1.0.0",$m="2.0.0",vm=$m,Mu=1e4,mp=1e3,vp=100;var Ka;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Ka||(Ka={}));var et;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(et||(et={}));var Qt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Qt||(Qt={}));var Lu;(function(s){s.websocket="websocket"})(Lu||(Lu={}));var yn;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(yn||(yn={}));class gp{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,l){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return l(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var l;return this._isArrayBuffer((l=n.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var l,r;const c=(r=(l=n.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var l,r;const c=(r=(l=n.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:{},d=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(n,l,r){var c,h;const d=n.topic,g=(c=n.ref)!==null&&c!==void 0?c:"",m=(h=n.join_ref)!==null&&h!==void 0?h:"",y=n.payload.event,b=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},S=Object.keys(b).length===0?"":JSON.stringify(b);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(S.length>255)throw new Error(`metadata length ${S.length} exceeds maximum of 255`);const A=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+g.length+d.length+y.length+S.length,O=new ArrayBuffer(this.HEADER_LENGTH+A);let x=new DataView(O),N=0;x.setUint8(N++,this.KINDS.userBroadcastPush),x.setUint8(N++,m.length),x.setUint8(N++,g.length),x.setUint8(N++,d.length),x.setUint8(N++,y.length),x.setUint8(N++,S.length),x.setUint8(N++,l),Array.from(m,k=>x.setUint8(N++,k.charCodeAt(0))),Array.from(g,k=>x.setUint8(N++,k.charCodeAt(0))),Array.from(d,k=>x.setUint8(N++,k.charCodeAt(0))),Array.from(y,k=>x.setUint8(N++,k.charCodeAt(0))),Array.from(S,k=>x.setUint8(N++,k.charCodeAt(0)));var z=new Uint8Array(O.byteLength+r.byteLength);return z.set(new Uint8Array(O),0),z.set(new Uint8Array(r),O.byteLength),z.buffer}decode(n,l){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return l(r)}if(typeof n=="string"){const r=JSON.parse(n),[c,h,d,g,m]=r;return l({join_ref:c,ref:h,topic:d,event:g,payload:m})}return l({})}_binaryDecode(n){const l=new DataView(n),r=l.getUint8(0),c=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,l,c)}_decodeUserBroadcast(n,l,r){const c=l.getUint8(1),h=l.getUint8(2),d=l.getUint8(3),g=l.getUint8(4);let m=this.HEADER_LENGTH+4;const y=r.decode(n.slice(m,m+c));m=m+c;const b=r.decode(n.slice(m,m+h));m=m+h;const S=r.decode(n.slice(m,m+d));m=m+d;const A=n.slice(m,n.byteLength),O=g===this.JSON_ENCODING?JSON.parse(r.decode(A)):A,x={type:this.BROADCAST_EVENT,event:b,payload:O};return d>0&&(x.meta=JSON.parse(S)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(n){var l;return n instanceof ArrayBuffer||((l=n?.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(n,l){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>l.includes(r)))}}class Vm{constructor(n,l){this.callback=n,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Me;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Me||(Me={}));const gm=(s,n,l={})=>{var r;const c=(r=l.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((h,d)=>(h[d]=yp(d,s,n,c),h),{}):{}},yp=(s,n,l,r)=>{const c=n.find(g=>g.name===s),h=c?.type,d=l[s];return h&&!r.includes(h)?Ym(h,d):Bu(d)},Ym=(s,n)=>{if(s.charAt(0)==="_"){const l=s.slice(1,s.length);return wp(n,l)}switch(s){case Me.bool:return pp(n);case Me.float4:case Me.float8:case Me.int2:case Me.int4:case Me.int8:case Me.numeric:case Me.oid:return bp(n);case Me.json:case Me.jsonb:return _p(n);case Me.timestamp:return Sp(n);case Me.abstime:case Me.date:case Me.daterange:case Me.int4range:case Me.int8range:case Me.money:case Me.reltime:case Me.text:case Me.time:case Me.timestamptz:case Me.timetz:case Me.tsrange:case Me.tstzrange:return Bu(n);default:return Bu(n)}},Bu=s=>s,pp=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},bp=s=>{if(typeof s=="string"){const n=parseFloat(s);if(!Number.isNaN(n))return n}return s},_p=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},wp=(s,n)=>{if(typeof s!="string")return s;const l=s.length-1,r=s[l];if(s[0]==="{"&&r==="}"){let h;const d=s.slice(1,l);try{h=JSON.parse("["+d+"]")}catch{h=d?d.split(","):[]}return h.map(g=>Ym(n,g))}return s},Sp=s=>typeof s=="string"?s.replace(" ","T"):s,Km=s=>{const n=new URL(s);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class wu{constructor(n,l,r={},c=Mu){this.channel=n,this.event=l,this.payload=r,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,l){var r;return this._hasReceived(n)&&l((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:l}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(l))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var ym;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(ym||(ym={}));class ds{constructor(n,l){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=l?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},c=>{const{onJoin:h,onLeave:d,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ds.syncState(this.state,c,h,d),this.pendingDiffs.forEach(m=>{this.state=ds.syncDiff(this.state,m,h,d)}),this.pendingDiffs=[],g()}),this.channel._on(r.diff,{},c=>{const{onJoin:h,onLeave:d,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=ds.syncDiff(this.state,c,h,d),g())}),this.onJoin((c,h,d)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:h,newPresences:d})}),this.onLeave((c,h,d)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:h,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,l,r,c){const h=this.cloneDeep(n),d=this.transformState(l),g={},m={};return this.map(h,(y,b)=>{d[y]||(m[y]=b)}),this.map(d,(y,b)=>{const S=h[y];if(S){const A=b.map(z=>z.presence_ref),O=S.map(z=>z.presence_ref),x=b.filter(z=>O.indexOf(z.presence_ref)<0),N=S.filter(z=>A.indexOf(z.presence_ref)<0);x.length>0&&(g[y]=x),N.length>0&&(m[y]=N)}else g[y]=b}),this.syncDiff(h,{joins:g,leaves:m},r,c)}static syncDiff(n,l,r,c){const{joins:h,leaves:d}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return r||(r=()=>{}),c||(c=()=>{}),this.map(h,(g,m)=>{var y;const b=(y=n[g])!==null&&y!==void 0?y:[];if(n[g]=this.cloneDeep(m),b.length>0){const S=n[g].map(O=>O.presence_ref),A=b.filter(O=>S.indexOf(O.presence_ref)<0);n[g].unshift(...A)}r(g,b,m)}),this.map(d,(g,m)=>{let y=n[g];if(!y)return;const b=m.map(S=>S.presence_ref);y=y.filter(S=>b.indexOf(S.presence_ref)<0),n[g]=y,c(g,y,m),y.length===0&&delete n[g]}),n}static map(n,l){return Object.getOwnPropertyNames(n).map(r=>l(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((l,r)=>{const c=n[r];return"metas"in c?l[r]=c.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):l[r]=c,l},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pm;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(pm||(pm={}));var fs;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(fs||(fs={}));var ya;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(ya||(ya={}));class vi{constructor(n,l={config:{}},r){var c,h;if(this.topic=n,this.params=l,this.socket=r,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new wu(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new Vm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(d,g)=>{this._trigger(this._replyEventName(g),d)}),this.presence=new ds(this),this.broadcastEndpointURL=Km(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,l=this.timeout){var r,c,h;if(this.socket.isConnected()||this.socket.connect(),this.state==et.closed){const{config:{broadcast:d,presence:g,private:m}}=this.params,y=(c=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(O=>O.filter))!==null&&c!==void 0?c:[],b=!!this.bindings[fs.PRESENCE]&&this.bindings[fs.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,S={},A={broadcast:d,presence:Object.assign(Object.assign({},g),{enabled:b}),postgres_changes:y,private:m};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(O=>n?.(ya.CHANNEL_ERROR,O)),this._onClose(()=>n?.(ya.CLOSED)),this.updateJoinPayload(Object.assign({config:A},S)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:O})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),O===void 0){n?.(ya.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,z=(x=N?.length)!==null&&x!==void 0?x:0,k=[];for(let H=0;H<z;H++){const T=N[H],{filter:{event:V,schema:I,table:R,filter:B}}=T,P=O&&O[H];if(P&&P.event===V&&vi.isFilterValueEqual(P.schema,I)&&vi.isFilterValueEqual(P.table,R)&&vi.isFilterValueEqual(P.filter,B))k.push(Object.assign(Object.assign({},T),{id:P.id}));else{this.unsubscribe(),this.state=et.errored,n?.(ya.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,n&&n(ya.SUBSCRIBED);return}}).receive("error",O=>{this.state=et.errored,n?.(ya.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(O).join(", ")||"error")))}).receive("timeout",()=>{n?.(ya.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,l={}){return await this.send({type:"presence",event:"track",payload:n},l.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,l,r){return this.state===et.joined&&n===fs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,l,r)}async httpSend(n,l,r={}){var c;if(l==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:l,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(c=r.timeout)!==null&&c!==void 0?c:this.timeout);if(g.status===202)return{success:!0};let m=g.statusText;try{const y=await g.json();m=y.error||y.message||m}catch{}return Promise.reject(new Error(m))}async send(n,l={}){var r,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:d}=n,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:d,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=l.timeout)!==null&&r!==void 0?r:this.timeout);return await((c=y.body)===null||c===void 0?void 0:c.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var d,g,m;const y=this._push(n.type,n,l.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(g=(d=this.params)===null||d===void 0?void 0:d.config)===null||g===void 0?void 0:g.broadcast)===null||m===void 0)&&m.ack)&&h("ok"),y.receive("ok",()=>h("ok")),y.receive("error",()=>h("error")),y.receive("timeout",()=>h("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=et.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(c=>{r=new wu(this,Qt.leave,{},n),r.receive("ok",()=>{l(),c("ok")}).receive("timeout",()=>{l(),c("timed out")}).receive("error",()=>{c("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=et.closed,this.bindings={}}async _fetchWithTimeout(n,l,r){const c=new AbortController,h=setTimeout(()=>c.abort(),r),d=await this.socket.fetch(n,Object.assign(Object.assign({},l),{signal:c.signal}));return clearTimeout(h),d}_push(n,l,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new wu(this,n,l,r);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>vp){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(n,l,r){return l}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,l,r){var c,h;const d=n.toLocaleLowerCase(),{close:g,error:m,leave:y,join:b}=Qt;if(r&&[g,m,y,b].indexOf(d)>=0&&r!==this._joinRef())return;let A=this._onMessage(d,l,r);if(l&&!A)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(O=>{var x,N,z;return((x=O.filter)===null||x===void 0?void 0:x.event)==="*"||((z=(N=O.filter)===null||N===void 0?void 0:N.event)===null||z===void 0?void 0:z.toLocaleLowerCase())===d}).map(O=>O.callback(A,r)):(h=this.bindings[d])===null||h===void 0||h.filter(O=>{var x,N,z,k,H,T,V,I;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in O){const R=O.id,B=(x=O.filter)===null||x===void 0?void 0:x.event;return R&&((N=l.ids)===null||N===void 0?void 0:N.includes(R))&&(B==="*"||B?.toLocaleLowerCase()===((z=l.data)===null||z===void 0?void 0:z.type.toLocaleLowerCase()))&&(!(!((k=O.filter)===null||k===void 0)&&k.table)||O.filter.table===((H=l.data)===null||H===void 0?void 0:H.table))}else{const R=(V=(T=O?.filter)===null||T===void 0?void 0:T.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return R==="*"||R===((I=l?.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return O.type.toLocaleLowerCase()===d}).map(O=>{if(typeof A=="object"&&"ids"in A){const x=A.data,{schema:N,table:z,commit_timestamp:k,type:H,errors:T}=x;A=Object.assign(Object.assign({},{schema:N,table:z,commit_timestamp:k,eventType:H,new:{},old:{},errors:T}),this._getPayloadRecords(x))}O.callback(A,r)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,l,r){const c=n.toLocaleLowerCase(),h={type:c,filter:l,callback:r};return this.bindings[c]?this.bindings[c].push(h):this.bindings[c]=[h],this}_off(n,l){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(c=>{var h;return!(((h=c.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===r&&vi.isEqual(c.filter,l))})),this}static isEqual(n,l){if(Object.keys(n).length!==Object.keys(l).length)return!1;for(const r in n)if(n[r]!==l[r])return!1;return!0}static isFilterValueEqual(n,l){return(n??void 0)===(l??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Qt.close,{},n)}_onError(n){this._on(Qt.error,{},l=>n(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const l={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(l.new=gm(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(l.old=gm(n.columns,n.old_record)),l}}const Su=()=>{},Bl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ep=[1e3,2e3,5e3,1e4],Tp=1e4,xp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ap{constructor(n,l){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mu,this.transport=null,this.heartbeatIntervalMs=Bl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Su,this.ref=0,this.reconnectTimer=null,this.vsn=vm,this.logger=Su,this.conn=null,this.sendBuffer=[],this.serializer=new gp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...h)=>c(...h):(...h)=>fetch(...h),!(!((r=l?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${n}/${Lu.websocket}`,this.httpEndpoint=Km(n),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=cp.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const l=n.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,l??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const l=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const n=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,l,r){this.logger(n,l,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ka.connecting:return yn.Connecting;case Ka.open:return yn.Open;case Ka.closing:return yn.Closing;default:return yn.Closed}}isConnected(){return this.connectionState()===yn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,l={config:{}}){const r=`realtime:${n}`,c=this.getChannels().find(h=>h.topic===r);if(c)return c;{const h=new vi(`realtime:${n}`,l,this);return this.channels.push(h),h}}push(n){const{topic:l,event:r,payload:c,ref:h}=n,d=()=>{this.encode(n,g=>{var m;(m=this.conn)===null||m===void 0||m.send(g)})};this.log("push",`${l} ${r} (${h})`,c),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(mp,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},Bl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let l=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${n}"`),l.unsubscribe())}_remove(n){this.channels=this.channels.filter(l=>l.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply"&&l.ref&&l.ref===this.pendingHeartbeatRef){const y=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error",y)}catch(b){this.log("error","error in heartbeat callback",b)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:c,payload:h,ref:d}=l,g=d?`(${d})`:"",m=h.status||"";this.log("receive",`${m} ${r} ${c} ${g}`.trim(),h),this.channels.filter(y=>y._isMember(r)).forEach(y=>y._trigger(c,h,d)),this._triggerStateCallbacks("message",l)})}_clearTimer(n){var l;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Ka.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ka.open||this.conn.readyState===Ka.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this._terminateWorker()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var l;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Qt.error))}_appendParams(n,l){if(Object.keys(l).length===0)return n;const r=n.match(/\?/)?"&":"?",c=new URLSearchParams(l);return`${n}${r}${c}`}_workerObjectUrl(n){let l;if(n)l=n;else{const r=new Blob([xp],{type:"application/javascript"});l=URL.createObjectURL(r)}return l}_setConnectionState(n,l=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(n=null){let l,r=!1;if(n)l=n,r=!0;else if(this.accessToken)try{l=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),l=this.accessTokenValue}else l=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(c=>{const h={access_token:l,version:dp};l&&c.updateJoinPayload(h),c.joinedOnce&&c._isJoined()&&c._push(Qt.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(l=>{this.log("error",`Error setting auth in ${n}`,l)})}_triggerStateCallbacks(n,l){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(l)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Vm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var l,r,c,h,d,g,m,y,b,S,A,O;switch(this.transport=(l=n?.transport)!==null&&l!==void 0?l:null,this.timeout=(r=n?.timeout)!==null&&r!==void 0?r:Mu,this.heartbeatIntervalMs=(c=n?.heartbeatIntervalMs)!==null&&c!==void 0?c:Bl.HEARTBEAT_INTERVAL,this.worker=(h=n?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(d=n?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(g=n?.heartbeatCallback)!==null&&g!==void 0?g:Su,this.vsn=(m=n?.vsn)!==null&&m!==void 0?m:vm,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=n?.reconnectAfterMs)!==null&&y!==void 0?y:(x=>Ep[x-1]||Tp),this.vsn){case fp:this.encode=(b=n?.encode)!==null&&b!==void 0?b:((x,N)=>N(JSON.stringify(x))),this.decode=(S=n?.decode)!==null&&S!==void 0?S:((x,N)=>N(JSON.parse(x)));break;case $m:this.encode=(A=n?.encode)!==null&&A!==void 0?A:this.serializer.encode.bind(this.serializer),this.decode=(O=n?.decode)!==null&&O!==void 0?O:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var ms=class extends Error{constructor(s,n){super(s),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Op(s,n,l){const r=new URL(n,s);if(l)for(const[c,h]of Object.entries(l))h!==void 0&&r.searchParams.set(c,h);return r.toString()}async function jp(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function Np(s){const n=s.fetchImpl??globalThis.fetch;return{async request({method:l,path:r,query:c,body:h,headers:d}){const g=Op(s.baseUrl,r,c),m=await jp(s.auth),y=await n(g,{method:l,headers:{...h?{"Content-Type":"application/json"}:{},...m,...d},body:h?JSON.stringify(h):void 0}),b=await y.text(),S=(y.headers.get("content-type")||"").includes("application/json"),A=S&&b?JSON.parse(b):b;if(!y.ok){const O=S?A:void 0,x=O?.error;throw new ms(x?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:x?.type,icebergCode:x?.code,details:O})}return{status:y.status,headers:y.headers,data:A}}}}function ql(s){return s.join("")}var Rp=class{constructor(s,n=""){this.client=s,this.prefix=n}async listNamespaces(s){const n=s?{parent:ql(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(s,n){const l={namespace:s.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ql(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ql(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ql(s.namespace)}`}),!0}catch(n){if(n instanceof ms&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(s,n){try{return await this.createNamespace(s,n)}catch(l){if(l instanceof ms&&l.status===409)return;throw l}}};function si(s){return s.join("")}var Cp=class{constructor(s,n="",l){this.client=s,this.prefix=n,this.accessDelegation=l}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${si(s.namespace)}/tables`})).data.identifiers}async createTable(s,n){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${si(s.namespace)}/tables`,body:n,headers:l})).data.metadata}async updateTable(s,n){const l=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${si(s.namespace)}/tables/${s.name}`,body:n});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}}async dropTable(s,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${si(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(s){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${si(s.namespace)}/tables/${s.name}`,headers:n})).data.metadata}async tableExists(s){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${si(s.namespace)}/tables/${s.name}`,headers:n}),!0}catch(l){if(l instanceof ms&&l.status===404)return!1;throw l}}async createTableIfNotExists(s,n){try{return await this.createTable(s,n)}catch(l){if(l instanceof ms&&l.status===409)return await this.loadTable({namespace:s.namespace,name:n.name});throw l}}},Dp=class{constructor(s){let n="v1";s.catalogName&&(n+=`/${s.catalogName}`);const l=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=Np({baseUrl:l,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=s.accessDelegation?.join(","),this.namespaceOps=new Rp(this.client,n),this.tableOps=new Cp(this.client,n,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,n){return this.namespaceOps.createNamespace(s,n)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,n){return this.tableOps.createTable(s,n)}async updateTable(s,n){return this.tableOps.updateTable(s,n)}async dropTable(s,n){await this.tableOps.dropTable(s,n)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,n){return this.namespaceOps.createNamespaceIfNotExists(s,n)}async createTableIfNotExists(s,n){return this.tableOps.createTableIfNotExists(s,n)}},Il=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function $e(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var kp=class extends Il{constructor(s,n,l){super(s),this.name="StorageApiError",this.status=n,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qu=class extends Il{constructor(s,n){super(s),this.name="StorageUnknownError",this.originalError=n}};const Ju=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),Up=()=>Response,Hu=s=>{if(Array.isArray(s))return s.map(l=>Hu(l));if(typeof s=="function"||s!==Object(s))return s;const n={};return Object.entries(s).forEach(([l,r])=>{const c=l.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));n[c]=Hu(r)}),n},zp=s=>{if(typeof s!="object"||s===null)return!1;const n=Object.getPrototypeOf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Mp=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function vs(s){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},vs(s)}function Lp(s,n){if(vs(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,n);if(vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function Bp(s){var n=Lp(s,"string");return vs(n)=="symbol"?n:n+""}function qp(s,n,l){return(n=Bp(n))in s?Object.defineProperty(s,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[n]=l,s}function bm(s,n){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);n&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.push.apply(l,r)}return l}function re(s){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?bm(Object(l),!0).forEach(function(r){qp(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):bm(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}const Eu=s=>{var n;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(n=s.error)===null||n===void 0?void 0:n.message)||JSON.stringify(s)},Hp=async(s,n,l)=>{s instanceof await Up()&&!l?.noResolveJson?s.json().then(r=>{const c=s.status||500,h=r?.statusCode||c+"";n(new kp(Eu(r),c,h))}).catch(r=>{n(new qu(Eu(r),r))}):n(new qu(Eu(s),s))},Gp=(s,n,l,r)=>{const c={method:s,headers:n?.headers||{}};return s==="GET"||!r?c:(zp(r)?(c.headers=re({"Content-Type":"application/json"},n?.headers),c.body=JSON.stringify(r)):c.body=r,n?.duplex&&(c.duplex=n.duplex),re(re({},c),l))};async function _s(s,n,l,r,c,h){return new Promise((d,g)=>{s(l,Gp(n,r,c,h)).then(m=>{if(!m.ok)throw m;return r?.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>Hp(m,g,r))})}async function gs(s,n,l,r){return _s(s,"GET",n,l,r)}async function Xt(s,n,l,r,c){return _s(s,"POST",n,r,c,l)}async function Gu(s,n,l,r,c){return _s(s,"PUT",n,r,c,l)}async function $p(s,n,l,r){return _s(s,"HEAD",n,re(re({},l),{},{noResolveJson:!0}),r)}async function Zu(s,n,l,r,c){return _s(s,"DELETE",n,r,c,l)}var Vp=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n}then(s,n){return this.execute().then(s,n)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(n){if(s.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}};let Im;Im=Symbol.toStringTag;var Yp=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n,this[Im]="BlobDownloadBuilder",this.promise=null}asStream(){return new Vp(this.downloadFn,this.shouldThrowOnError)}then(s,n){return this.getPromise().then(s,n)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}};const Kp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_m={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Ip=class{constructor(s,n={},l,r){this.shouldThrowOnError=!1,this.url=s,this.headers=n,this.bucketId=l,this.fetch=Ju(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,n,l,r){var c=this;try{let h;const d=re(re({},_m),r);let g=re(re({},c.headers),s==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&l instanceof Blob?(h=new FormData,h.append("cacheControl",d.cacheControl),m&&h.append("metadata",c.encodeMetadata(m)),h.append("",l)):typeof FormData<"u"&&l instanceof FormData?(h=l,h.has("cacheControl")||h.append("cacheControl",d.cacheControl),m&&!h.has("metadata")&&h.append("metadata",c.encodeMetadata(m))):(h=l,g["cache-control"]=`max-age=${d.cacheControl}`,g["content-type"]=d.contentType,m&&(g["x-metadata"]=c.toBase64(c.encodeMetadata(m))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!d.duplex&&(d.duplex="half")),r?.headers&&(g=re(re({},g),r.headers));const y=c._removeEmptyFolders(n),b=c._getFinalPath(y),S=await(s=="PUT"?Gu:Xt)(c.fetch,`${c.url}/object/${b}`,h,re({headers:g},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:y,id:S.Id,fullPath:S.Key},error:null}}catch(h){if(c.shouldThrowOnError)throw h;if($e(h))return{data:null,error:h};throw h}}async upload(s,n,l){return this.uploadOrUpdate("POST",s,n,l)}async uploadToSignedUrl(s,n,l,r){var c=this;const h=c._removeEmptyFolders(s),d=c._getFinalPath(h),g=new URL(c.url+`/object/upload/sign/${d}`);g.searchParams.set("token",n);try{let m;const y=re({upsert:_m.upsert},r),b=re(re({},c.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&l instanceof Blob?(m=new FormData,m.append("cacheControl",y.cacheControl),m.append("",l)):typeof FormData<"u"&&l instanceof FormData?(m=l,m.append("cacheControl",y.cacheControl)):(m=l,b["cache-control"]=`max-age=${y.cacheControl}`,b["content-type"]=y.contentType),{data:{path:h,fullPath:(await Gu(c.fetch,g.toString(),m,{headers:b})).Key},error:null}}catch(m){if(c.shouldThrowOnError)throw m;if($e(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(s,n){var l=this;try{let r=l._getFinalPath(s);const c=re({},l.headers);n?.upsert&&(c["x-upsert"]="true");const h=await Xt(l.fetch,`${l.url}/object/upload/sign/${r}`,{},{headers:c}),d=new URL(l.url+h.url),g=d.searchParams.get("token");if(!g)throw new Il("No token returned by API");return{data:{signedUrl:d.toString(),path:s,token:g},error:null}}catch(r){if(l.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async update(s,n,l){return this.uploadOrUpdate("PUT",s,n,l)}async move(s,n,l){var r=this;try{return{data:await Xt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:s,destinationKey:n,destinationBucket:l?.destinationBucket},{headers:r.headers}),error:null}}catch(c){if(r.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async copy(s,n,l){var r=this;try{return{data:{path:(await Xt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:s,destinationKey:n,destinationBucket:l?.destinationBucket},{headers:r.headers})).Key},error:null}}catch(c){if(r.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async createSignedUrl(s,n,l){var r=this;try{let c=r._getFinalPath(s),h=await Xt(r.fetch,`${r.url}/object/sign/${c}`,re({expiresIn:n},l?.transform?{transform:l.transform}:{}),{headers:r.headers});const d=l?.download?`&download=${l.download===!0?"":l.download}`:"";return h={signedUrl:encodeURI(`${r.url}${h.signedURL}${d}`)},{data:h,error:null}}catch(c){if(r.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async createSignedUrls(s,n,l){var r=this;try{const c=await Xt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:n,paths:s},{headers:r.headers}),h=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:c.map(d=>re(re({},d),{},{signedUrl:d.signedURL?encodeURI(`${r.url}${d.signedURL}${h}`):null})),error:null}}catch(c){if(r.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}download(s,n){const l=typeof n?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(n?.transform||{}),c=r?`?${r}`:"",h=this._getFinalPath(s),d=()=>gs(this.fetch,`${this.url}/${l}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new Yp(d,this.shouldThrowOnError)}async info(s){var n=this;const l=n._getFinalPath(s);try{return{data:Hu(await gs(n.fetch,`${n.url}/object/info/${l}`,{headers:n.headers})),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async exists(s){var n=this;const l=n._getFinalPath(s);try{return await $p(n.fetch,`${n.url}/object/${l}`,{headers:n.headers}),{data:!0,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r)&&r instanceof qu){const c=r.originalError;if([400,404].includes(c?.status))return{data:!1,error:r}}throw r}}getPublicUrl(s,n){const l=this._getFinalPath(s),r=[],c=n?.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&r.push(c);const h=typeof n?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(n?.transform||{});d!==""&&r.push(d);let g=r.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${l}${g}`)}}}async remove(s){var n=this;try{return{data:await Zu(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:s},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async list(s,n,l){var r=this;try{const c=re(re(re({},Kp),n),{},{prefix:s||""});return{data:await Xt(r.fetch,`${r.url}/object/list/${r.bucketId}`,c,{headers:r.headers},l),error:null}}catch(c){if(r.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async listV2(s,n){var l=this;try{const r=re({},s);return{data:await Xt(l.fetch,`${l.url}/object/list-v2/${l.bucketId}`,r,{headers:l.headers},n),error:null}}catch(r){if(l.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const n=[];return s.width&&n.push(`width=${s.width}`),s.height&&n.push(`height=${s.height}`),s.resize&&n.push(`resize=${s.resize}`),s.format&&n.push(`format=${s.format}`),s.quality&&n.push(`quality=${s.quality}`),n.join("&")}};const Xm="2.91.0",Qm={"X-Client-Info":`storage-js/${Xm}`};var Xp=class{constructor(s,n={},l,r){this.shouldThrowOnError=!1;const c=new URL(s);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=re(re({},Qm),n),this.fetch=Ju(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var n=this;try{const l=n.listBucketOptionsToQueryString(s);return{data:await gs(n.fetch,`${n.url}/bucket${l}`,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async getBucket(s){var n=this;try{return{data:await gs(n.fetch,`${n.url}/bucket/${s}`,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async createBucket(s,n={public:!1}){var l=this;try{return{data:await Xt(l.fetch,`${l.url}/bucket`,{id:s,name:s,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:l.headers}),error:null}}catch(r){if(l.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async updateBucket(s,n){var l=this;try{return{data:await Gu(l.fetch,`${l.url}/bucket/${s}`,{id:s,name:s,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:l.headers}),error:null}}catch(r){if(l.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async emptyBucket(s){var n=this;try{return{data:await Xt(n.fetch,`${n.url}/bucket/${s}/empty`,{},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async deleteBucket(s){var n=this;try{return{data:await Zu(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}listBucketOptionsToQueryString(s){const n={};return s&&("limit"in s&&(n.limit=String(s.limit)),"offset"in s&&(n.offset=String(s.offset)),s.search&&(n.search=s.search),s.sortColumn&&(n.sortColumn=s.sortColumn),s.sortOrder&&(n.sortOrder=s.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},Qp=class{constructor(s,n={},l){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=re(re({},Qm),n),this.fetch=Ju(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var n=this;try{return{data:await Xt(n.fetch,`${n.url}/bucket`,{name:s},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async listBuckets(s){var n=this;try{const l=new URLSearchParams;s?.limit!==void 0&&l.set("limit",s.limit.toString()),s?.offset!==void 0&&l.set("offset",s.offset.toString()),s?.sortColumn&&l.set("sortColumn",s.sortColumn),s?.sortOrder&&l.set("sortOrder",s.sortOrder),s?.search&&l.set("search",s.search);const r=l.toString(),c=r?`${n.url}/bucket?${r}`:`${n.url}/bucket`;return{data:await gs(n.fetch,c,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async deleteBucket(s){var n=this;try{return{data:await Zu(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}from(s){var n=this;if(!Mp(s))throw new Il("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const l=new Dp({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(l,{get(c,h){const d=c[h];return typeof d!="function"?d:async(...g)=>{try{return{data:await d.apply(c,g),error:null}}catch(m){if(r)throw m;return{data:null,error:m}}}}})}};const Pu={"X-Client-Info":`storage-js/${Xm}`,"Content-Type":"application/json"};var Jm=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ct(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var Tu=class extends Jm{constructor(s,n,l){super(s),this.name="StorageVectorsApiError",this.status=n,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Jp=class extends Jm{constructor(s,n){super(s),this.name="StorageVectorsUnknownError",this.originalError=n}};const Wu=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),Zp=s=>{if(typeof s!="object"||s===null)return!1;const n=Object.getPrototypeOf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},wm=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Pp=async(s,n,l)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!l?.noResolveJson){const r=s.status||500,c=s;if(typeof c.json=="function")c.json().then(h=>{const d=h?.statusCode||h?.code||r+"";n(new Tu(wm(h),r,d))}).catch(()=>{const h=r+"";n(new Tu(c.statusText||`HTTP ${r} error`,r,h))});else{const h=r+"";n(new Tu(c.statusText||`HTTP ${r} error`,r,h))}}else n(new Jp(wm(s),s))},Wp=(s,n,l,r)=>{const c={method:s,headers:n?.headers||{}};return r?(Zp(r)?(c.headers=re({"Content-Type":"application/json"},n?.headers),c.body=JSON.stringify(r)):c.body=r,re(re({},c),l)):c};async function Fp(s,n,l,r,c,h){return new Promise((d,g)=>{s(l,Wp(n,r,c,h)).then(m=>{if(!m.ok)throw m;if(r?.noResolveJson)return m;const y=m.headers.get("content-type");return!y||!y.includes("application/json")?{}:m.json()}).then(m=>d(m)).catch(m=>Pp(m,g,r))})}async function Dt(s,n,l,r,c){return Fp(s,"POST",n,r,c,l)}var e0=class{constructor(s,n={},l){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=re(re({},Pu),n),this.fetch=Wu(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var n=this;try{return{data:await Dt(n.fetch,`${n.url}/CreateIndex`,s,{headers:n.headers})||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ct(l))return{data:null,error:l};throw l}}async getIndex(s,n){var l=this;try{return{data:await Dt(l.fetch,`${l.url}/GetIndex`,{vectorBucketName:s,indexName:n},{headers:l.headers}),error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}}async listIndexes(s){var n=this;try{return{data:await Dt(n.fetch,`${n.url}/ListIndexes`,s,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ct(l))return{data:null,error:l};throw l}}async deleteIndex(s,n){var l=this;try{return{data:await Dt(l.fetch,`${l.url}/DeleteIndex`,{vectorBucketName:s,indexName:n},{headers:l.headers})||{},error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}}},t0=class{constructor(s,n={},l){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=re(re({},Pu),n),this.fetch=Wu(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var n=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Dt(n.fetch,`${n.url}/PutVectors`,s,{headers:n.headers})||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ct(l))return{data:null,error:l};throw l}}async getVectors(s){var n=this;try{return{data:await Dt(n.fetch,`${n.url}/GetVectors`,s,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ct(l))return{data:null,error:l};throw l}}async listVectors(s){var n=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await Dt(n.fetch,`${n.url}/ListVectors`,s,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ct(l))return{data:null,error:l};throw l}}async queryVectors(s){var n=this;try{return{data:await Dt(n.fetch,`${n.url}/QueryVectors`,s,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ct(l))return{data:null,error:l};throw l}}async deleteVectors(s){var n=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Dt(n.fetch,`${n.url}/DeleteVectors`,s,{headers:n.headers})||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ct(l))return{data:null,error:l};throw l}}},a0=class{constructor(s,n={},l){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=re(re({},Pu),n),this.fetch=Wu(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var n=this;try{return{data:await Dt(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ct(l))return{data:null,error:l};throw l}}async getBucket(s){var n=this;try{return{data:await Dt(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:s},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ct(l))return{data:null,error:l};throw l}}async listBuckets(s={}){var n=this;try{return{data:await Dt(n.fetch,`${n.url}/ListVectorBuckets`,s,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ct(l))return{data:null,error:l};throw l}}async deleteBucket(s){var n=this;try{return{data:await Dt(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ct(l))return{data:null,error:l};throw l}}},n0=class extends a0{constructor(s,n={}){super(s,n.headers||{},n.fetch)}from(s){return new i0(this.url,this.headers,s,this.fetch)}async createBucket(s){var n=()=>super.createBucket,l=this;return n().call(l,s)}async getBucket(s){var n=()=>super.getBucket,l=this;return n().call(l,s)}async listBuckets(s={}){var n=()=>super.listBuckets,l=this;return n().call(l,s)}async deleteBucket(s){var n=()=>super.deleteBucket,l=this;return n().call(l,s)}},i0=class extends e0{constructor(s,n,l,r){super(s,n,r),this.vectorBucketName=l}async createIndex(s){var n=()=>super.createIndex,l=this;return n().call(l,re(re({},s),{},{vectorBucketName:l.vectorBucketName}))}async listIndexes(s={}){var n=()=>super.listIndexes,l=this;return n().call(l,re(re({},s),{},{vectorBucketName:l.vectorBucketName}))}async getIndex(s){var n=()=>super.getIndex,l=this;return n().call(l,l.vectorBucketName,s)}async deleteIndex(s){var n=()=>super.deleteIndex,l=this;return n().call(l,l.vectorBucketName,s)}index(s){return new s0(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},s0=class extends t0{constructor(s,n,l,r,c){super(s,n,c),this.vectorBucketName=l,this.indexName=r}async putVectors(s){var n=()=>super.putVectors,l=this;return n().call(l,re(re({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async getVectors(s){var n=()=>super.getVectors,l=this;return n().call(l,re(re({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async listVectors(s={}){var n=()=>super.listVectors,l=this;return n().call(l,re(re({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async queryVectors(s){var n=()=>super.queryVectors,l=this;return n().call(l,re(re({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async deleteVectors(s){var n=()=>super.deleteVectors,l=this;return n().call(l,re(re({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}},l0=class extends Xp{constructor(s,n={},l,r){super(s,n,l,r)}from(s){return new Ip(this.url,this.headers,s,this.fetch)}get vectors(){return new n0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Qp(this.url+"/iceberg",this.headers,this.fetch)}};const Zm="2.91.0",fi=30*1e3,$u=3,xu=$u*fi,r0="http://localhost:9999",o0="supabase.auth.token",u0={"X-Client-Info":`gotrue-js/${Zm}`},Vu="X-Supabase-Api-Version",Pm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},c0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,h0=600*1e3;class ys extends Error{constructor(n,l,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=r}}function te(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class d0 extends ys{constructor(n,l,r){super(n,l,r),this.name="AuthApiError",this.status=l,this.code=r}}function f0(s){return te(s)&&s.name==="AuthApiError"}class pn extends ys{constructor(n,l){super(n),this.name="AuthUnknownError",this.originalError=l}}class pa extends ys{constructor(n,l,r,c){super(n,r,c),this.name=l,this.status=r}}class Rt extends pa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function m0(s){return te(s)&&s.name==="AuthSessionMissingError"}class li extends pa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hl extends pa{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Gl extends pa{constructor(n,l=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function v0(s){return te(s)&&s.name==="AuthImplicitGrantRedirectError"}class Sm extends pa{constructor(n,l=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class g0 extends pa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Yu extends pa{constructor(n,l){super(n,"AuthRetryableFetchError",l,void 0)}}function Au(s){return te(s)&&s.name==="AuthRetryableFetchError"}class Em extends pa{constructor(n,l,r){super(n,"AuthWeakPasswordError",l,"weak_password"),this.reasons=r}}class Ku extends pa{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const $l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tm=` 	
\r=`.split(""),y0=(()=>{const s=new Array(128);for(let n=0;n<s.length;n+=1)s[n]=-1;for(let n=0;n<Tm.length;n+=1)s[Tm[n].charCodeAt(0)]=-2;for(let n=0;n<$l.length;n+=1)s[$l[n].charCodeAt(0)]=n;return s})();function xm(s,n,l){if(s!==null)for(n.queue=n.queue<<8|s,n.queuedBits+=8;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;l($l[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;l($l[r]),n.queuedBits-=6}}function Wm(s,n,l){const r=y0[s];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)l(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Am(s){const n=[],l=d=>{n.push(String.fromCodePoint(d))},r={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},h=d=>{_0(d,r,l)};for(let d=0;d<s.length;d+=1)Wm(s.charCodeAt(d),c,h);return n.join("")}function p0(s,n){if(s<=127){n(s);return}else if(s<=2047){n(192|s>>6),n(128|s&63);return}else if(s<=65535){n(224|s>>12),n(128|s>>6&63),n(128|s&63);return}else if(s<=1114111){n(240|s>>18),n(128|s>>12&63),n(128|s>>6&63),n(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function b0(s,n){for(let l=0;l<s.length;l+=1){let r=s.charCodeAt(l);if(r>55295&&r<=56319){const c=(r-55296)*1024&65535;r=(s.charCodeAt(l+1)-56320&65535|c)+65536,l+=1}p0(r,n)}}function _0(s,n,l){if(n.utf8seq===0){if(s<=127){l(s);return}for(let r=1;r<6;r+=1)if((s>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=s&31;else if(n.utf8seq===3)n.codepoint=s&15;else if(n.utf8seq===4)n.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|s&63,n.utf8seq-=1,n.utf8seq===0&&l(n.codepoint)}}function gi(s){const n=[],l={queue:0,queuedBits:0},r=c=>{n.push(c)};for(let c=0;c<s.length;c+=1)Wm(s.charCodeAt(c),l,r);return new Uint8Array(n)}function w0(s){const n=[];return b0(s,l=>n.push(l)),new Uint8Array(n)}function _n(s){const n=[],l={queue:0,queuedBits:0},r=c=>{n.push(c)};return s.forEach(c=>xm(c,l,r)),xm(null,l,r),n.join("")}function S0(s){return Math.round(Date.now()/1e3)+s}function E0(){return Symbol("auth-callback")}const ut=()=>typeof window<"u"&&typeof document<"u",mn={tested:!1,writable:!1},Fm=()=>{if(!ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mn.tested)return mn.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),mn.tested=!0,mn.writable=!0}catch{mn.tested=!0,mn.writable=!1}return mn.writable};function T0(s){const n={},l=new URL(s);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((c,h)=>{n[h]=c})}catch{}return l.searchParams.forEach((r,c)=>{n[c]=r}),n}const ev=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),x0=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",mi=async(s,n,l)=>{await s.setItem(n,JSON.stringify(l))},vn=async(s,n)=>{const l=await s.getItem(n);if(!l)return null;try{return JSON.parse(l)}catch{return l}},ot=async(s,n)=>{await s.removeItem(n)};class Xl{constructor(){this.promise=new Xl.promiseConstructor((n,l)=>{this.resolve=n,this.reject=l})}}Xl.promiseConstructor=Promise;function Ou(s){const n=s.split(".");if(n.length!==3)throw new Ku("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!c0.test(n[r]))throw new Ku("JWT not in base64url format");return{header:JSON.parse(Am(n[0])),payload:JSON.parse(Am(n[1])),signature:gi(n[2]),raw:{header:n[0],payload:n[1]}}}async function A0(s){return await new Promise(n=>{setTimeout(()=>n(null),s)})}function O0(s,n){return new Promise((r,c)=>{(async()=>{for(let h=0;h<1/0;h++)try{const d=await s(h);if(!n(h,null,d)){r(d);return}}catch(d){if(!n(h,d)){c(d);return}}})()})}function j0(s){return("0"+s.toString(16)).substr(-2)}function N0(){const n=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=l.length;let c="";for(let h=0;h<56;h++)c+=l.charAt(Math.floor(Math.random()*r));return c}return crypto.getRandomValues(n),Array.from(n,j0).join("")}async function R0(s){const l=new TextEncoder().encode(s),r=await crypto.subtle.digest("SHA-256",l),c=new Uint8Array(r);return Array.from(c).map(h=>String.fromCharCode(h)).join("")}async function C0(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const l=await R0(s);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ri(s,n,l=!1){const r=N0();let c=r;l&&(c+="/PASSWORD_RECOVERY"),await mi(s,`${n}-code-verifier`,c);const h=await C0(r);return[h,r===h?"plain":"s256"]}const D0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function k0(s){const n=s.headers.get(Vu);if(!n||!n.match(D0))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function U0(s){if(!s)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(s<=n)throw new Error("JWT has expired")}function z0(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const M0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function oi(s){if(!M0.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ju(){const s={};return new Proxy(s,{get:(n,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const r=l.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function L0(s,n){return new Proxy(s,{get:(l,r,c)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const h=r.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,r,c)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(l,r,c)}})}function Om(s){return JSON.parse(JSON.stringify(s))}const gn=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),B0=[502,503,504];async function jm(s){var n;if(!x0(s))throw new Yu(gn(s),0);if(B0.includes(s.status))throw new Yu(gn(s),s.status);let l;try{l=await s.json()}catch(h){throw new pn(gn(h),h)}let r;const c=k0(s);if(c&&c.getTime()>=Pm["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?r=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(r=l.error_code),r){if(r==="weak_password")throw new Em(gn(l),s.status,((n=l.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new Rt}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((h,d)=>h&&typeof d=="string",!0))throw new Em(gn(l),s.status,l.weak_password.reasons);throw new d0(gn(l),s.status||500,r)}const q0=(s,n,l,r)=>{const c={method:s,headers:n?.headers||{}};return s==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),c.body=JSON.stringify(r),Object.assign(Object.assign({},c),l))};async function le(s,n,l,r){var c;const h=Object.assign({},r?.headers);h[Vu]||(h[Vu]=Pm["2024-01-01"].name),r?.jwt&&(h.Authorization=`Bearer ${r.jwt}`);const d=(c=r?.query)!==null&&c!==void 0?c:{};r?.redirectTo&&(d.redirect_to=r.redirectTo);const g=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await H0(s,n,l+g,{headers:h,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(m):{data:Object.assign({},m),error:null}}async function H0(s,n,l,r,c,h){const d=q0(n,r,c,h);let g;try{g=await s(l,Object.assign({},d))}catch(m){throw console.error(m),new Yu(gn(m),0)}if(g.ok||await jm(g),r?.noResolveJson)return g;try{return await g.json()}catch(m){await jm(m)}}function It(s){var n;let l=null;V0(s)&&(l=Object.assign({},s),s.expires_at||(l.expires_at=S0(s.expires_in)));const r=(n=s.user)!==null&&n!==void 0?n:s;return{data:{session:l,user:r},error:null}}function Nm(s){const n=It(s);return!n.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((l,r)=>l&&typeof r=="string",!0)&&(n.data.weak_password=s.weak_password),n}function Ia(s){var n;return{data:{user:(n=s.user)!==null&&n!==void 0?n:s},error:null}}function G0(s){return{data:s,error:null}}function $0(s){const{action_link:n,email_otp:l,hashed_token:r,redirect_to:c,verification_type:h}=s,d=Kl(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:n,email_otp:l,hashed_token:r,redirect_to:c,verification_type:h},m=Object.assign({},d);return{data:{properties:g,user:m},error:null}}function Rm(s){return s}function V0(s){return s.access_token&&s.refresh_token&&s.expires_in}const Nu=["global","local","others"];class Y0{constructor({url:n="",headers:l={},fetch:r}){this.url=n,this.headers=l,this.fetch=ev(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,l=Nu[0]){if(Nu.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Nu.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,l={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:Ia})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{const{options:l}=n,r=Kl(n,["options"]),c=Object.assign(Object.assign({},r),l);return"newEmail"in r&&(c.new_email=r?.newEmail,delete c.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:$0,redirectTo:l?.redirectTo})}catch(l){if(te(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(n){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Ia})}catch(l){if(te(l))return{data:{user:null},error:l};throw l}}async listUsers(n){var l,r,c,h,d,g,m;try{const y={nextPage:null,lastPage:0,total:0},b=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=n?.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(h=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:Rm});if(b.error)throw b.error;const S=await b.json(),A=(d=b.headers.get("x-total-count"))!==null&&d!==void 0?d:0,O=(m=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return O.length>0&&(O.forEach(x=>{const N=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),z=JSON.parse(x.split(";")[1].split("=")[1]);y[`${z}Page`]=N}),y.total=parseInt(A)),{data:Object.assign(Object.assign({},S),y),error:null}}catch(y){if(te(y))return{data:{users:[]},error:y};throw y}}async getUserById(n){oi(n);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Ia})}catch(l){if(te(l))return{data:{user:null},error:l};throw l}}async updateUserById(n,l){oi(n);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:l,headers:this.headers,xform:Ia})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,l=!1){oi(n);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:l},xform:Ia})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){oi(n.userId);try{const{data:l,error:r}=await le(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:l,error:r}}catch(l){if(te(l))return{data:null,error:l};throw l}}async _deleteFactor(n){oi(n.userId),oi(n.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(l){if(te(l))return{data:null,error:l};throw l}}async _listOAuthClients(n){var l,r,c,h,d,g,m;try{const y={nextPage:null,lastPage:0,total:0},b=await le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=n?.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(h=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:Rm});if(b.error)throw b.error;const S=await b.json(),A=(d=b.headers.get("x-total-count"))!==null&&d!==void 0?d:0,O=(m=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return O.length>0&&(O.forEach(x=>{const N=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),z=JSON.parse(x.split(";")[1].split("=")[1]);y[`${z}Page`]=N}),y.total=parseInt(A)),{data:Object.assign(Object.assign({},S),y),error:null}}catch(y){if(te(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(n){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(te(l))return{data:null,error:l};throw l}}async _getOAuthClient(n){try{return await le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(te(l))return{data:null,error:l};throw l}}async _updateOAuthClient(n,l){try{return await le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:l,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(te(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(n){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(te(l))return{data:null,error:l};throw l}}}function Cm(s={}){return{getItem:n=>s[n]||null,setItem:(n,l)=>{s[n]=l},removeItem:n=>{delete s[n]}}}const ui={debug:!!(globalThis&&Fm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tv extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class K0 extends tv{}async function I0(s,n,l){ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),ui.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async c=>{if(c){ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,c.name);try{return await l()}finally{ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,c.name)}}else{if(n===0)throw ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new K0(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(ui.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}function X0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function av(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function Q0(s){return parseInt(s,16)}function J0(s){const n=new TextEncoder().encode(s);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function Z0(s){var n;const{chainId:l,domain:r,expirationTime:c,issuedAt:h=new Date,nonce:d,notBefore:g,requestId:m,resources:y,scheme:b,uri:S,version:A}=s;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!S)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(A!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${A}`);if(!((n=s.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const O=av(s.address),x=b?`${b}://${r}`:r,N=s.statement?`${s.statement}
`:"",z=`${x} wants you to sign in with your Ethereum account:
${O}

${N}`;let k=`URI: ${S}
Version: ${A}
Chain ID: ${l}${d?`
Nonce: ${d}`:""}
Issued At: ${h.toISOString()}`;if(c&&(k+=`
Expiration Time: ${c.toISOString()}`),g&&(k+=`
Not Before: ${g.toISOString()}`),m&&(k+=`
Request ID: ${m}`),y){let H=`
Resources:`;for(const T of y){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);H+=`
- ${T}`}k+=H}return`${z}
${k}`}class We extends Error{constructor({message:n,code:l,cause:r,name:c}){var h;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(h=c??(r instanceof Error?r.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=l}}class Vl extends We{constructor(n,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:n}),this.name="WebAuthnUnknownError",this.originalError=l}}function P0({error:s,options:n}){var l,r,c;const{publicKey:h}=n;if(!h)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new We({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((l=h.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new We({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(n.mediation==="conditional"&&((r=h.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new We({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((c=h.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new We({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new We({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new We({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return h.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new We({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new We({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const d=window.location.hostname;if(nv(d)){if(h.rp.id!==d)return new We({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new We({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function W0({error:s,options:n}){const{publicKey:l}=n;if(!l)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new We({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new We({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const r=window.location.hostname;if(nv(r)){if(l.rpId!==r)return new We({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class F0{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const eb=new F0;function tb(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:n,user:l,excludeCredentials:r}=s,c=Kl(s,["challenge","user","excludeCredentials"]),h=gi(n).buffer,d=Object.assign(Object.assign({},l),{id:gi(l.id).buffer}),g=Object.assign(Object.assign({},c),{challenge:h,user:d});if(r&&r.length>0){g.excludeCredentials=new Array(r.length);for(let m=0;m<r.length;m++){const y=r[m];g.excludeCredentials[m]=Object.assign(Object.assign({},y),{id:gi(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return g}function ab(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:n,allowCredentials:l}=s,r=Kl(s,["challenge","allowCredentials"]),c=gi(n).buffer,h=Object.assign(Object.assign({},r),{challenge:c});if(l&&l.length>0){h.allowCredentials=new Array(l.length);for(let d=0;d<l.length;d++){const g=l[d];h.allowCredentials[d]=Object.assign(Object.assign({},g),{id:gi(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function nb(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const l=s;return{id:s.id,rawId:s.id,response:{attestationObject:_n(new Uint8Array(s.response.attestationObject)),clientDataJSON:_n(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(n=l.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function ib(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const l=s,r=s.getClientExtensionResults(),c=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:_n(new Uint8Array(c.authenticatorData)),clientDataJSON:_n(new Uint8Array(c.clientDataJSON)),signature:_n(new Uint8Array(c.signature)),userHandle:c.userHandle?_n(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=l.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function nv(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Dm(){var s,n;return!!(ut()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function sb(s){try{const n=await navigator.credentials.create(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Vl("Browser returned unexpected credential type",n)}:{data:null,error:new Vl("Empty credential response",n)}}catch(n){return{data:null,error:P0({error:n,options:s})}}}async function lb(s){try{const n=await navigator.credentials.get(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Vl("Browser returned unexpected credential type",n)}:{data:null,error:new Vl("Empty credential response",n)}}catch(n){return{data:null,error:W0({error:n,options:s})}}}const rb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ob={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Yl(...s){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),l=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),r={};for(const c of s)if(c)for(const h in c){const d=c[h];if(d!==void 0)if(Array.isArray(d))r[h]=d;else if(l(d))r[h]=d;else if(n(d)){const g=r[h];n(g)?r[h]=Yl(g,d):r[h]=Yl(d)}else r[h]=d}return r}function ub(s,n){return Yl(rb,s,n||{})}function cb(s,n){return Yl(ob,s,n||{})}class hb{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:l,friendlyName:r,signal:c},h){try{const{data:d,error:g}=await this.client.mfa.challenge({factorId:n,webauthn:l});if(!d)return{data:null,error:g};const m=c??eb.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:y}=d.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${r}`),y.displayName||(y.displayName=y.name)}switch(d.webauthn.type){case"create":{const y=ub(d.webauthn.credential_options.publicKey,h?.create),{data:b,error:S}=await sb({publicKey:y,signal:m});return b?{data:{factorId:n,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:b}},error:null}:{data:null,error:S}}case"request":{const y=cb(d.webauthn.credential_options.publicKey,h?.request),{data:b,error:S}=await lb(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:y,signal:m}));return b?{data:{factorId:n,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:b}},error:null}:{data:null,error:S}}}}catch(d){return te(d)?{data:null,error:d}:{data:null,error:new pn("Unexpected error in challenge",d)}}}async _verify({challengeId:n,factorId:l,webauthn:r}){return this.client.mfa.verify({factorId:l,challengeId:n,webauthn:r})}async _authenticate({factorId:n,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!l)return{data:null,error:new ys("rpId is required for WebAuthn authentication")};try{if(!Dm())return{data:null,error:new pn("Browser does not support WebAuthn",null)};const{data:d,error:g}=await this.challenge({factorId:n,webauthn:{rpId:l,rpOrigins:r},signal:c},{request:h});if(!d)return{data:null,error:g};const{webauthn:m}=d;return this._verify({factorId:n,challengeId:d.challengeId,webauthn:{type:m.type,rpId:l,rpOrigins:r,credential_response:m.credential_response}})}catch(d){return te(d)?{data:null,error:d}:{data:null,error:new pn("Unexpected error in authenticate",d)}}}async _register({friendlyName:n,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!l)return{data:null,error:new ys("rpId is required for WebAuthn registration")};try{if(!Dm())return{data:null,error:new pn("Browser does not support WebAuthn",null)};const{data:d,error:g}=await this._enroll({friendlyName:n});if(!d)return await this.client.mfa.listFactors().then(b=>{var S;return(S=b.data)===null||S===void 0?void 0:S.all.find(A=>A.factor_type==="webauthn"&&A.friendly_name===n&&A.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:g};const{data:m,error:y}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:l,rpOrigins:r},signal:c},{create:h});return m?this._verify({factorId:d.id,challengeId:m.challengeId,webauthn:{rpId:l,rpOrigins:r,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:y}}catch(d){return te(d)?{data:null,error:d}:{data:null,error:new pn("Unexpected error in register",d)}}}}X0();const db={url:r0,storageKey:o0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:u0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function km(s,n,l){return await l()}const ci={};class ps{get jwks(){var n,l;return(l=(n=ci[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(n){ci[this.storageKey]=Object.assign(Object.assign({},ci[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,l;return(l=(n=ci[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){ci[this.storageKey]=Object.assign(Object.assign({},ci[this.storageKey]),{cachedAt:n})}constructor(n){var l,r,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},db),n);if(this.storageKey=h.storageKey,this.instanceID=(l=ps.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,ps.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&ut()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new Y0({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=ev(h.fetch),this.lock=h.lock||km,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,this.lockAcquireTimeout=h.lockAcquireTimeout,h.lock?this.lock=h.lock:this.persistSession&&ut()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=I0:this.lock=km,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new hb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:Fm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Cm(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=Cm(this.memoryStorage)),ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Zm}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let l={},r="none";if(ut()&&(l=T0(window.location.href),this._isImplicitGrantCallback(l)?r="implicit":await this._isPKCECallback(l)&&(r="pkce")),ut()&&this.detectSessionInUrl&&r!=="none"){const{data:c,error:h}=await this._getSessionFromURL(l,r);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),v0(h)){const m=(n=h.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:h}}return{error:h}}const{session:d,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",d,"redirect type",g),await this._saveSession(d),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return te(l)?this._returnResult({error:l}):this._returnResult({error:new pn("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var l,r,c;try{const h=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(l=n?.options)===null||l===void 0?void 0:l.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(c=n?.options)===null||c===void 0?void 0:c.captchaToken}},xform:It}),{data:d,error:g}=h;if(g||!d)return this._returnResult({data:{user:null,session:null},error:g});const m=d.session,y=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(h){if(te(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(n){var l,r,c;try{let h;if("email"in n){const{email:b,password:S,options:A}=n;let O=null,x=null;this.flowType==="pkce"&&([O,x]=await ri(this.storage,this.storageKey)),h=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:A?.emailRedirectTo,body:{email:b,password:S,data:(l=A?.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:A?.captchaToken},code_challenge:O,code_challenge_method:x},xform:It})}else if("phone"in n){const{phone:b,password:S,options:A}=n;h=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:S,data:(r=A?.data)!==null&&r!==void 0?r:{},channel:(c=A?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:A?.captchaToken}},xform:It})}else throw new Hl("You must provide either an email or phone number and a password");const{data:d,error:g}=h;if(g||!d)return await ot(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const m=d.session,y=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(h){if(await ot(this.storage,`${this.storageKey}-code-verifier`),te(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(n){try{let l;if("email"in n){const{email:h,password:d,options:g}=n;l=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:d,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Nm})}else if("phone"in n){const{phone:h,password:d,options:g}=n;l=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:d,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Nm})}else throw new Hl("You must provide either an email or phone number and a password");const{data:r,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!r||!r.session||!r.user){const h=new li;return this._returnResult({data:{user:null,session:null},error:h})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:c})}catch(l){if(te(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(n){var l,r,c,h;return await this._handleProviderSignIn(n.provider,{redirectTo:(l=n.options)===null||l===void 0?void 0:l.redirectTo,scopes:(r=n.options)===null||r===void 0?void 0:r.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(h=n.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:l}=n;switch(l){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(n){var l,r,c,h,d,g,m,y,b,S,A;let O,x;if("message"in n)O=n.message,x=n.signature;else{const{chain:N,wallet:z,statement:k,options:H}=n;let T;if(ut())if(typeof z=="object")T=z;else{const de=window;if("ethereum"in de&&typeof de.ethereum=="object"&&"request"in de.ethereum&&typeof de.ethereum.request=="function")T=de.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!H?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=z}const V=new URL((l=H?.url)!==null&&l!==void 0?l:window.location.href),I=await T.request({method:"eth_requestAccounts"}).then(de=>de).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=av(I[0]);let B=(r=H?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!B){const de=await T.request({method:"eth_chainId"});B=Q0(de)}const P={domain:V.host,address:R,statement:k,uri:V.href,version:"1",chainId:B,nonce:(c=H?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(d=(h=H?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(g=H?.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(m=H?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(y=H?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(b=H?.signInWithEthereum)===null||b===void 0?void 0:b.resources};O=Z0(P),x=await T.request({method:"personal_sign",params:[J0(O),R]})}try{const{data:N,error:z}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:O,signature:x},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(A=n.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:It});if(z)throw z;if(!N||!N.session||!N.user){const k=new li;return this._returnResult({data:{user:null,session:null},error:k})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:z})}catch(N){if(te(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(n){var l,r,c,h,d,g,m,y,b,S,A,O;let x,N;if("message"in n)x=n.message,N=n.signature;else{const{chain:z,wallet:k,statement:H,options:T}=n;let V;if(ut())if(typeof k=="object")V=k;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))V=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=k}const I=new URL((l=T?.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in V&&V.signIn){const R=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),H?{statement:H}:null));let B;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")B=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)B=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)x=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),N=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${I.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...H?["",H,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(c=(r=T?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((h=T?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((d=T?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((g=T?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((m=T?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((y=T?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((S=(b=T?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||S===void 0)&&S.length?["Resources",...T.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const R=await V.signMessage(new TextEncoder().encode(x),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=R}}try{const{data:z,error:k}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:_n(N)},!((A=n.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(O=n.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:It});if(k)throw k;if(!z||!z.session||!z.user){const H=new li;return this._returnResult({data:{user:null,session:null},error:H})}return z.session&&(await this._saveSession(z.session),await this._notifyAllSubscribers("SIGNED_IN",z.session)),this._returnResult({data:Object.assign({},z),error:k})}catch(z){if(te(z))return this._returnResult({data:{user:null,session:null},error:z});throw z}}async _exchangeCodeForSession(n){const l=await vn(this.storage,`${this.storageKey}-code-verifier`),[r,c]=(l??"").split("/");try{if(!r&&this.flowType==="pkce")throw new g0;const{data:h,error:d}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:It});if(await ot(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!h||!h.session||!h.user){const g=new li;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return h.session&&(await this._saveSession(h.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",h.session)},0)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:c??null}),error:d})}catch(h){if(await ot(this.storage,`${this.storageKey}-code-verifier`),te(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(n){try{const{options:l,provider:r,token:c,access_token:h,nonce:d}=n,g=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:c,access_token:h,nonce:d,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:It}),{data:m,error:y}=g;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!m||!m.session||!m.user){const b=new li;return this._returnResult({data:{user:null,session:null},error:b})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:y})}catch(l){if(te(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(n){var l,r,c,h,d;try{if("email"in n){const{email:g,options:m}=n;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await ri(this.storage,this.storageKey));const{error:S}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(l=m?.data)!==null&&l!==void 0?l:{},create_user:(r=m?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:y,code_challenge_method:b},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:S})}if("phone"in n){const{phone:g,options:m}=n,{data:y,error:b}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=m?.data)!==null&&c!==void 0?c:{},create_user:(h=m?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(d=m?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:b})}throw new Hl("You must provide either an email or phone number.")}catch(g){if(await ot(this.storage,`${this.storageKey}-code-verifier`),te(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(n){var l,r;try{let c,h;"options"in n&&(c=(l=n.options)===null||l===void 0?void 0:l.redirectTo,h=(r=n.options)===null||r===void 0?void 0:r.captchaToken);const{data:d,error:g}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:h}}),redirectTo:c,xform:It});if(g)throw g;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,y=d.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(c){if(te(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var l,r,c,h,d;try{let g=null,m=null;this.flowType==="pkce"&&([g,m]=await ri(this.storage,this.storageKey));const y=await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(r=(l=n.options)===null||l===void 0?void 0:l.redirectTo)!==null&&r!==void 0?r:void 0}),!((c=n?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:m}),headers:this.headers,xform:G0});return!((h=y.data)===null||h===void 0)&&h.url&&ut()&&!(!((d=n.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(g){if(await ot(this.storage,`${this.storageKey}-code-verifier`),te(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:l},error:r}=n;if(r)throw r;if(!l)throw new Rt;const{error:c}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const l=`${this.url}/resend`;if("email"in n){const{email:r,type:c,options:h}=n,{error:d}=await le(this.fetch,"POST",l,{headers:this.headers,body:{email:r,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in n){const{phone:r,type:c,options:h}=n,{data:d,error:g}=await le(this.fetch,"POST",l,{headers:this.headers,body:{phone:r,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:g})}throw new Hl("You must provide either an email or phone number and a type")}catch(l){if(te(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async l=>l))}async _acquireLock(n,l){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await r,await l()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=l();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await n(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const l=await vn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?n=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const r=n.expires_at?n.expires_at*1e3-Date.now()<xu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",n.expires_at),!r){if(this.userStorage){const d=await vn(this.userStorage,this.storageKey+"-user");d?.user?n.user=d.user:n.user=ju()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};n.user=L0(n.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const l=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return l.data.user&&(this.suppressGetSessionWarning=!0),l}async _getUser(n){try{return n?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Ia}):await this._useSession(async l=>{var r,c,h;const{data:d,error:g}=l;if(g)throw g;return!(!((r=d.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rt}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0,xform:Ia})})}catch(l){if(te(l))return m0(l)&&(await this._removeSession(),await ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(n,l={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,l))}async _updateUser(n,l={}){try{return await this._useSession(async r=>{const{data:c,error:h}=r;if(h)throw h;if(!c.session)throw new Rt;const d=c.session;let g=null,m=null;this.flowType==="pkce"&&n.email!=null&&([g,m]=await ri(this.storage,this.storageKey));const{data:y,error:b}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:g,code_challenge_method:m}),jwt:d.access_token,xform:Ia});if(b)throw b;return d.user=y.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(r){if(await ot(this.storage,`${this.storageKey}-code-verifier`),te(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Rt;const l=Date.now()/1e3;let r=l,c=!0,h=null;const{payload:d}=Ou(n.access_token);if(d.exp&&(r=d.exp,c=r<=l),c){const{data:g,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g)return{data:{user:null,session:null},error:null};h=g}else{const{data:g,error:m}=await this._getUser(n.access_token);if(m)throw m;h={access_token:n.access_token,refresh_token:n.refresh_token,user:g.user,token_type:"bearer",expires_in:r-l,expires_at:r},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(l){if(te(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async l=>{var r;if(!n){const{data:d,error:g}=l;if(g)throw g;n=(r=d.session)!==null&&r!==void 0?r:void 0}if(!n?.refresh_token)throw new Rt;const{data:c,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(te(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(n,l){try{if(!ut())throw new Gl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Gl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new Sm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gl("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Sm("No code detected.");const{data:H,error:T}=await this._exchangeCodeForSession(n.code);if(T)throw T;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:H.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:c,access_token:h,refresh_token:d,expires_in:g,expires_at:m,token_type:y}=n;if(!h||!g||!d||!y)throw new Gl("No session defined in URL");const b=Math.round(Date.now()/1e3),S=parseInt(g);let A=b+S;m&&(A=parseInt(m));const O=A-b;O*1e3<=fi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${O}s, should have been closer to ${S}s`);const x=A-S;b-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,A,b):b-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,A,b);const{data:N,error:z}=await this._getUser(h);if(z)throw z;const k={provider_token:r,provider_refresh_token:c,access_token:h,expires_in:S,expires_at:A,refresh_token:d,token_type:y,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:n.type},error:null})}catch(r){if(te(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const l=await vn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&l)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async l=>{var r;const{data:c,error:h}=l;if(h)return this._returnResult({error:h});const d=(r=c.session)===null||r===void 0?void 0:r.access_token;if(d){const{error:g}=await this.admin.signOut(d,n);if(g&&!(f0(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return n!=="others"&&(await this._removeSession(),await ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const l=E0(),r={id:l,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:r}}}async _emitInitialSession(n){return await this._useSession(async l=>{var r,c;try{const{data:{session:h},error:d}=l;if(d)throw d;await((r=this.stateChangeEmitters.get(n))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",n,"session",h)}catch(h){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",h),console.error(h)}})}async resetPasswordForEmail(n,l={}){let r=null,c=null;this.flowType==="pkce"&&([r,c]=await ri(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:r,code_challenge_method:c,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(h){if(await ot(this.storage,`${this.storageKey}-code-verifier`),te(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var n;try{const{data:l,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(n=l.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(l){if(te(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var l;try{const{data:r,error:c}=await this._useSession(async h=>{var d,g,m,y,b;const{data:S,error:A}=h;if(A)throw A;const O=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(d=n.options)===null||d===void 0?void 0:d.redirectTo,scopes:(g=n.options)===null||g===void 0?void 0:g.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",O,{headers:this.headers,jwt:(b=(y=S.session)===null||y===void 0?void 0:y.access_token)!==null&&b!==void 0?b:void 0})});if(c)throw c;return ut()&&!(!((l=n.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:n.provider,url:r?.url},error:null})}catch(r){if(te(r))return this._returnResult({data:{provider:n.provider,url:null},error:r});throw r}}async linkIdentityIdToken(n){return await this._useSession(async l=>{var r;try{const{error:c,data:{session:h}}=l;if(c)throw c;const{options:d,provider:g,token:m,access_token:y,nonce:b}=n,S=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=h?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:g,id_token:m,access_token:y,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:It}),{data:A,error:O}=S;return O?this._returnResult({data:{user:null,session:null},error:O}):!A||!A.session||!A.user?this._returnResult({data:{user:null,session:null},error:new li}):(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("USER_UPDATED",A.session)),this._returnResult({data:A,error:O}))}catch(c){if(await ot(this.storage,`${this.storageKey}-code-verifier`),te(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async l=>{var r,c;const{data:h,error:d}=l;if(d)throw d;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(r=h.session)===null||r===void 0?void 0:r.access_token)!==null&&c!==void 0?c:void 0})})}catch(l){if(te(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(n){const l=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{const r=Date.now();return await O0(async c=>(c>0&&await A0(200*Math.pow(2,c-1)),this._debug(l,"refreshing attempt",c),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:It})),(c,h)=>{const d=200*Math.pow(2,c);return h&&Au(h)&&Date.now()+d-r<fi})}catch(r){if(this._debug(l,"error",r),te(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(l,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,l){const r=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",l,"url",r),ut()&&!l.skipBrowserRedirect&&window.location.assign(r),{data:{provider:n,url:r},error:null}}async _recoverAndRefresh(){var n,l;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const c=await vn(this.storage,this.storageKey);if(c&&this.userStorage){let d=await vn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:c.user},await mi(this.userStorage,this.storageKey+"-user",d)),c.user=(n=d?.user)!==null&&n!==void 0?n:ju()}else if(c&&!c.user&&!c.user){const d=await vn(this.storage,this.storageKey+"-user");d&&d?.user?(c.user=d.user,await ot(this.storage,this.storageKey+"-user"),await mi(this.storage,this.storageKey,c)):c.user=ju()}if(this._debug(r,"session from storage",c),!this._isValidSession(c)){this._debug(r,"session is not valid"),c!==null&&await this._removeSession();return}const h=((l=c.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<xu;if(this._debug(r,`session has${h?"":" not"} expired with margin of ${xu}s`),h){if(this.autoRefreshToken&&c.refresh_token){const{error:d}=await this._callRefreshToken(c.refresh_token);d&&(console.error(d),Au(d)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:g}=await this._getUser(c.access_token);!g&&d?.user?(c.user=d.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(r,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(r,"error",c),console.error(c);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var l,r;if(!n)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Xl;const{data:h,error:d}=await this._refreshAccessToken(n);if(d)throw d;if(!h.session)throw new Rt;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const g={data:h.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(h){if(this._debug(c,"error",h),te(h)){const d={data:null,error:h};return Au(h)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(d),d}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(h),h}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,l,r=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",l,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:n,session:l});const h=[],d=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(n,l)}catch(m){h.push(m)}});if(await Promise.all(d),h.length>0){for(let g=0;g<h.length;g+=1)console.error(h[g]);throw h[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await ot(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},n),r=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&l.user&&await mi(this.userStorage,this.storageKey+"-user",{user:l.user});const c=Object.assign({},l);delete c.user;const h=Om(c);await mi(this.storage,this.storageKey,h)}else{const c=Om(l);await mi(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ot(this.storage,this.storageKey),await ot(this.storage,this.storageKey+"-code-verifier"),await ot(this.storage,this.storageKey+"-user"),this.userStorage&&await ot(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ut()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),fi);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const l=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=l,l&&typeof l=="object"&&typeof l.unref=="function"?l.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(l)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const l=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,l&&clearTimeout(l)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async l=>{const{data:{session:r}}=l;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((r.expires_at*1e3-n)/fi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${fi}ms, refresh threshold is ${$u} ticks`),c<=$u&&await this._callRefreshToken(r.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof tv)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ut()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const l=`#_onVisibilityChanged(${n})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,l,r){const c=[`provider=${encodeURIComponent(l)}`];if(r?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&c.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[h,d]=await ri(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(d)}`});c.push(g.toString())}if(r?.queryParams){const h=new URLSearchParams(r.queryParams);c.push(h.toString())}return r?.skipBrowserRedirect&&c.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async l=>{var r;const{data:c,error:h}=l;return h?this._returnResult({data:null,error:h}):await le(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token})})}catch(l){if(te(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(n){try{return await this._useSession(async l=>{var r,c;const{data:h,error:d}=l;if(d)return this._returnResult({data:null,error:d});const g=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:m,error:y}=await le(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(r=h?.session)===null||r===void 0?void 0:r.access_token});return y?this._returnResult({data:null,error:y}):(n.factorType==="totp"&&m.type==="totp"&&(!((c=m?.totp)===null||c===void 0)&&c.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(l){if(te(l))return this._returnResult({data:null,error:l});throw l}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:h}=l;if(h)return this._returnResult({data:null,error:h});const d=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?nb(n.webauthn.credential_response):ib(n.webauthn.credential_response)})}:{code:n.code}),{data:g,error:m}=await le(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:d,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:m}))})}catch(l){if(te(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:h}=l;if(h)return this._returnResult({data:null,error:h});const d=await le(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});if(d.error)return d;const{data:g}=d;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:tb(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:ab(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(te(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(n){const{data:l,error:r}=await this._challenge({factorId:n.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:n.factorId,challengeId:l.id,code:n.code})}async _listFactors(){var n;const{data:{user:l},error:r}=await this.getUser();if(r)return{data:null,error:r};const c={all:[],phone:[],totp:[],webauthn:[]};for(const h of(n=l?.factors)!==null&&n!==void 0?n:[])c.all.push(h),h.status==="verified"&&c[h.factor_type].push(h);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var n,l;const{data:{session:r},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Ou(r.access_token);let d=null;h.aal&&(d=h.aal);let g=d;((l=(n=r.user.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(g="aal2");const y=h.amr||[];return{data:{currentLevel:d,nextLevel:g,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async l=>{const{data:{session:r},error:c}=l;return c?this._returnResult({data:null,error:c}):r?await le(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:r.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(l){if(te(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(n,l){try{return await this._useSession(async r=>{const{data:{session:c},error:h}=r;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new Rt});const d=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return d.data&&d.data.redirect_url&&ut()&&!l?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(n,l){try{return await this._useSession(async r=>{const{data:{session:c},error:h}=r;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new Rt});const d=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return d.data&&d.data.redirect_url&&ut()&&!l?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:l},error:r}=n;return r?this._returnResult({data:null,error:r}):l?await le(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(n){if(te(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async l=>{const{data:{session:r},error:c}=l;return c?this._returnResult({data:null,error:c}):r?(await le(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Rt})})}catch(l){if(te(l))return this._returnResult({data:null,error:l});throw l}}async fetchJwk(n,l={keys:[]}){let r=l.keys.find(g=>g.kid===n);if(r)return r;const c=Date.now();if(r=this.jwks.keys.find(g=>g.kid===n),r&&this.jwks_cached_at+h0>c)return r;const{data:h,error:d}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=c,r=h.keys.find(g=>g.kid===n),!r)?null:r}async getClaims(n,l={}){try{let r=n;if(!r){const{data:O,error:x}=await this.getSession();if(x||!O.session)return this._returnResult({data:null,error:x});r=O.session.access_token}const{header:c,payload:h,signature:d,raw:{header:g,payload:m}}=Ou(r);l?.allowExpired||U0(h.exp);const y=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,l?.keys?{keys:l.keys}:l?.jwks);if(!y){const{error:O}=await this.getUser(r);if(O)throw O;return{data:{claims:h,header:c,signature:d},error:null}}const b=z0(c.alg),S=await crypto.subtle.importKey("jwk",y,b,!0,["verify"]);if(!await crypto.subtle.verify(b,S,d,w0(`${g}.${m}`)))throw new Ku("Invalid JWT signature");return{data:{claims:h,header:c,signature:d},error:null}}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}}ps.nextInstanceID={};const fb=ps,mb="2.91.0";let hs="";typeof Deno<"u"?hs="deno":typeof document<"u"?hs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hs="react-native":hs="node";const vb={"X-Client-Info":`supabase-js-${hs}/${mb}`},gb={headers:vb},yb={schema:"public"},pb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bb={};function bs(s){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},bs(s)}function _b(s,n){if(bs(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,n);if(bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function wb(s){var n=_b(s,"string");return bs(n)=="symbol"?n:n+""}function Sb(s,n,l){return(n=wb(n))in s?Object.defineProperty(s,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[n]=l,s}function Um(s,n){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);n&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.push.apply(l,r)}return l}function Ke(s){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?Um(Object(l),!0).forEach(function(r){Sb(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):Um(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}const Eb=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),Tb=()=>Headers,xb=(s,n,l)=>{const r=Eb(l),c=Tb();return async(h,d)=>{var g;const m=(g=await n())!==null&&g!==void 0?g:s;let y=new c(d?.headers);return y.has("apikey")||y.set("apikey",s),y.has("Authorization")||y.set("Authorization",`Bearer ${m}`),r(h,Ke(Ke({},d),{},{headers:y}))}};function Ab(s){return s.endsWith("/")?s:s+"/"}function Ob(s,n){var l,r;const{db:c,auth:h,realtime:d,global:g}=s,{db:m,auth:y,realtime:b,global:S}=n,A={db:Ke(Ke({},m),c),auth:Ke(Ke({},y),h),realtime:Ke(Ke({},b),d),storage:{},global:Ke(Ke(Ke({},S),g),{},{headers:Ke(Ke({},(l=S?.headers)!==null&&l!==void 0?l:{}),(r=g?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return s.accessToken?A.accessToken=s.accessToken:delete A.accessToken,A}function jb(s){const n=s?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ab(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Nb=class extends fb{constructor(s){super(s)}},Rb=class{constructor(s,n,l){var r,c;this.supabaseUrl=s,this.supabaseKey=n;const h=jb(s);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const d=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:yb,realtime:bb,auth:Ke(Ke({},pb),{},{storageKey:d}),global:gb},m=Ob(l??{},g);if(this.storageKey=(r=m.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(c=m.global.headers)!==null&&c!==void 0?c:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(b,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=m.auth)!==null&&y!==void 0?y:{},this.headers,m.global.fetch)}this.fetch=xb(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Ke({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new up(new URL("rest/v1",h).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new l0(this.storageUrl.href,this.headers,this.fetch,l?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new ip(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,n={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,n,l)}channel(s,n={config:{}}){return this.realtime.channel(s,n)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,n,l;if(s.accessToken)return await s.accessToken();const{data:r}=await s.auth.getSession();return(n=(l=r.session)===null||l===void 0?void 0:l.access_token)!==null&&n!==void 0?n:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:n,detectSessionInUrl:l,storage:r,userStorage:c,storageKey:h,flowType:d,lock:g,debug:m,throwOnError:y},b,S){const A={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Nb({url:this.authUrl.href,headers:Ke(Ke({},A),b),storageKey:h,autoRefreshToken:s,persistSession:n,detectSessionInUrl:l,storage:r,userStorage:c,flowType:d,lock:g,debug:m,throwOnError:y,fetch:S,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new Ap(this.realtimeUrl.href,Ke(Ke({},s),{},{params:Ke(Ke({},{apikey:this.supabaseKey}),s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n?.access_token)})}_handleTokenChanged(s,n,l){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Cb=(s,n,l)=>new Rb(s,n,l);function Db(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const n=s.version;if(n==null)return!1;const l=n.match(/^v(\d+)\./);return l?parseInt(l[1],10)<=18:!1}Db()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const kb="https://gnlevgreuubuqadknnts.supabase.co",iv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdubGV2Z3JldXVidXFhZGtubnRzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5ODMzNjcsImV4cCI6MjA4NDU1OTM2N30.QLyExiS3KuNo1kBtn6Kf75hbu1PldGo8Y6c6DLkh8eE",ct=!!iv,_e=ct?Cb(kb,iv):null;ct||console.warn(" Supabase credentials not found. Running in local-only mode. Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY in .env file for cloud sync.");const hi="archive-photos",zm=[{id:"show-1",date:"2026-01-24",venue:"PRAHA VENUE",city:"Praha",country:"CZ",ticketUrl:"https://goout.net/sk/vranov-music+hostia/szqwcfy",isPast:!1},{id:"show-2",date:"2026-02-14",venue:"FUGA",city:"Bratislava",country:"SK",ticketUrl:"#",isPast:!1},{id:"show-3",date:"2026-03-08",venue:"TABAKA",city:"Koice",country:"SK",ticketUrl:"#",isPast:!1},{id:"show-past-1",date:"2026-01-10",venue:"FUGA",city:"Bratislava",country:"SK",isPast:!0},{id:"show-past-2",date:"2025-12-27",venue:"TABAKA",city:"Koice",country:"SK",isPast:!0}],sv=$.createContext(void 0),Ub=s=>({id:s.id,date:s.date,time:s.time||void 0,venue:s.venue,city:s.city,country:s.country,ticketUrl:s.ticket_url||void 0,flyerImage:s.flyer_image||void 0,description:s.description||void 0,isPast:s.is_past}),zb=s=>({date:s.date,time:s.time||null,venue:s.venue,city:s.city,country:s.country,ticket_url:s.ticketUrl||null,flyer_image:s.flyerImage||null,description:s.description||null,is_past:s.isPast||!1}),Mb=({children:s})=>{const[n,l]=$.useState(ct?[]:zm),[r,c]=$.useState(!0),[h,d]=$.useState(null),g=$.useCallback(async()=>{if(!ct||!_e){c(!1);return}try{c(!0),d(null);const{data:O,error:x}=await _e.from("shows").select("*").order("date",{ascending:!0});if(x)throw x;l(O?O.map(Ub):[])}catch(O){console.error("Error fetching shows:",O),d(O instanceof Error?O.message:"Failed to fetch shows"),n.length===0&&l(zm)}finally{c(!1)}},[n.length]);$.useEffect(()=>{g()},[g]),$.useEffect(()=>{if(!ct||!_e)return;const O=_e,x=O.channel("shows_changes").on("postgres_changes",{event:"*",schema:"public",table:"shows"},()=>{g()}).subscribe();return()=>{O.removeChannel(x)}},[g]);const m=async O=>{if(!ct||!_e){const x={...O,id:`show-${Date.now()}`};l(N=>[...N,x]);return}try{const{error:x}=await _e.from("shows").insert(zb(O));if(x)throw x}catch(x){throw console.error("Error adding show:",x),x}},y=async(O,x)=>{if(!ct||!_e){l(N=>N.map(z=>z.id===O?{...z,...x}:z));return}try{const N={};x.date!==void 0&&(N.date=x.date),x.time!==void 0&&(N.time=x.time||null),x.venue!==void 0&&(N.venue=x.venue),x.city!==void 0&&(N.city=x.city),x.country!==void 0&&(N.country=x.country),x.ticketUrl!==void 0&&(N.ticket_url=x.ticketUrl||null),x.flyerImage!==void 0&&(N.flyer_image=x.flyerImage||null),x.description!==void 0&&(N.description=x.description||null),x.isPast!==void 0&&(N.is_past=x.isPast);const{error:z}=await _e.from("shows").update(N).eq("id",O);if(z)throw z}catch(N){throw console.error("Error updating show:",N),N}},b=async O=>{if(!ct||!_e){l(x=>x.filter(N=>N.id!==O));return}try{const{error:x}=await _e.from("shows").delete().eq("id",O);if(x)throw x}catch(x){throw console.error("Error deleting show:",x),x}},S=()=>n.filter(O=>!O.isPast),A=()=>n.filter(O=>O.isPast);return v.jsx(sv.Provider,{value:{shows:n,loading:r,error:h,addShow:m,updateShow:y,deleteShow:b,getUpcomingShows:S,getPastShows:A,refreshShows:g},children:s})},lv=()=>{const s=$.useContext(sv);if(!s)throw new Error("useShows must be used within a ShowsProvider");return s},rv=$.createContext(void 0),Mm=s=>({id:s.id,name:s.name,description:s.description||void 0,category:s.category,eventDate:s.event_date||void 0,createdAt:s.created_at,updatedAt:s.updated_at}),Lm=s=>({id:s.id,folderId:s.folder_id,title:s.title,description:s.description||void 0,photoDate:s.photo_date||void 0,url:s.url,thumbnailUrl:s.thumbnail_url||void 0,fileSize:s.file_size||void 0,displayOrder:s.display_order,createdAt:s.created_at,updatedAt:s.updated_at}),Lb=s=>({name:s.name,description:s.description||null,category:s.category,event_date:s.eventDate||null}),Bb=({children:s})=>{const[n,l]=$.useState([]),[r,c]=$.useState([]),[h,d]=$.useState(!0),[g,m]=$.useState(null),y=$.useCallback(async()=>{if(!ct||!_e){d(!1);return}try{const{data:I,error:R}=await _e.from("archive_folders").select("*").order("created_at",{ascending:!1});if(R)throw R;l(I?I.map(Mm):[])}catch(I){console.error("Error fetching folders:",I),m(I instanceof Error?I.message:"Failed to fetch folders")}},[]),b=$.useCallback(async()=>{if(!ct||!_e){d(!1);return}try{const{data:I,error:R}=await _e.from("archive_photos").select("*").order("display_order",{ascending:!0});if(R)throw R;c(I?I.map(Lm):[])}catch(I){console.error("Error fetching photos:",I),m(I instanceof Error?I.message:"Failed to fetch photos")}},[]);$.useEffect(()=>{(async()=>(d(!0),await Promise.all([y(),b()]),d(!1)))()},[y,b]),$.useEffect(()=>{if(!ct||!_e)return;const I=_e,R=I.channel("archive_folders_changes").on("postgres_changes",{event:"*",schema:"public",table:"archive_folders"},()=>y()).subscribe(),B=I.channel("archive_photos_changes").on("postgres_changes",{event:"*",schema:"public",table:"archive_photos"},()=>b()).subscribe();return()=>{I.removeChannel(R),I.removeChannel(B)}},[y,b]);const S=async I=>{if(!ct||!_e)throw new Error("Supabase not configured");try{const{data:R,error:B}=await _e.from("archive_folders").insert(Lb(I)).select().single();if(B)throw B;return Mm(R)}catch(R){throw console.error("Error adding folder:",R),R}},A=async(I,R)=>{if(!ct||!_e)throw new Error("Supabase not configured");try{const B={};R.name!==void 0&&(B.name=R.name),R.description!==void 0&&(B.description=R.description||null),R.category!==void 0&&(B.category=R.category),R.eventDate!==void 0&&(B.event_date=R.eventDate||null);const{error:P}=await _e.from("archive_folders").update(B).eq("id",I);if(P)throw P}catch(B){throw console.error("Error updating folder:",B),B}},O=async I=>{if(!ct||!_e)throw new Error("Supabase not configured");try{const R=r.filter(P=>P.folderId===I);for(const P of R)await k(P.url),P.thumbnailUrl&&await k(P.thumbnailUrl);const{error:B}=await _e.from("archive_folders").delete().eq("id",I);if(B)throw B}catch(R){throw console.error("Error deleting folder:",R),R}},x=async(I,R,B)=>{if(!ct||!_e)throw new Error("Supabase not configured");try{const P=Date.now(),de=R.name.split(".").pop(),Se=`${P}-${Math.random().toString(36).substring(7)}.${de}`,Ae=`${I}/${Se}`,{error:Ee}=await _e.storage.from(hi).upload(Ae,R,{cacheControl:"3600",upsert:!1});if(Ee)throw Ee;const{data:{publicUrl:ze}}=_e.storage.from(hi).getPublicUrl(Ae),Q=`${I}/thumb_${Se}`,fe=await H(R),{error:L}=await _e.storage.from(hi).upload(Q,fe,{cacheControl:"3600",upsert:!1});L&&console.warn("Thumbnail upload failed:",L);const{data:{publicUrl:J}}=_e.storage.from(hi).getPublicUrl(Q),{data:ne,error:pe}=await _e.from("archive_photos").insert({folder_id:I,title:B.title,description:B.description||null,photo_date:B.photoDate||null,url:ze,thumbnail_url:L?null:J,file_size:R.size,display_order:B.displayOrder}).select().single();if(pe)throw pe;return Lm(ne)}catch(P){throw console.error("Error uploading photo:",P),P}},N=async(I,R)=>{if(!ct||!_e)throw new Error("Supabase not configured");try{const B={};R.title!==void 0&&(B.title=R.title),R.description!==void 0&&(B.description=R.description||null),R.photoDate!==void 0&&(B.photo_date=R.photoDate||null),R.displayOrder!==void 0&&(B.display_order=R.displayOrder);const{error:P}=await _e.from("archive_photos").update(B).eq("id",I);if(P)throw P}catch(B){throw console.error("Error updating photo:",B),B}},z=async I=>{if(!ct||!_e)throw new Error("Supabase not configured");try{const R=r.find(P=>P.id===I);if(!R)throw new Error("Photo not found");await k(R.url),R.thumbnailUrl&&await k(R.thumbnailUrl);const{error:B}=await _e.from("archive_photos").delete().eq("id",I);if(B)throw B}catch(R){throw console.error("Error deleting photo:",R),R}},k=async I=>{if(_e)try{const R=I.split(`${hi}/`);if(R.length<2)return;const B=R[1].split("?")[0];await _e.storage.from(hi).remove([B])}catch(R){console.warn("Error deleting file from storage:",R)}},H=I=>new Promise((R,B)=>{const P=new FileReader;P.onload=de=>{const Se=new Image;Se.onload=()=>{const Ae=document.createElement("canvas"),Ee=Ae.getContext("2d");if(!Ee){B(new Error("Canvas context not available"));return}const ze=400;let Q=Se.width,fe=Se.height;Q>fe?Q>ze&&(fe=fe*ze/Q,Q=ze):fe>ze&&(Q=Q*ze/fe,fe=ze),Ae.width=Q,Ae.height=fe,Ee.drawImage(Se,0,0,Q,fe),Ae.toBlob(L=>{L?R(L):B(new Error("Failed to create thumbnail"))},"image/jpeg",.8)},Se.onerror=B,Se.src=de.target?.result},P.onerror=B,P.readAsDataURL(I)}),T=I=>r.filter(R=>R.folderId===I).sort((R,B)=>R.displayOrder-B.displayOrder),V=async()=>{d(!0),await Promise.all([y(),b()]),d(!1)};return v.jsx(rv.Provider,{value:{folders:n,photos:r,loading:h,error:g,addFolder:S,updateFolder:A,deleteFolder:O,uploadPhoto:x,updatePhoto:N,deletePhoto:z,getPhotosByFolder:T,refreshArchive:V},children:s})},ov=()=>{const s=$.useContext(rv);if(!s)throw new Error("useArchive must be used within an ArchiveProvider");return s},qb=()=>v.jsxs("div",{className:"about-window",children:[v.jsx("div",{className:"about-header",children:v.jsx("div",{className:"about-logo",children:v.jsx("img",{src:"/vm-logo.png",alt:"Vranov Music Logo",className:"about-logo-image"})})}),v.jsxs("div",{className:"about-content",children:[v.jsx("h1",{className:"about-title pixel-text",children:"VRANOV MUSIC"}),v.jsx("p",{className:"about-subtitle",children:"UNDERGROUND COLLECTIVE"}),v.jsx("p",{className:"about-tagline",children:"MIDDLE EUROPE CONTINENT"}),v.jsx("div",{className:"about-divider"}),v.jsx("p",{className:"about-description",children:"Vranov Music is an underground music collective from Slovakia, bringing raw energy and authentic sound from the heart of Middle Europe."}),v.jsxs("div",{className:"about-stats",children:[v.jsxs("div",{className:"stat",children:[v.jsx("span",{className:"stat-value text-green",children:"7"}),v.jsx("span",{className:"stat-label",children:"MEMBERS"})]}),v.jsxs("div",{className:"stat",children:[v.jsx("span",{className:"stat-value text-red",children:"2024"}),v.jsx("span",{className:"stat-label",children:"ESTABLISHED"})]}),v.jsxs("div",{className:"stat",children:[v.jsx("span",{className:"stat-value text-gold",children:"SK/CZ"}),v.jsx("span",{className:"stat-label",children:"BASED"})]})]}),v.jsx("div",{className:"about-silhouettes",children:v.jsx("img",{src:"/silhouettes.png",alt:"Vranov Music Collective",className:"silhouettes-image"})})]}),v.jsx("div",{className:"about-footer",children:v.jsx("span",{className:"mono-text",children:"info@vranovmusic.eu"})})]}),uv=[{id:"44lex",name:"44LEX",handle:"@44lex.exe",role:"Spitter",category:"spitters",bio:"",links:{instagram:"https://instagram.com/44lex.exe"}},{id:"sushiislime",name:"SUSHIISLIME",handle:"@sushiislime",role:"Spitter",category:"spitters",bio:"",links:{instagram:"https://instagram.com/sushiislime"}},{id:"vranovcrevo",name:"Pudge",handle:"@vranovcrevo",role:"Spitter",category:"spitters",bio:"",links:{instagram:"https://instagram.com/vranovcrevo"}},{id:"noeliiizi",name:"NOELIIIZI",handle:"@noeliiizi",role:"Producer",category:"producers",bio:"",links:{instagram:"https://instagram.com/noeliiizi"}},{id:"bohacdaniell",name:"BOHAC DANIELL",handle:"@bohacdaniell",role:"Producer",category:"producers",bio:"",links:{instagram:"https://instagram.com/bohacdaniell"}},{id:"smargiela7",name:"SMARGIELA7",handle:"@smargiela7",role:"Executive Producer",category:"crew",bio:"",links:{instagram:"https://instagram.com/smargiela7"}},{id:"danky_kubis",name:"DANKY KUBIS",handle:"@danky_kubis",role:"Executive Producer",category:"crew",bio:"",links:{instagram:"https://instagram.com/danky_kubis"}}],Hb=s=>uv.filter(n=>n.category===s),Gb=[{id:"spitters",label:"SPITTERS"},{id:"producers",label:"PRODUCERS"},{id:"crew",label:"CREW"}],$b=()=>{const[s,n]=$.useState("spitters"),[l,r]=$.useState(null),c=Hb(s);return v.jsxs("div",{className:"members-window",children:[v.jsx("div",{className:"members-tabs",children:Gb.map(h=>v.jsx("button",{className:`members-tab ${s===h.id?"active":""}`,onClick:()=>{n(h.id),r(null)},children:v.jsx("span",{className:"pixel-text",children:h.label})},h.id))}),v.jsx("div",{className:"members-grid",children:c.map(h=>v.jsxs("button",{className:`member-card ${l?.id===h.id?"selected":""}`,onClick:()=>r(l?.id===h.id?null:h),children:[v.jsxs("div",{className:"member-photo",children:[v.jsx("div",{className:"member-photo-placeholder",children:v.jsx("span",{children:h.name.charAt(0)})}),v.jsx("div",{className:"scanlines"})]}),v.jsxs("div",{className:"member-info",children:[v.jsx("span",{className:"member-name pixel-text",children:h.name}),v.jsx("span",{className:"member-role",children:h.role})]})]},h.id))}),l&&v.jsxs("div",{className:"member-detail",children:[v.jsxs("div",{className:"detail-header",children:[v.jsx("span",{className:"detail-name pixel-text",children:l.name}),v.jsx("span",{className:"detail-handle text-green",children:l.handle})]}),v.jsx("p",{className:"detail-bio",children:l.bio}),l.links?.instagram&&v.jsx("a",{href:l.links.instagram,target:"_blank",rel:"noopener noreferrer",className:"detail-link btn-98",children:" Instagram"})]}),v.jsx("div",{className:"members-status",children:v.jsxs("span",{children:[uv.length," artists loaded"]})})]})},Vb=s=>{const n=new Date(s);return{day:n.getDate().toString().padStart(2,"0"),month:n.toLocaleString("en",{month:"short"}).toUpperCase(),year:n.getFullYear(),full:n.toLocaleDateString("sk-SK")}},Yb=()=>{const[s,n]=$.useState(!1),{shows:l,loading:r,getUpcomingShows:c,getPastShows:h}=lv(),d=c(),g=h(),m=s?g:d;return v.jsxs("div",{className:"shows-window",children:[v.jsxs("div",{className:"shows-header",children:[v.jsx("h2",{className:"pixel-text",children:s?" PAST SHOWS":" UPCOMING SHOWS"}),v.jsx("button",{className:"btn-98",onClick:()=>n(!s),children:s?"Show Upcoming":"Show Past"})]}),v.jsx("div",{className:"shows-list",children:r?v.jsx("div",{className:"shows-empty",children:v.jsx("span",{className:"pixel-text text-gray",children:" Loading shows..."})}):m.length===0?v.jsx("div",{className:"shows-empty",children:v.jsx("span",{className:"pixel-text text-gray",children:s?"No past shows recorded.":"No upcoming shows scheduled."})}):m.map(y=>{const b=Vb(y.date);return v.jsxs("div",{className:"show-item",children:[v.jsxs("div",{className:"show-date",children:[v.jsx("span",{className:"show-date-day pixel-text",children:b.day}),v.jsx("span",{className:"show-date-month",children:b.month}),v.jsx("span",{className:"show-date-year",children:b.year})]}),v.jsxs("div",{className:"show-info",children:[v.jsx("span",{className:"show-venue pixel-text",children:y.venue}),v.jsxs("span",{className:"show-location",children:[" ",y.city,", ",y.country]})]}),y.ticketUrl&&!y.isPast&&v.jsx("a",{href:y.ticketUrl,target:"_blank",rel:"noopener noreferrer",className:"show-ticket btn-98 btn-98-primary",children:"GET TICKETS"}),y.isPast&&v.jsx("span",{className:"show-past-badge",children:"PAST"})]},y.id)})}),v.jsx("div",{className:"shows-status",children:v.jsxs("span",{children:[l.length," events total"]})})]})},Kb=()=>{const{folders:s,getPhotosByFolder:n,loading:l}=ov(),[r,c]=$.useState("photos"),[h,d]=$.useState(null),[g,m]=$.useState(null),y=s.filter(T=>T.category===r),b=s.find(T=>T.id===h),S=h?n(h):[],A=T=>{d(T)},O=()=>{d(null)},x=T=>{m(T)},N=()=>{m(null)},z=()=>{g!==null&&g>0&&m(g-1)},k=()=>{g!==null&&g<S.length-1&&m(g+1)};if(Ly.useEffect(()=>{const T=V=>{if(g!==null)switch(V.key){case"Escape":N();break;case"ArrowLeft":z();break;case"ArrowRight":k();break}};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[g,S.length]),!h)return v.jsxs("div",{className:"archive-window",children:[v.jsxs("div",{className:"archive-folders",children:[v.jsx("button",{className:`folder-btn ${r==="photos"?"active":""}`,onClick:()=>c("photos"),children:" PHOTOS"}),v.jsx("button",{className:`folder-btn ${r==="videos"?"active":""}`,onClick:()=>c("videos"),children:" VIDEOS"}),v.jsx("button",{className:`folder-btn ${r==="flyers"?"active":""}`,onClick:()=>c("flyers"),children:" FLYERS"})]}),v.jsxs("div",{className:"archive-address",children:[v.jsx("span",{className:"address-label",children:"Address:"}),v.jsxs("div",{className:"address-input",children:["C:\\\\VRANOV\\\\ARCHIVE\\\\",r.toUpperCase(),"\\\\"]})]}),v.jsx("div",{className:"archive-grid",children:l?v.jsx("div",{className:"archive-empty",children:v.jsx("span",{className:"pixel-text text-gray",children:" Loading..."})}):y.length===0?v.jsx("div",{className:"archive-empty",children:v.jsx("span",{className:"pixel-text text-gray",children:"No folders yet."})}):y.map(T=>{const V=n(T.id).length,I=n(T.id)[0];return v.jsxs("button",{className:"archive-item",onClick:()=>A(T.id),children:[v.jsx("div",{className:"archive-item-preview",children:I?.thumbnailUrl?v.jsx("img",{src:I.thumbnailUrl,alt:T.name}):v.jsxs("div",{className:"archive-item-icon",children:[T.category==="photos"&&"",T.category==="videos"&&"",T.category==="flyers"&&""]})}),v.jsx("span",{className:"archive-item-title",children:T.name}),v.jsxs("span",{className:"archive-item-count",children:[V," items"]})]},T.id)})}),v.jsx("div",{className:"archive-status",children:v.jsxs("span",{children:[y.length," folders"]})})]});const H=g!==null?S[g]:null;return v.jsxs("div",{className:"archive-window",children:[v.jsxs("div",{className:"archive-folders",children:[v.jsx("button",{className:"folder-btn",onClick:O,children:" BACK"}),v.jsxs("span",{className:"archive-breadcrumb",children:[r.toUpperCase()," / ",b?.name]})]}),v.jsxs("div",{className:"archive-address",children:[v.jsx("span",{className:"address-label",children:"Address:"}),v.jsxs("div",{className:"address-input",children:["C:\\\\VRANOV\\\\ARCHIVE\\\\",r.toUpperCase(),"\\\\",b?.name,"\\\\"]})]}),v.jsx("div",{className:"archive-gallery",children:l?v.jsx("div",{className:"archive-empty",children:v.jsx("span",{className:"pixel-text text-gray",children:" Loading..."})}):S.length===0?v.jsx("div",{className:"archive-empty",children:v.jsx("span",{className:"pixel-text text-gray",children:"No photos in this folder."})}):S.map((T,V)=>v.jsxs("div",{className:"gallery-item",onClick:()=>x(V),children:[v.jsx("img",{src:T.thumbnailUrl||T.url,alt:T.title,className:"gallery-image"}),v.jsx("div",{className:"gallery-item-overlay",children:v.jsx("span",{children:T.title})})]},T.id))}),v.jsx("div",{className:"archive-status",children:v.jsxs("span",{children:[S.length," photos"]})}),H&&g!==null&&v.jsx("div",{className:"lightbox",onClick:N,children:v.jsxs("div",{className:"lightbox-content",onClick:T=>T.stopPropagation(),children:[v.jsx("button",{className:"lightbox-close",onClick:N,children:""}),v.jsxs("div",{className:"lightbox-image-container",children:[g>0&&v.jsx("button",{className:"lightbox-nav lightbox-prev",onClick:z,children:""}),v.jsx("img",{src:H.url,alt:H.title,className:"lightbox-image"}),g<S.length-1&&v.jsx("button",{className:"lightbox-nav lightbox-next",onClick:k,children:""})]}),v.jsxs("div",{className:"lightbox-info",children:[v.jsx("h3",{className:"pixel-text",children:H.title}),H.description&&v.jsx("p",{className:"lightbox-description",children:H.description}),H.photoDate&&v.jsxs("p",{className:"lightbox-date",children:[" ",new Date(H.photoDate).toLocaleDateString()]}),v.jsxs("p",{className:"lightbox-counter",children:[g+1," / ",S.length]})]})]})})]})},Bm=[{id:"44lex",name:"44LEX",spotify:"https://open.spotify.com/artist/5iZTYBhlfr88ZIwTYCZgdb",appleMusic:"https://music.apple.com/sk/artist/44lex/1652573906"},{id:"sushislime",name:"SUSHISLIME",spotify:"https://open.spotify.com/artist/6gzOCUTX3igvLapUbJinDh",appleMusic:"https://music.apple.com/sk/artist/sushislime/1738278360"},{id:"pudge",name:"PUDGE",spotify:"https://open.spotify.com/artist/5hA4e3qNO5vbDnG0t6okYM",appleMusic:"https://music.apple.com/sk/artist/pudge/1471355405"}],Ib=()=>{const[s,n]=$.useState(Bm[0]),l=()=>{window.dispatchEvent(new CustomEvent("openPlayerWindow"))};return v.jsxs("div",{className:"music-window",children:[v.jsxs("div",{className:"music-player",children:[v.jsxs("div",{className:"player-display",children:[v.jsx("div",{className:"player-visualizer",children:[...Array(16)].map((r,c)=>v.jsx("div",{className:"visualizer-bar",style:{height:`${Math.random()*100}%`,animationDelay:`${c*.05}s`}},c))}),v.jsxs("div",{className:"player-info",children:[v.jsx("span",{className:"player-title pixel-text",children:"VRANOV MUSIC"}),v.jsx("span",{className:"player-subtitle text-gray",children:"Native Player"})]})]}),v.jsxs("div",{className:"player-launch",children:[v.jsx("button",{className:"launch-player-btn btn-98 btn-98-primary",onClick:l,children:" LAUNCH PLAYER"}),v.jsx("span",{className:"launch-hint text-gray",children:"Open WinAMP-style player"})]})]}),v.jsxs("div",{className:"artist-section",children:[v.jsx("h3",{className:"section-title pixel-text",children:" SELECT ARTIST"}),v.jsx("div",{className:"artist-tabs",children:Bm.map(r=>v.jsx("button",{className:`artist-tab ${s.id===r.id?"active":""}`,onClick:()=>n(r),children:v.jsx("span",{className:"pixel-text",children:r.name})},r.id))})]}),v.jsxs("div",{className:"streaming-section",children:[v.jsxs("h3",{className:"section-title pixel-text",children:[" LISTEN TO ",s.name]}),v.jsxs("div",{className:"streaming-grid",children:[v.jsxs("a",{href:s.spotify,target:"_blank",rel:"noopener noreferrer",className:"streaming-btn spotify",children:[v.jsx("span",{className:"streaming-icon",children:""}),v.jsx("span",{className:"streaming-name",children:"Spotify"})]}),v.jsxs("a",{href:s.appleMusic,target:"_blank",rel:"noopener noreferrer",className:"streaming-btn apple",children:[v.jsx("span",{className:"streaming-icon",children:""}),v.jsx("span",{className:"streaming-name",children:"Apple Music"})]})]})]}),v.jsx("div",{className:"music-status",children:v.jsxs("span",{children:["Listening to ",s.name]})})]})},Xb=()=>{const[s,n]=$.useState({name:"",email:"",message:""}),[l,r]=$.useState(!1),c=h=>{h.preventDefault(),r(!0),setTimeout(()=>r(!1),3e3),n({name:"",email:"",message:""})};return v.jsxs("div",{className:"connect-window",children:[v.jsxs("div",{className:"socials-section",children:[v.jsx("h3",{className:"section-title pixel-text",children:" SOCIALS"}),v.jsx("div",{className:"socials-grid",children:Hm.map(h=>v.jsxs("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",className:"social-btn",children:[v.jsx("span",{className:"social-icon",children:h.icon}),v.jsx("span",{className:"social-name",children:h.name})]},h.name))})]}),v.jsxs("div",{className:"booking-section",children:[v.jsx("h3",{className:"section-title pixel-text",children:" BOOKING"}),v.jsxs("div",{className:"booking-card",children:[v.jsx("p",{children:"For booking inquiries, collabs, and business:"}),v.jsx("a",{href:`mailto:${hm}`,className:"booking-email text-green",children:hm})]})]}),v.jsxs("div",{className:"contact-section",children:[v.jsx("h3",{className:"section-title pixel-text",children:" DROP A MESSAGE"}),v.jsxs("form",{className:"contact-form",onSubmit:c,children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Name:"}),v.jsx("input",{type:"text",className:"input-98",value:s.name,onChange:h=>n({...s,name:h.target.value}),required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Email:"}),v.jsx("input",{type:"email",className:"input-98",value:s.email,onChange:h=>n({...s,email:h.target.value}),required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Message:"}),v.jsx("textarea",{className:"input-98",rows:3,value:s.message,onChange:h=>n({...s,message:h.target.value}),required:!0})]}),v.jsxs("div",{className:"form-actions",children:[v.jsx("button",{type:"submit",className:"btn-98 btn-98-primary",children:"SEND"}),l&&v.jsx("span",{className:"form-success text-green",children:" Message sent!"})]})]})]}),v.jsx("div",{className:"connect-status",children:v.jsx("span",{children:"Online  Middle Europe Continent"})})]})},Ru={name:"",description:"",category:"photos",eventDate:""},Qb=()=>{const{folders:s,loading:n,error:l,addFolder:r,updateFolder:c,deleteFolder:h,uploadPhoto:d,deletePhoto:g,getPhotosByFolder:m,refreshArchive:y}=ov(),[b,S]=$.useState(null),[A,O]=$.useState(!1),[x,N]=$.useState(null),[z,k]=$.useState(Ru),[H,T]=$.useState(""),[V,I]=$.useState(!1),[R,B]=$.useState(!1),[P,de]=$.useState({}),[Se,Ae]=$.useState(!1),Ee=(X,ae)=>{k(oe=>({...oe,[X]:ae})),T("")},ze=()=>z.name.trim()?!0:(T("Folder name is required"),!1),Q=async X=>{if(X.preventDefault(),!!ze()){I(!0);try{if(x)await c(x,{name:z.name.trim(),description:z.description.trim()||void 0,category:z.category,eventDate:z.eventDate||void 0});else{const ae=await r({name:z.name.trim(),description:z.description.trim()||void 0,category:z.category,eventDate:z.eventDate||void 0});S(ae.id)}k(Ru),N(null),O(!1)}catch(ae){T(ae instanceof Error?ae.message:"Failed to save folder")}finally{I(!1)}}},fe=X=>{N(X.id),k({name:X.name,description:X.description||"",category:X.category,eventDate:X.eventDate||""}),O(!0)},L=async X=>{const ae=s.find(we=>we.id===X),oe=m(X).length,qe=oe>0?`Delete "${ae?.name}"? This will also delete ${oe} photo(s).`:`Delete "${ae?.name}"?`;if(window.confirm(qe))try{await h(X),b===X&&S(null)}catch(we){alert(we instanceof Error?we.message:"Failed to delete folder")}},J=()=>{k(Ru),N(null),O(!1),T("")},ne=async X=>{if(!X||!b)return;B(!0);const ae=Array.from(X);try{for(let oe=0;oe<ae.length;oe++){const qe=ae[oe],we=qe.name;de(ba=>({...ba,[we]:0}));const Xa={title:qe.name.replace(/\.[^/.]+$/,""),description:void 0,photoDate:void 0,displayOrder:m(b).length+oe};await d(b,qe,Xa),de(ba=>({...ba,[we]:100}))}setTimeout(()=>{de({})},2e3)}catch(oe){alert(oe instanceof Error?oe.message:"Failed to upload photo")}finally{B(!1)}},pe=X=>{X.preventDefault(),Ae(!1),ne(X.dataTransfer.files)},Oe=X=>{X.preventDefault(),Ae(!0)},w=()=>{Ae(!1)},Y=async X=>{if(window.confirm("Delete this photo?"))try{await g(X)}catch(ae){alert(ae instanceof Error?ae.message:"Failed to delete photo")}},Z=s.find(X=>X.id===b),W=b?m(b):[];return v.jsxs("div",{className:"archive-manager",children:[v.jsxs("div",{className:"archive-manager-header",children:[v.jsx("h3",{className:"pixel-text",children:" ARCHIVE MANAGER"}),v.jsxs("div",{className:"archive-header-actions",children:[v.jsx("button",{className:"btn-98 btn-98-primary",onClick:()=>O(!A),disabled:n,children:" New Folder"}),v.jsxs("button",{className:"btn-98",onClick:y,disabled:n,children:[n?"":""," Refresh"]})]})]}),l&&v.jsxs("div",{className:"admin-alert admin-alert-error",children:[" ",l]}),A&&v.jsxs("div",{className:"folder-form-container",children:[v.jsx("h4",{className:"pixel-text",children:x?" EDIT FOLDER":" CREATE FOLDER"}),v.jsxs("form",{onSubmit:Q,className:"admin-form",children:[v.jsxs("div",{className:"admin-form-row",children:[v.jsxs("div",{className:"admin-form-group",children:[v.jsx("label",{children:"Folder Name *"}),v.jsx("input",{type:"text",value:z.name,onChange:X=>Ee("name",X.target.value),placeholder:"e.g., Summer Tour 2025",className:"admin-input",autoFocus:!0})]}),v.jsxs("div",{className:"admin-form-group",children:[v.jsx("label",{children:"Category *"}),v.jsxs("select",{value:z.category,onChange:X=>Ee("category",X.target.value),className:"admin-input",children:[v.jsx("option",{value:"photos",children:" Photos"}),v.jsx("option",{value:"videos",children:" Videos"}),v.jsx("option",{value:"flyers",children:" Flyers"})]})]}),v.jsxs("div",{className:"admin-form-group",children:[v.jsx("label",{children:"Event Date"}),v.jsx("input",{type:"date",value:z.eventDate,onChange:X=>Ee("eventDate",X.target.value),className:"admin-input"})]})]}),v.jsx("div",{className:"admin-form-row",children:v.jsxs("div",{className:"admin-form-group admin-form-group-full",children:[v.jsx("label",{children:"Description"}),v.jsx("textarea",{value:z.description,onChange:X=>Ee("description",X.target.value),placeholder:"Optional description...",className:"admin-input admin-textarea",rows:2})]})}),H&&v.jsx("span",{className:"admin-error",children:H}),v.jsxs("div",{className:"admin-form-actions",children:[v.jsx("button",{type:"submit",className:"btn-98 btn-98-primary",disabled:V,children:V?" Saving...":x?" Update":" Create"}),v.jsx("button",{type:"button",className:"btn-98",onClick:J,children:" Cancel"})]})]})]}),v.jsxs("div",{className:"folders-section",children:[v.jsxs("h4",{className:"pixel-text",children:[" FOLDERS (",s.length,")"]}),n?v.jsx("div",{className:"archive-loading",children:"Loading..."}):s.length===0?v.jsx("div",{className:"archive-empty",children:"No folders yet. Create your first folder above!"}):v.jsx("div",{className:"folders-grid",children:s.map(X=>{const ae=m(X.id).length,qe=m(X.id)[0];return v.jsxs("div",{className:`folder-card ${b===X.id?"selected":""}`,onClick:()=>S(X.id),children:[v.jsx("div",{className:"folder-preview",children:qe?.thumbnailUrl?v.jsx("img",{src:qe.thumbnailUrl,alt:X.name}):v.jsxs("div",{className:"folder-icon",children:[X.category==="photos"&&"",X.category==="videos"&&"",X.category==="flyers"&&""]})}),v.jsxs("div",{className:"folder-info",children:[v.jsx("span",{className:"folder-name",children:X.name}),v.jsxs("span",{className:"folder-meta",children:[ae," items"]})]}),v.jsxs("div",{className:"folder-actions",children:[v.jsx("button",{className:"btn-98 btn-sm",onClick:we=>{we.stopPropagation(),fe(X)},children:""}),v.jsx("button",{className:"btn-98 btn-sm btn-danger",onClick:we=>{we.stopPropagation(),L(X.id)},children:""})]})]},X.id)})})]}),b&&v.jsxs("div",{className:"photos-section",children:[v.jsx("div",{className:"photos-header",children:v.jsxs("h4",{className:"pixel-text",children:[" ",Z?.name," (",W.length," photos)"]})}),v.jsx("div",{className:`photo-dropzone ${Se?"drag-over":""} ${R?"uploading":""}`,onDrop:pe,onDragOver:Oe,onDragLeave:w,children:R?v.jsxs("div",{className:"upload-progress",children:[v.jsx("span",{className:"pixel-text",children:" Uploading..."}),Object.entries(P).map(([X,ae])=>v.jsxs("div",{className:"progress-item",children:[v.jsx("span",{children:X}),v.jsx("div",{className:"progress-bar",children:v.jsx("div",{className:"progress-fill",style:{width:`${ae}%`}})})]},X))]}):v.jsxs(v.Fragment,{children:[v.jsx("input",{type:"file",id:"photo-upload",multiple:!0,accept:"image/*",onChange:X=>ne(X.target.files),style:{display:"none"}}),v.jsxs("label",{htmlFor:"photo-upload",className:"dropzone-label",children:[v.jsx("div",{className:"dropzone-icon",children:""}),v.jsxs("div",{className:"dropzone-text",children:[v.jsx("span",{className:"pixel-text",children:"Drag & Drop Photos"}),v.jsx("span",{className:"dropzone-subtext",children:"or click to browse"})]})]})]})}),W.length>0&&v.jsx("div",{className:"photos-grid",children:W.map(X=>v.jsxs("div",{className:"photo-card",children:[v.jsx("div",{className:"photo-preview",children:v.jsx("img",{src:X.thumbnailUrl||X.url,alt:X.title})}),v.jsxs("div",{className:"photo-info",children:[v.jsx("span",{className:"photo-title",children:X.title}),X.photoDate&&v.jsx("span",{className:"photo-date",children:new Date(X.photoDate).toLocaleDateString()})]}),v.jsx("div",{className:"photo-actions",children:v.jsx("button",{className:"btn-98 btn-sm btn-danger",onClick:()=>Y(X.id),children:""})})]},X.id))})]}),!b&&!A&&s.length>0&&v.jsx("div",{className:"archive-placeholder",children:v.jsx("span",{className:"pixel-text text-gray",children:" Select a folder to manage photos"})})]})},Jb="Vranov2026",Cu={date:"",time:"",venue:"",city:"",country:"SK",ticketUrl:"",flyerImage:"",description:"",isPast:!1},Zb=()=>{const{shows:s,loading:n,error:l,addShow:r,updateShow:c,deleteShow:h,refreshShows:d}=lv(),[g,m]=$.useState(!1),[y,b]=$.useState(""),[S,A]=$.useState(""),[O,x]=$.useState("shows"),[N,z]=$.useState(null),[k,H]=$.useState(Cu),[T,V]=$.useState(""),[I,R]=$.useState(!1),B=Q=>{Q.preventDefault(),y===Jb?(m(!0),A("")):A(" Incorrect password")},P=(Q,fe)=>{H(L=>({...L,[Q]:fe})),V("")},de=()=>k.date?k.venue.trim()?k.city.trim()?k.country.trim()?!0:(V("Country is required"),!1):(V("City is required"),!1):(V("Venue is required"),!1):(V("Date is required"),!1),Se=async Q=>{if(Q.preventDefault(),!!de()){R(!0);try{const fe={date:k.date,time:k.time||void 0,venue:k.venue.trim().toUpperCase(),city:k.city.trim(),country:k.country.trim().toUpperCase(),ticketUrl:k.ticketUrl.trim()||void 0,flyerImage:k.flyerImage.trim()||void 0,description:k.description.trim()||void 0,isPast:k.isPast};N?await c(N,fe):await r(fe),H(Cu),z(null)}catch(fe){V(fe instanceof Error?fe.message:"Failed to save show")}finally{R(!1)}}},Ae=Q=>{z(Q.id),H({date:Q.date,time:Q.time||"",venue:Q.venue,city:Q.city,country:Q.country,ticketUrl:Q.ticketUrl||"",flyerImage:Q.flyerImage||"",description:Q.description||"",isPast:Q.isPast||!1})},Ee=async Q=>{if(window.confirm("Are you sure you want to delete this show?"))try{await h(Q)}catch(fe){alert(fe instanceof Error?fe.message:"Failed to delete show")}},ze=()=>{H(Cu),z(null),V("")};return g?v.jsxs("div",{className:"admin-window",children:[v.jsxs("div",{className:"admin-header",children:[v.jsxs("div",{className:"admin-tabs",children:[v.jsx("button",{className:`admin-tab ${O==="shows"?"active":""}`,onClick:()=>x("shows"),children:" SHOWS"}),v.jsx("button",{className:`admin-tab ${O==="archive"?"active":""}`,onClick:()=>x("archive"),children:" ARCHIVE"})]}),v.jsxs("div",{className:"admin-header-actions",children:[v.jsxs("button",{className:"btn-98",onClick:d,disabled:n,children:[n?"":""," Refresh"]}),v.jsx("button",{className:"btn-98",onClick:()=>m(!1),children:" Logout"})]})]}),l&&v.jsxs("div",{className:"admin-alert admin-alert-error",children:[" ",l]}),O==="shows"?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"admin-form-container",children:[v.jsx("h3",{className:"pixel-text",children:N?" EDIT SHOW":" ADD NEW SHOW"}),v.jsxs("form",{onSubmit:Se,className:"admin-form",children:[v.jsxs("div",{className:"admin-form-row",children:[v.jsxs("div",{className:"admin-form-group",children:[v.jsx("label",{children:"Date *"}),v.jsx("input",{type:"date",value:k.date,onChange:Q=>P("date",Q.target.value),className:"admin-input"})]}),v.jsxs("div",{className:"admin-form-group",children:[v.jsx("label",{children:"Time"}),v.jsx("input",{type:"time",value:k.time,onChange:Q=>P("time",Q.target.value),className:"admin-input"})]}),v.jsx("div",{className:"admin-form-group admin-form-group-checkbox",children:v.jsxs("label",{children:[v.jsx("input",{type:"checkbox",checked:k.isPast,onChange:Q=>P("isPast",Q.target.checked)}),"Past Event"]})})]}),v.jsxs("div",{className:"admin-form-row",children:[v.jsxs("div",{className:"admin-form-group admin-form-group-venue",children:[v.jsx("label",{children:"Venue *"}),v.jsx("input",{type:"text",value:k.venue,onChange:Q=>P("venue",Q.target.value),placeholder:"e.g., FUGA",className:"admin-input"})]}),v.jsxs("div",{className:"admin-form-group",children:[v.jsx("label",{children:"City *"}),v.jsx("input",{type:"text",value:k.city,onChange:Q=>P("city",Q.target.value),placeholder:"e.g., Bratislava",className:"admin-input"})]}),v.jsxs("div",{className:"admin-form-group admin-form-group-country",children:[v.jsx("label",{children:"Country *"}),v.jsx("input",{type:"text",value:k.country,onChange:Q=>P("country",Q.target.value),placeholder:"SK",className:"admin-input",maxLength:3})]})]}),v.jsx("div",{className:"admin-form-row",children:v.jsxs("div",{className:"admin-form-group admin-form-group-full",children:[v.jsx("label",{children:"Ticket URL (GoOut, TooToot, etc.)"}),v.jsx("input",{type:"url",value:k.ticketUrl,onChange:Q=>P("ticketUrl",Q.target.value),placeholder:"https://goout.net/sk/...",className:"admin-input"})]})}),v.jsx("div",{className:"admin-form-row",children:v.jsxs("div",{className:"admin-form-group admin-form-group-full",children:[v.jsx("label",{children:"Description"}),v.jsx("textarea",{value:k.description,onChange:Q=>P("description",Q.target.value),placeholder:"Optional notes about the show...",className:"admin-input admin-textarea",rows:2})]})}),T&&v.jsx("span",{className:"admin-error",children:T}),v.jsxs("div",{className:"admin-form-actions",children:[v.jsx("button",{type:"submit",className:"btn-98 btn-98-primary",disabled:I,children:I?" Saving...":N?" Update":" Add Show"}),N&&v.jsx("button",{type:"button",className:"btn-98",onClick:ze,children:" Cancel"})]})]})]}),v.jsxs("div",{className:"admin-shows-list",children:[v.jsxs("h3",{className:"pixel-text",children:[" ALL SHOWS (",s.length,")"]}),n?v.jsx("div",{className:"admin-loading",children:"Loading..."}):s.length===0?v.jsx("div",{className:"admin-empty",children:"No shows yet. Add your first show above!"}):v.jsxs("table",{className:"admin-table",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Date"}),v.jsx("th",{children:"Venue"}),v.jsx("th",{children:"Location"}),v.jsx("th",{children:"Tickets"}),v.jsx("th",{children:"Status"}),v.jsx("th",{children:"Actions"})]})}),v.jsx("tbody",{children:s.sort((Q,fe)=>new Date(fe.date).getTime()-new Date(Q.date).getTime()).map(Q=>v.jsxs("tr",{className:Q.isPast?"row-past":"",children:[v.jsxs("td",{children:[new Date(Q.date).toLocaleDateString("sk-SK"),Q.time&&v.jsxs("span",{className:"show-time",children:[" ",Q.time]})]}),v.jsx("td",{className:"venue-cell",children:Q.venue}),v.jsxs("td",{children:[Q.city,", ",Q.country]}),v.jsx("td",{children:Q.ticketUrl&&Q.ticketUrl!=="#"?v.jsx("a",{href:Q.ticketUrl,target:"_blank",rel:"noopener noreferrer",className:"ticket-link",children:" Link"}):v.jsx("span",{className:"no-tickets",children:""})}),v.jsx("td",{children:v.jsx("span",{className:`status-badge ${Q.isPast?"status-past":"status-upcoming"}`,children:Q.isPast?"PAST":"UPCOMING"})}),v.jsxs("td",{className:"actions-cell",children:[v.jsx("button",{className:"btn-98 btn-sm",onClick:()=>Ae(Q),children:""}),v.jsx("button",{className:"btn-98 btn-sm btn-danger",onClick:()=>Ee(Q.id),children:""})]})]},Q.id))})]})]})]}):v.jsx(Qb,{})]}):v.jsx("div",{className:"admin-window",children:v.jsxs("div",{className:"admin-login",children:[v.jsx("div",{className:"admin-login-icon",children:""}),v.jsx("h2",{className:"pixel-text",children:"ADMIN ACCESS"}),v.jsxs("form",{onSubmit:B,className:"admin-login-form",children:[v.jsx("input",{type:"password",value:y,onChange:Q=>b(Q.target.value),placeholder:"Enter password...",className:"admin-input",autoFocus:!0}),v.jsx("button",{type:"submit",className:"btn-98 btn-98-primary",children:"LOGIN"})]}),S&&v.jsx("span",{className:"admin-error",children:S})]})})},bn=20,Ge=20,Iu=200,Pb={note:1,cd:2,cassette:3,instrument:5},Wb={note:"",cd:"",cassette:"",instrument:""},Du=s=>{let n,l=!1;for(;!l;)n={x:Math.floor(Math.random()*bn),y:Math.floor(Math.random()*bn)},l=!s.some(r=>r.x===n.x&&r.y===n.y);return n},ku=()=>{const s=Math.random();return s<.05?"instrument":s<.2?"cassette":s<.45?"cd":"note"},Fb=s=>s>=100?50:s>=50?75:s>=25?100:s>=10?150:Iu,e_=s=>s>=100?5:s>=50?4:s>=25?3:s>=10?2:1,t_=()=>{const s=[{x:10,y:10},{x:9,y:10},{x:8,y:10}],[n,l]=$.useState(()=>({snake:s,direction:"RIGHT",nextDirection:"RIGHT",food:Du(s),foodType:ku(),score:0,highScore:parseInt(localStorage.getItem("vranov_vinyl_snake_high_score")||"0"),level:1,isPaused:!1,isGameOver:!1,speed:Iu})),r=$.useRef(0),c=$.useCallback(()=>{const g=[{x:10,y:10},{x:9,y:10},{x:8,y:10}];l(m=>({snake:g,direction:"RIGHT",nextDirection:"RIGHT",food:Du(g),foodType:ku(),score:0,highScore:m.highScore,level:1,isPaused:!1,isGameOver:!1,speed:Iu}))},[]),h=$.useCallback(()=>{l(g=>{if(g.isPaused||g.isGameOver)return g;const m=[...g.snake],y={...m[0]},b=g.nextDirection;switch(b){case"UP":y.y-=1;break;case"DOWN":y.y+=1;break;case"LEFT":y.x-=1;break;case"RIGHT":y.x+=1;break}if(y.x<0||y.x>=bn||y.y<0||y.y>=bn)return{...g,isGameOver:!0};if(m.some(S=>S.x===y.x&&S.y===y.y))return{...g,isGameOver:!0};if(m.unshift(y),y.x===g.food.x&&y.y===g.food.y){const S=Pb[g.foodType],A=g.score+S,O=Fb(A),x=e_(A),N=Math.max(A,g.highScore);return A>g.highScore&&localStorage.setItem("vranov_vinyl_snake_high_score",A.toString()),{...g,snake:m,direction:b,food:Du(m),foodType:ku(),score:A,highScore:N,level:x,speed:O}}else return m.pop(),{...g,snake:m,direction:b}})},[]);$.useEffect(()=>{if(n.isGameOver||n.isPaused){r.current&&cancelAnimationFrame(r.current);return}let g=Date.now();const m=()=>{const y=Date.now();y-g>=n.speed&&(h(),g=y),r.current=requestAnimationFrame(m)};return r.current=requestAnimationFrame(m),()=>{r.current&&cancelAnimationFrame(r.current)}},[n.speed,n.isGameOver,n.isPaused,h]);const d=$.useCallback(g=>{l(m=>{if(m.isPaused||m.isGameOver)return m;const y=m.direction;return g==="UP"&&y==="DOWN"||g==="DOWN"&&y==="UP"||g==="LEFT"&&y==="RIGHT"||g==="RIGHT"&&y==="LEFT"?m:{...m,nextDirection:g}})},[]);return $.useEffect(()=>{const g=m=>{if(n.isGameOver){(m.key==="r"||m.key==="R")&&c();return}if(m.key===" "){m.preventDefault(),l(y=>({...y,isPaused:!y.isPaused}));return}switch(m.key){case"ArrowUp":m.preventDefault(),d("UP");break;case"ArrowDown":m.preventDefault(),d("DOWN");break;case"ArrowLeft":m.preventDefault(),d("LEFT");break;case"ArrowRight":m.preventDefault(),d("RIGHT");break}};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[n.isGameOver,c,d]),v.jsxs("div",{className:"game-window",children:[v.jsxs("div",{className:"game-score-bar",children:[v.jsxs("span",{className:"score-item",children:["Score: ",n.score]}),v.jsxs("span",{className:"score-item",children:["High: ",n.highScore]}),v.jsxs("span",{className:"score-item",children:["Level: ",n.level]})]}),v.jsxs("div",{className:"game-canvas-container",children:[v.jsx("canvas",{className:"game-canvas",width:bn*Ge,height:bn*Ge,ref:g=>{if(!g)return;const m=g.getContext("2d");if(m){m.fillStyle="#000",m.fillRect(0,0,g.width,g.height),m.strokeStyle="#111",m.lineWidth=1;for(let y=0;y<=bn;y++)m.beginPath(),m.moveTo(y*Ge,0),m.lineTo(y*Ge,g.height),m.stroke(),m.beginPath(),m.moveTo(0,y*Ge),m.lineTo(g.width,y*Ge),m.stroke();n.snake.forEach((y,b)=>{b===0?(m.fillStyle="#ff0000",m.beginPath(),m.arc(y.x*Ge+Ge/2,y.y*Ge+Ge/2,Ge/2-2,0,Math.PI*2),m.fill(),m.fillStyle="#000",m.beginPath(),m.arc(y.x*Ge+Ge/2,y.y*Ge+Ge/2,3,0,Math.PI*2),m.fill()):(m.fillStyle="#cc0000",m.fillRect(y.x*Ge+2,y.y*Ge+2,Ge-4,Ge-4))}),m.font=`${Ge-4}px Arial`,m.textAlign="center",m.textBaseline="middle",m.fillText(Wb[n.foodType],n.food.x*Ge+Ge/2,n.food.y*Ge+Ge/2)}}}),n.isPaused&&!n.isGameOver&&v.jsx("div",{className:"game-overlay",children:v.jsxs("div",{className:"game-overlay-content",children:[v.jsx("h2",{className:"pixel-text",children:" PAUSED"}),v.jsx("p",{children:"Press SPACE to resume"})]})}),n.isGameOver&&v.jsx("div",{className:"game-overlay",children:v.jsxs("div",{className:"game-overlay-content",children:[v.jsx("h2",{className:"pixel-text",children:" GAME OVER!"}),v.jsxs("p",{className:"game-over-score",children:["Your Score: ",n.score]}),v.jsxs("p",{className:"game-over-high",children:["High Score: ",n.highScore]}),n.score===n.highScore&&n.score>0&&v.jsx("p",{className:"game-over-new-high",children:" NEW HIGH SCORE! "}),v.jsx("button",{className:"btn-98 btn-98-primary",onClick:c,children:"Press R to Restart"})]})})]}),v.jsxs("div",{className:"game-controls-bar",children:[v.jsx("span",{children:"    Move"}),v.jsx("span",{children:"SPACE Pause"}),v.jsx("span",{children:"R Restart"})]}),v.jsxs("div",{className:"game-mobile-controls",children:[v.jsx("div",{className:"dpad-row",children:v.jsx("button",{className:"dpad-btn",onPointerDown:()=>d("UP"),children:""})}),v.jsxs("div",{className:"dpad-row",children:[v.jsx("button",{className:"dpad-btn",onPointerDown:()=>d("LEFT"),children:""}),v.jsx("button",{className:"dpad-btn",onPointerDown:()=>d("DOWN"),children:""}),v.jsx("button",{className:"dpad-btn",onPointerDown:()=>d("RIGHT"),children:""})]})]})]})},Uu=[{url:"/audio/krab-krab-krab.mp3",artist:"44LEX",title:"KRAB KRAB KRAB"}],a_=()=>{const s=$.useRef(null),[n,l]=$.useState(0),[r,c]=$.useState(!1),[h,d]=$.useState(0),[g,m]=$.useState(0),[y,b]=$.useState(.7),[S,A]=$.useState(!1),O=Uu[n];$.useEffect(()=>{const R=s.current;if(!R)return;const B=()=>d(R.currentTime),P=()=>m(R.duration||0),de=()=>{n<Uu.length-1?l(Se=>Se+1):(l(0),c(!1))};return R.addEventListener("timeupdate",B),R.addEventListener("loadedmetadata",P),R.addEventListener("ended",de),()=>{R.removeEventListener("timeupdate",B),R.removeEventListener("loadedmetadata",P),R.removeEventListener("ended",de)}},[n]),$.useEffect(()=>{const R=s.current;R&&(R.load(),r&&R.play().catch(console.error))},[n]),$.useEffect(()=>{const R=s.current;R&&(R.volume=S?0:y)},[y,S]);const x=()=>{const R=s.current;R&&(r?R.pause():R.play().catch(console.error),c(!r))},N=()=>{h>3||n===0?s.current&&(s.current.currentTime=0):l(R=>R-1)},z=()=>{n<Uu.length-1?l(R=>R+1):l(0)},k=R=>{const B=s.current;B&&(B.currentTime=Number(R.target.value))},H=R=>{b(Number(R.target.value)),S&&A(!1)},T=()=>{A(!S)},V=R=>{if(!isFinite(R))return"0:00";const B=Math.floor(R/60),P=Math.floor(R%60);return`${B}:${P.toString().padStart(2,"0")}`},I=g?h/g*100:0;return v.jsxs("div",{className:"audio-player",children:[v.jsx("audio",{ref:s,src:O.url,preload:"metadata"}),v.jsxs("div",{className:"player-lcd",children:[v.jsx("div",{className:"lcd-visualizer",children:[...Array(12)].map((R,B)=>v.jsx("div",{className:`viz-bar ${r?"playing":""}`,style:{animationDelay:`${B*.08}s`}},B))}),v.jsxs("div",{className:"lcd-info",children:[v.jsxs("div",{className:"lcd-track",children:[v.jsx("span",{className:"lcd-artist",children:O.artist}),v.jsx("span",{className:"lcd-title",children:O.title})]}),v.jsxs("div",{className:"lcd-time",children:[v.jsx("span",{className:"time-current",children:V(h)}),v.jsx("span",{className:"time-separator",children:"/"}),v.jsx("span",{className:"time-total",children:V(g)})]})]}),v.jsx("div",{className:"lcd-status",children:r?" PLAYING":" STOPPED"})]}),v.jsx("div",{className:"player-seek",children:v.jsxs("div",{className:"seek-track",children:[v.jsx("div",{className:"seek-fill",style:{width:`${I}%`}}),v.jsx("input",{type:"range",className:"seek-input",min:"0",max:g||100,value:h,onChange:k})]})}),v.jsxs("div",{className:"player-transport",children:[v.jsx("button",{className:"btn-98 transport-btn",onClick:N,title:"Previous / Restart",children:""}),v.jsx("button",{className:`btn-98 transport-btn play-btn ${r?"active":""}`,onClick:x,title:r?"Pause":"Play",children:r?"":""}),v.jsx("button",{className:"btn-98 transport-btn",onClick:z,title:"Next",children:""}),v.jsxs("div",{className:"volume-group",children:[v.jsx("button",{className:"btn-98 volume-btn",onClick:T,title:S?"Unmute":"Mute",children:S||y===0?"":y<.5?"":""}),v.jsxs("div",{className:"volume-track",children:[v.jsx("div",{className:"volume-fill",style:{width:`${(S?0:y)*100}%`}}),v.jsx("input",{type:"range",className:"volume-input",min:"0",max:"1",step:"0.01",value:S?0:y,onChange:H})]})]})]}),v.jsxs("div",{className:"player-footer",children:[v.jsx("span",{className:"footer-label pixel-text",children:"NOW PLAYING"}),v.jsxs("span",{className:"footer-track pixel-text",children:[O.artist," - ",O.title]})]})]})},qm=[{id:"icon-vm",label:"VM.exe",icon:"",windowId:"about"},{id:"icon-members",label:"MEMBERS",icon:"",windowId:"members"},{id:"icon-shows",label:"SHOWS",icon:"",windowId:"shows"},{id:"icon-archive",label:"ARCHIVE",icon:"",windowId:"archive"},{id:"icon-music",label:"MUSIC",icon:"",windowId:"music"},{id:"icon-game",label:"VINYL SNAKE",icon:"",windowId:"game"},{id:"icon-player",label:"PLAYER.exe",icon:"",windowId:"player"},{id:"icon-connect",label:"CONNECT",icon:"",windowId:"connect"}],n_=({windowId:s})=>{switch(s){case"about":return v.jsx(qb,{});case"members":return v.jsx($b,{});case"shows":return v.jsx(Yb,{});case"archive":return v.jsx(Kb,{});case"music":return v.jsx(Ib,{});case"connect":return v.jsx(Xb,{});case"player":return v.jsx(a_,{});case"game":return v.jsx(t_,{});case"admin":return v.jsx(Zb,{});default:return v.jsx("div",{className:"window-content-padded",children:"Unknown window"})}},i_=()=>{const{windows:s,isMobile:n,openWindow:l,closeWindow:r,minimizeWindow:c,restoreWindow:h,maximizeWindow:d,focusWindow:g,updatePosition:m,updateSize:y}=ep(),[b,S]=$.useState(!1),[A,O]=$.useState(null);$.useEffect(()=>{const T=()=>{l("player")};return window.addEventListener("openPlayerWindow",T),()=>{window.removeEventListener("openPlayerWindow",T)}},[l]),$.useEffect(()=>{const T=V=>{V.ctrlKey&&V.shiftKey&&V.key.toLowerCase()==="a"&&(V.preventDefault(),l("admin"))};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[l]);const x=T=>{T.target===T.currentTarget&&(O(null),S(!1))},N=T=>{l(T),S(!1)},z=T=>{const V=s.find(I=>I.id===T);V?.isMinimized?h(T):V?.isOpen?c(T):l(T)},k=qm.map(T=>({id:T.id,label:T.label,icon:T.icon,onClick:()=>N(T.windowId)})),H=s.find(T=>T.isOpen&&!T.isMinimized);return v.jsx(Mb,{children:v.jsx(Bb,{children:v.jsxs("div",{className:`desktop ${n?"mobile":""}`,onClick:x,children:[v.jsx("div",{className:"desktop-wallpaper",children:v.jsxs("div",{className:"wallpaper-logo",children:[v.jsx("img",{src:"/vm-logo.png",alt:"Vranov Music",className:"wallpaper-logo-image"}),v.jsx("span",{className:"wallpaper-tagline",children:"MIDDLE EUROPE CONTINENT ."})]})}),v.jsx("div",{className:"desktop-icons",children:qm.map((T,V)=>v.jsx(Iy,{id:T.id,label:T.label,icon:T.icon,isSelected:A===T.id,onClick:()=>n?N(T.windowId):O(T.id),onDoubleClick:()=>N(T.windowId),isMobile:n,index:V},T.id))}),s.map(T=>v.jsx(Py,{window:T,onClose:()=>r(T.id),onMinimize:()=>c(T.id),onMaximize:()=>d(T.id),onFocus:()=>g(T.id),onPositionChange:V=>m(T.id,V),onSizeChange:V=>y(T.id,V),isMobile:n,children:v.jsx(n_,{windowId:T.id})},T.id)),v.jsx(Xy,{isOpen:b,onClose:()=>S(!1),items:k,isMobile:n}),v.jsx(Ky,{windows:s,onWindowClick:z,onStartClick:()=>S(!b),onAdminClick:()=>l("admin"),isStartMenuOpen:b,activeWindowId:H?.id,isMobile:n}),v.jsx("div",{className:"crt-overlay"})]})})})};function s_(){return v.jsx("div",{className:"app no-select",children:v.jsx(i_,{})})}Yy.createRoot(document.getElementById("root")).render(v.jsx($.StrictMode,{children:v.jsx(s_,{})}));
